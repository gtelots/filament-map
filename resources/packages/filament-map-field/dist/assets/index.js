var xL=Object.defineProperty;var ML=(e,t,r)=>t in e?xL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ke=(e,t,r)=>ML(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();var Bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var wv={exports:{}},Uh={},Lv={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),SL=Symbol.for("react.portal"),BL=Symbol.for("react.fragment"),AL=Symbol.for("react.strict_mode"),TL=Symbol.for("react.profiler"),DL=Symbol.for("react.provider"),OL=Symbol.for("react.context"),FL=Symbol.for("react.forward_ref"),RL=Symbol.for("react.suspense"),IL=Symbol.for("react.memo"),zL=Symbol.for("react.lazy"),Ag=Symbol.iterator;function NL(e){return e===null||typeof e!="object"?null:(e=Ag&&e[Ag]||e["@@iterator"],typeof e=="function"?e:null)}var Cv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bv=Object.assign,Ev={};function ts(e,t,r){this.props=e,this.context=t,this.refs=Ev,this.updater=r||Cv}ts.prototype.isReactComponent={};ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kv(){}kv.prototype=ts.prototype;function Am(e,t,r){this.props=e,this.context=t,this.refs=Ev,this.updater=r||Cv}var Tm=Am.prototype=new kv;Tm.constructor=Am;bv(Tm,ts.prototype);Tm.isPureReactComponent=!0;var Tg=Array.isArray,xv=Object.prototype.hasOwnProperty,Dm={current:null},Mv={key:!0,ref:!0,__self:!0,__source:!0};function Pv(e,t,r){var i,s={},l=null,p=null;if(t!=null)for(i in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(l=""+t.key),t)xv.call(t,i)&&!Mv.hasOwnProperty(i)&&(s[i]=t[i]);var _=arguments.length-2;if(_===1)s.children=r;else if(1<_){for(var y=Array(_),P=0;P<_;P++)y[P]=arguments[P+2];s.children=y}if(e&&e.defaultProps)for(i in _=e.defaultProps,_)s[i]===void 0&&(s[i]=_[i]);return{$$typeof:tl,type:e,key:l,ref:p,props:s,_owner:Dm.current}}function $L(e,t){return{$$typeof:tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Om(e){return typeof e=="object"&&e!==null&&e.$$typeof===tl}function GL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dg=/\/+/g;function gp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GL(""+e.key):t.toString(36)}function Sc(e,t,r,i,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(l){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case tl:case SL:p=!0}}if(p)return p=e,s=s(p),e=i===""?"."+gp(p,0):i,Tg(s)?(r="",e!=null&&(r=e.replace(Dg,"$&/")+"/"),Sc(s,t,r,"",function(P){return P})):s!=null&&(Om(s)&&(s=$L(s,r+(!s.key||p&&p.key===s.key?"":(""+s.key).replace(Dg,"$&/")+"/")+e)),t.push(s)),1;if(p=0,i=i===""?".":i+":",Tg(e))for(var _=0;_<e.length;_++){l=e[_];var y=i+gp(l,_);p+=Sc(l,t,r,y,s)}else if(y=NL(e),typeof y=="function")for(e=y.call(e),_=0;!(l=e.next()).done;)l=l.value,y=i+gp(l,_++),p+=Sc(l,t,r,y,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function lc(e,t,r){if(e==null)return e;var i=[],s=0;return Sc(e,i,"","",function(l){return t.call(r,l,s++)}),i}function jL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},Bc={transition:null},UL={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:Dm};function Sv(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:lc,forEach:function(e,t,r){lc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return lc(e,function(){t++}),t},toArray:function(e){return lc(e,function(t){return t})||[]},only:function(e){if(!Om(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=ts;ze.Fragment=BL;ze.Profiler=TL;ze.PureComponent=Am;ze.StrictMode=AL;ze.Suspense=RL;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UL;ze.act=Sv;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=bv({},e.props),s=e.key,l=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,p=Dm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(y in t)xv.call(t,y)&&!Mv.hasOwnProperty(y)&&(i[y]=t[y]===void 0&&_!==void 0?_[y]:t[y])}var y=arguments.length-2;if(y===1)i.children=r;else if(1<y){_=Array(y);for(var P=0;P<y;P++)_[P]=arguments[P+2];i.children=_}return{$$typeof:tl,type:e.type,key:s,ref:l,props:i,_owner:p}};ze.createContext=function(e){return e={$$typeof:OL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DL,_context:e},e.Consumer=e};ze.createElement=Pv;ze.createFactory=function(e){var t=Pv.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:FL,render:e}};ze.isValidElement=Om;ze.lazy=function(e){return{$$typeof:zL,_payload:{_status:-1,_result:e},_init:jL}};ze.memo=function(e,t){return{$$typeof:IL,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=Bc.transition;Bc.transition={};try{e()}finally{Bc.transition=t}};ze.unstable_act=Sv;ze.useCallback=function(e,t){return pr.current.useCallback(e,t)};ze.useContext=function(e){return pr.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};ze.useEffect=function(e,t){return pr.current.useEffect(e,t)};ze.useId=function(){return pr.current.useId()};ze.useImperativeHandle=function(e,t,r){return pr.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return pr.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return pr.current.useReducer(e,t,r)};ze.useRef=function(e){return pr.current.useRef(e)};ze.useState=function(e){return pr.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return pr.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return pr.current.useTransition()};ze.version="18.3.1";Lv.exports=ze;var Ae=Lv.exports;const Yc=Bm(Ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZL=Ae,VL=Symbol.for("react.element"),HL=Symbol.for("react.fragment"),WL=Object.prototype.hasOwnProperty,KL=ZL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qL={key:!0,ref:!0,__self:!0,__source:!0};function Bv(e,t,r){var i,s={},l=null,p=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(p=t.ref);for(i in t)WL.call(t,i)&&!qL.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:VL,type:e,key:l,ref:p,props:s,_owner:KL.current}}Uh.Fragment=HL;Uh.jsx=Bv;Uh.jsxs=Bv;wv.exports=Uh;var cn=wv.exports,Av={exports:{}},Nr={},Tv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ue,Se){var pe=ue.length;ue.push(Se);e:for(;0<pe;){var Be=pe-1>>>1,Ge=ue[Be];if(0<s(Ge,Se))ue[Be]=Se,ue[pe]=Ge,pe=Be;else break e}}function r(ue){return ue.length===0?null:ue[0]}function i(ue){if(ue.length===0)return null;var Se=ue[0],pe=ue.pop();if(pe!==Se){ue[0]=pe;e:for(var Be=0,Ge=ue.length,Mt=Ge>>>1;Be<Mt;){var qe=2*(Be+1)-1,Ve=ue[qe],De=qe+1,Xt=ue[De];if(0>s(Ve,pe))De<Ge&&0>s(Xt,Ve)?(ue[Be]=Xt,ue[De]=pe,Be=De):(ue[Be]=Ve,ue[qe]=pe,Be=qe);else if(De<Ge&&0>s(Xt,pe))ue[Be]=Xt,ue[De]=pe,Be=De;else break e}}return Se}function s(ue,Se){var pe=ue.sortIndex-Se.sortIndex;return pe!==0?pe:ue.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var p=Date,_=p.now();e.unstable_now=function(){return p.now()-_}}var y=[],P=[],x=1,A=null,E=3,I=!1,J=!1,W=!1,ye=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ue){for(var Se=r(P);Se!==null;){if(Se.callback===null)i(P);else if(Se.startTime<=ue)i(P),Se.sortIndex=Se.expirationTime,t(y,Se);else break;Se=r(P)}}function ae(ue){if(W=!1,G(ue),!J)if(r(y)!==null)J=!0,Lt(se);else{var Se=r(P);Se!==null&&tn(ae,Se.startTime-ue)}}function se(ue,Se){J=!1,W&&(W=!1,j(ve),ve=-1),I=!0;var pe=E;try{for(G(Se),A=r(y);A!==null&&(!(A.expirationTime>Se)||ue&&!Ne());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,E=A.priorityLevel;var Ge=Be(A.expirationTime<=Se);Se=e.unstable_now(),typeof Ge=="function"?A.callback=Ge:A===r(y)&&i(y),G(Se)}else i(y);A=r(y)}if(A!==null)var Mt=!0;else{var qe=r(P);qe!==null&&tn(ae,qe.startTime-Se),Mt=!1}return Mt}finally{A=null,E=pe,I=!1}}var de=!1,ge=null,ve=-1,Ze=5,Pe=-1;function Ne(){return!(e.unstable_now()-Pe<Ze)}function ut(){if(ge!==null){var ue=e.unstable_now();Pe=ue;var Se=!0;try{Se=ge(!0,ue)}finally{Se?Yt():(de=!1,ge=null)}}else de=!1}var Yt;if(typeof $=="function")Yt=function(){$(ut)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,io=Dt.port2;Dt.port1.onmessage=ut,Yt=function(){io.postMessage(null)}}else Yt=function(){ye(ut,0)};function Lt(ue){ge=ue,de||(de=!0,Yt())}function tn(ue,Se){ve=ye(function(){ue(e.unstable_now())},Se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){J||I||(J=!0,Lt(se))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(y)},e.unstable_next=function(ue){switch(E){case 1:case 2:case 3:var Se=3;break;default:Se=E}var pe=E;E=Se;try{return ue()}finally{E=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,Se){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var pe=E;E=ue;try{return Se()}finally{E=pe}},e.unstable_scheduleCallback=function(ue,Se,pe){var Be=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,ue){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,ue={id:x++,callback:Se,priorityLevel:ue,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>Be?(ue.sortIndex=pe,t(P,ue),r(y)===null&&ue===r(P)&&(W?(j(ve),ve=-1):W=!0,tn(ae,pe-Be))):(ue.sortIndex=Ge,t(y,ue),J||I||(J=!0,Lt(se))),ue},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(ue){var Se=E;return function(){var pe=E;E=Se;try{return ue.apply(this,arguments)}finally{E=pe}}}})(Dv);Tv.exports=Dv;var JL=Tv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YL=Ae,zr=JL;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ov=new Set,Fu={};function zo(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(Fu[e]=t,e=0;e<t.length;e++)Ov.add(t[e])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=Object.prototype.hasOwnProperty,XL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Og={},Fg={};function QL(e){return sd.call(Fg,e)?!0:sd.call(Og,e)?!1:XL.test(e)?Fg[e]=!0:(Og[e]=!0,!1)}function eC(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tC(e,t,r,i){if(t===null||typeof t>"u"||eC(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dr(e,t,r,i,s,l,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=p}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fm=/[\-:]([a-z])/g;function Rm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fm,Rm);Ht[t]=new dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fm,Rm);Ht[t]=new dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fm,Rm);Ht[t]=new dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new dr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Im(e,t,r,i){var s=Ht.hasOwnProperty(t)?Ht[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tC(t,r,s,i)&&(r=null),i||s===null?QL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var di=YL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cc=Symbol.for("react.element"),Ca=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),zm=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),Nm=Symbol.for("react.forward_ref"),ld=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),$m=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),Iv=Symbol.for("react.offscreen"),Rg=Symbol.iterator;function Xs(e){return e===null||typeof e!="object"?null:(e=Rg&&e[Rg]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,yp;function lu(e){if(yp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yp=t&&t[1]||""}return`
`+yp+e}var _p=!1;function vp(e,t){if(!e||_p)return"";_p=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var i=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){i=P}e.call(t.prototype)}else{try{throw Error()}catch(P){i=P}e()}}catch(P){if(P&&i&&typeof P.stack=="string"){for(var s=P.stack.split(`
`),l=i.stack.split(`
`),p=s.length-1,_=l.length-1;1<=p&&0<=_&&s[p]!==l[_];)_--;for(;1<=p&&0<=_;p--,_--)if(s[p]!==l[_]){if(p!==1||_!==1)do if(p--,_--,0>_||s[p]!==l[_]){var y=`
`+s[p].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=p&&0<=_);break}}}finally{_p=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lu(e):""}function rC(e){switch(e.tag){case 5:return lu(e.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return e=vp(e.type,!1),e;case 11:return e=vp(e.type.render,!1),e;case 1:return e=vp(e.type,!0),e;default:return""}}function hd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ba:return"Fragment";case Ca:return"Portal";case ud:return"Profiler";case zm:return"StrictMode";case ld:return"Suspense";case cd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rv:return(e.displayName||"Context")+".Consumer";case Fv:return(e._context.displayName||"Context")+".Provider";case Nm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $m:return t=e.displayName||null,t!==null?t:hd(e.type)||"Memo";case Bi:t=e._payload,e=e._init;try{return hd(e(t))}catch{}}return null}function nC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hd(t);case 8:return t===zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iC(e){var t=zv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){i=""+p,l.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hc(e){e._valueTracker||(e._valueTracker=iC(e))}function Nv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=zv(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fd(e,t){var r=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ig(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Wi(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $v(e,t){t=t.checked,t!=null&&Im(e,"checked",t,!1)}function pd(e,t){$v(e,t);var r=Wi(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dd(e,t.type,r):t.hasOwnProperty("defaultValue")&&dd(e,t.type,Wi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dd(e,t,r){(t!=="number"||Xc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cu=Array.isArray;function Ra(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Wi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function md(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ng(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(cu(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wi(r)}}function Gv(e,t){var r=Wi(t.value),i=Wi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function $g(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fc,Uv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ru(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oC=["Webkit","ms","Moz","O"];Object.keys(Cu).forEach(function(e){oC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cu[t]=Cu[e]})});function Zv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cu.hasOwnProperty(e)&&Cu[e]?(""+t).trim():t+"px"}function Vv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Zv(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var aC=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(e,t){if(t){if(aC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function _d(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function Gm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wd=null,Ia=null,za=null;function Gg(e){if(e=il(e)){if(typeof wd!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Kh(t),wd(e.stateNode,e.type,t))}}function Hv(e){Ia?za?za.push(e):za=[e]:Ia=e}function Wv(){if(Ia){var e=Ia,t=za;if(za=Ia=null,Gg(e),t)for(e=0;e<t.length;e++)Gg(t[e])}}function Kv(e,t){return e(t)}function qv(){}var wp=!1;function Jv(e,t,r){if(wp)return e(t,r);wp=!0;try{return Kv(e,t,r)}finally{wp=!1,(Ia!==null||za!==null)&&(qv(),Wv())}}function Iu(e,t){var r=e.stateNode;if(r===null)return null;var i=Kh(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var Ld=!1;if(ci)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Ld=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Ld=!1}function sC(e,t,r,i,s,l,p,_,y){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(x){this.onError(x)}}var bu=!1,Qc=null,eh=!1,Cd=null,uC={onError:function(e){bu=!0,Qc=e}};function lC(e,t,r,i,s,l,p,_,y){bu=!1,Qc=null,sC.apply(uC,arguments)}function cC(e,t,r,i,s,l,p,_,y){if(lC.apply(this,arguments),bu){if(bu){var P=Qc;bu=!1,Qc=null}else throw Error(fe(198));eh||(eh=!0,Cd=P)}}function No(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jg(e){if(No(e)!==e)throw Error(fe(188))}function hC(e){var t=e.alternate;if(!t){if(t=No(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return jg(s),e;if(l===i)return jg(s),t;l=l.sibling}throw Error(fe(188))}if(r.return!==i.return)r=s,i=l;else{for(var p=!1,_=s.child;_;){if(_===r){p=!0,r=s,i=l;break}if(_===i){p=!0,i=s,r=l;break}_=_.sibling}if(!p){for(_=l.child;_;){if(_===r){p=!0,r=l,i=s;break}if(_===i){p=!0,i=l,r=s;break}_=_.sibling}if(!p)throw Error(fe(189))}}if(r.alternate!==i)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function Xv(e){return e=hC(e),e!==null?Qv(e):null}function Qv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qv(e);if(t!==null)return t;e=e.sibling}return null}var e1=zr.unstable_scheduleCallback,Ug=zr.unstable_cancelCallback,fC=zr.unstable_shouldYield,pC=zr.unstable_requestPaint,St=zr.unstable_now,dC=zr.unstable_getCurrentPriorityLevel,jm=zr.unstable_ImmediatePriority,t1=zr.unstable_UserBlockingPriority,th=zr.unstable_NormalPriority,mC=zr.unstable_LowPriority,r1=zr.unstable_IdlePriority,Zh=null,An=null;function gC(e){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Zh,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:vC,yC=Math.log,_C=Math.LN2;function vC(e){return e>>>=0,e===0?32:31-(yC(e)/_C|0)|0}var pc=64,dc=4194304;function hu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rh(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes,p=r&268435455;if(p!==0){var _=p&~s;_!==0?i=hu(_):(l&=p,l!==0&&(i=hu(l)))}else p=r&~s,p!==0?i=hu(p):l!==0&&(i=hu(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-dn(t),s=1<<r,i|=e[r],t&=~s;return i}function wC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var p=31-dn(l),_=1<<p,y=s[p];y===-1?(!(_&r)||_&i)&&(s[p]=wC(_,t)):y<=t&&(e.expiredLanes|=_),l&=~_}}function bd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function n1(){var e=pc;return pc<<=1,!(pc&4194240)&&(pc=64),e}function Lp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=r}function CC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-dn(r),l=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~l}}function Um(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-dn(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var Ye=0;function i1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o1,Zm,a1,s1,u1,Ed=!1,mc=[],zi=null,Ni=null,$i=null,zu=new Map,Nu=new Map,Di=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zg(e,t){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":zu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(t.pointerId)}}function eu(e,t,r,i,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:l,targetContainers:[s]},t!==null&&(t=il(t),t!==null&&Zm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function EC(e,t,r,i,s){switch(t){case"focusin":return zi=eu(zi,e,t,r,i,s),!0;case"dragenter":return Ni=eu(Ni,e,t,r,i,s),!0;case"mouseover":return $i=eu($i,e,t,r,i,s),!0;case"pointerover":var l=s.pointerId;return zu.set(l,eu(zu.get(l)||null,e,t,r,i,s)),!0;case"gotpointercapture":return l=s.pointerId,Nu.set(l,eu(Nu.get(l)||null,e,t,r,i,s)),!0}return!1}function l1(e){var t=ko(e.target);if(t!==null){var r=No(t);if(r!==null){if(t=r.tag,t===13){if(t=Yv(r),t!==null){e.blockedOn=t,u1(e.priority,function(){a1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);vd=i,r.target.dispatchEvent(i),vd=null}else return t=il(r),t!==null&&Zm(t),e.blockedOn=r,!1;t.shift()}return!0}function Vg(e,t,r){Ac(e)&&r.delete(t)}function kC(){Ed=!1,zi!==null&&Ac(zi)&&(zi=null),Ni!==null&&Ac(Ni)&&(Ni=null),$i!==null&&Ac($i)&&($i=null),zu.forEach(Vg),Nu.forEach(Vg)}function tu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ed||(Ed=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,kC)))}function $u(e){function t(s){return tu(s,e)}if(0<mc.length){tu(mc[0],e);for(var r=1;r<mc.length;r++){var i=mc[r];i.blockedOn===e&&(i.blockedOn=null)}}for(zi!==null&&tu(zi,e),Ni!==null&&tu(Ni,e),$i!==null&&tu($i,e),zu.forEach(t),Nu.forEach(t),r=0;r<Di.length;r++)i=Di[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Di.length&&(r=Di[0],r.blockedOn===null);)l1(r),r.blockedOn===null&&Di.shift()}var Na=di.ReactCurrentBatchConfig,nh=!0;function xC(e,t,r,i){var s=Ye,l=Na.transition;Na.transition=null;try{Ye=1,Vm(e,t,r,i)}finally{Ye=s,Na.transition=l}}function MC(e,t,r,i){var s=Ye,l=Na.transition;Na.transition=null;try{Ye=4,Vm(e,t,r,i)}finally{Ye=s,Na.transition=l}}function Vm(e,t,r,i){if(nh){var s=kd(e,t,r,i);if(s===null)Ap(e,t,i,ih,r),Zg(e,i);else if(EC(s,e,t,r,i))i.stopPropagation();else if(Zg(e,i),t&4&&-1<bC.indexOf(e)){for(;s!==null;){var l=il(s);if(l!==null&&o1(l),l=kd(e,t,r,i),l===null&&Ap(e,t,i,ih,r),l===s)break;s=l}s!==null&&i.stopPropagation()}else Ap(e,t,i,null,r)}}var ih=null;function kd(e,t,r,i){if(ih=null,e=Gm(i),e=ko(e),e!==null)if(t=No(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ih=e,null}function c1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dC()){case jm:return 1;case t1:return 4;case th:case mC:return 16;case r1:return 536870912;default:return 16}default:return 16}}var Fi=null,Hm=null,Tc=null;function h1(){if(Tc)return Tc;var e,t=Hm,r=t.length,i,s="value"in Fi?Fi.value:Fi.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===s[l-i];i++);return Tc=s.slice(e,1<i?1-i:void 0)}function Dc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gc(){return!0}function Hg(){return!1}function $r(e){function t(r,i,s,l,p){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=l,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(l):l[_]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?gc:Hg,this.isPropagationStopped=Hg,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),t}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wm=$r(rs),nl=wt({},rs,{view:0,detail:0}),PC=$r(nl),Cp,bp,ru,Vh=wt({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ru&&(ru&&e.type==="mousemove"?(Cp=e.screenX-ru.screenX,bp=e.screenY-ru.screenY):bp=Cp=0,ru=e),Cp)},movementY:function(e){return"movementY"in e?e.movementY:bp}}),Wg=$r(Vh),SC=wt({},Vh,{dataTransfer:0}),BC=$r(SC),AC=wt({},nl,{relatedTarget:0}),Ep=$r(AC),TC=wt({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),DC=$r(TC),OC=wt({},rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FC=$r(OC),RC=wt({},rs,{data:0}),Kg=$r(RC),IC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $C(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NC[e])?!!t[e]:!1}function Km(){return $C}var GC=wt({},nl,{key:function(e){if(e.key){var t=IC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(e){return e.type==="keypress"?Dc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jC=$r(GC),UC=wt({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qg=$r(UC),ZC=wt({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),VC=$r(ZC),HC=wt({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),WC=$r(HC),KC=wt({},Vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qC=$r(KC),JC=[9,13,27,32],qm=ci&&"CompositionEvent"in window,Eu=null;ci&&"documentMode"in document&&(Eu=document.documentMode);var YC=ci&&"TextEvent"in window&&!Eu,f1=ci&&(!qm||Eu&&8<Eu&&11>=Eu),Jg=" ",Yg=!1;function p1(e,t){switch(e){case"keyup":return JC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function XC(e,t){switch(e){case"compositionend":return d1(t);case"keypress":return t.which!==32?null:(Yg=!0,Jg);case"textInput":return e=t.data,e===Jg&&Yg?null:e;default:return null}}function QC(e,t){if(Ea)return e==="compositionend"||!qm&&p1(e,t)?(e=h1(),Tc=Hm=Fi=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return f1&&t.locale!=="ko"?null:t.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eb[e.type]:t==="textarea"}function m1(e,t,r,i){Hv(i),t=oh(t,"onChange"),0<t.length&&(r=new Wm("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ku=null,Gu=null;function tb(e){x1(e,0)}function Hh(e){var t=Ma(e);if(Nv(t))return e}function rb(e,t){if(e==="change")return t}var g1=!1;if(ci){var kp;if(ci){var xp="oninput"in document;if(!xp){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),xp=typeof Qg.oninput=="function"}kp=xp}else kp=!1;g1=kp&&(!document.documentMode||9<document.documentMode)}function ey(){ku&&(ku.detachEvent("onpropertychange",y1),Gu=ku=null)}function y1(e){if(e.propertyName==="value"&&Hh(Gu)){var t=[];m1(t,Gu,e,Gm(e)),Jv(tb,t)}}function nb(e,t,r){e==="focusin"?(ey(),ku=t,Gu=r,ku.attachEvent("onpropertychange",y1)):e==="focusout"&&ey()}function ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hh(Gu)}function ob(e,t){if(e==="click")return Hh(t)}function ab(e,t){if(e==="input"||e==="change")return Hh(t)}function sb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:sb;function ju(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!sd.call(t,s)||!yn(e[s],t[s]))return!1}return!0}function ty(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ry(e,t){var r=ty(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ty(r)}}function _1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v1(){for(var e=window,t=Xc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xc(e.document)}return t}function Jm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ub(e){var t=v1(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_1(r.ownerDocument.documentElement,r)){if(i!==null&&Jm(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(i.start,s);i=i.end===void 0?l:Math.min(i.end,s),!e.extend&&l>i&&(s=i,i=l,l=s),s=ry(r,l);var p=ry(r,i);s&&p&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lb=ci&&"documentMode"in document&&11>=document.documentMode,ka=null,xd=null,xu=null,Md=!1;function ny(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Md||ka==null||ka!==Xc(i)||(i=ka,"selectionStart"in i&&Jm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),xu&&ju(xu,i)||(xu=i,i=oh(xd,"onSelect"),0<i.length&&(t=new Wm("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=ka)))}function yc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xa={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Mp={},w1={};ci&&(w1=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Wh(e){if(Mp[e])return Mp[e];if(!xa[e])return e;var t=xa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in w1)return Mp[e]=t[r];return e}var L1=Wh("animationend"),C1=Wh("animationiteration"),b1=Wh("animationstart"),E1=Wh("transitionend"),k1=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(e,t){k1.set(e,t),zo(t,[e])}for(var Pp=0;Pp<iy.length;Pp++){var Sp=iy[Pp],cb=Sp.toLowerCase(),hb=Sp[0].toUpperCase()+Sp.slice(1);qi(cb,"on"+hb)}qi(L1,"onAnimationEnd");qi(C1,"onAnimationIteration");qi(b1,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(E1,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function oy(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,cC(i,t,void 0,e),e.currentTarget=null}function x1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var p=i.length-1;0<=p;p--){var _=i[p],y=_.instance,P=_.currentTarget;if(_=_.listener,y!==l&&s.isPropagationStopped())break e;oy(s,_,P),l=y}else for(p=0;p<i.length;p++){if(_=i[p],y=_.instance,P=_.currentTarget,_=_.listener,y!==l&&s.isPropagationStopped())break e;oy(s,_,P),l=y}}}if(eh)throw e=Cd,eh=!1,Cd=null,e}function ft(e,t){var r=t[Td];r===void 0&&(r=t[Td]=new Set);var i=e+"__bubble";r.has(i)||(M1(t,e,2,!1),r.add(i))}function Bp(e,t,r){var i=0;t&&(i|=4),M1(r,e,i,t)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[_c]){e[_c]=!0,Ov.forEach(function(r){r!=="selectionchange"&&(fb.has(r)||Bp(r,!1,e),Bp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_c]||(t[_c]=!0,Bp("selectionchange",!1,t))}}function M1(e,t,r,i){switch(c1(t)){case 1:var s=xC;break;case 4:s=MC;break;default:s=Vm}r=s.bind(null,t,r,e),s=void 0,!Ld||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ap(e,t,r,i,s){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var _=i.stateNode.containerInfo;if(_===s||_.nodeType===8&&_.parentNode===s)break;if(p===4)for(p=i.return;p!==null;){var y=p.tag;if((y===3||y===4)&&(y=p.stateNode.containerInfo,y===s||y.nodeType===8&&y.parentNode===s))return;p=p.return}for(;_!==null;){if(p=ko(_),p===null)return;if(y=p.tag,y===5||y===6){i=l=p;continue e}_=_.parentNode}}i=i.return}Jv(function(){var P=l,x=Gm(r),A=[];e:{var E=k1.get(e);if(E!==void 0){var I=Wm,J=e;switch(e){case"keypress":if(Dc(r)===0)break e;case"keydown":case"keyup":I=jC;break;case"focusin":J="focus",I=Ep;break;case"focusout":J="blur",I=Ep;break;case"beforeblur":case"afterblur":I=Ep;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=BC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=VC;break;case L1:case C1:case b1:I=DC;break;case E1:I=WC;break;case"scroll":I=PC;break;case"wheel":I=qC;break;case"copy":case"cut":case"paste":I=FC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=qg}var W=(t&4)!==0,ye=!W&&e==="scroll",j=W?E!==null?E+"Capture":null:E;W=[];for(var $=P,G;$!==null;){G=$;var ae=G.stateNode;if(G.tag===5&&ae!==null&&(G=ae,j!==null&&(ae=Iu($,j),ae!=null&&W.push(Zu($,ae,G)))),ye)break;$=$.return}0<W.length&&(E=new I(E,J,null,r,x),A.push({event:E,listeners:W}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",E&&r!==vd&&(J=r.relatedTarget||r.fromElement)&&(ko(J)||J[hi]))break e;if((I||E)&&(E=x.window===x?x:(E=x.ownerDocument)?E.defaultView||E.parentWindow:window,I?(J=r.relatedTarget||r.toElement,I=P,J=J?ko(J):null,J!==null&&(ye=No(J),J!==ye||J.tag!==5&&J.tag!==6)&&(J=null)):(I=null,J=P),I!==J)){if(W=Wg,ae="onMouseLeave",j="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(W=qg,ae="onPointerLeave",j="onPointerEnter",$="pointer"),ye=I==null?E:Ma(I),G=J==null?E:Ma(J),E=new W(ae,$+"leave",I,r,x),E.target=ye,E.relatedTarget=G,ae=null,ko(x)===P&&(W=new W(j,$+"enter",J,r,x),W.target=G,W.relatedTarget=ye,ae=W),ye=ae,I&&J)t:{for(W=I,j=J,$=0,G=W;G;G=_a(G))$++;for(G=0,ae=j;ae;ae=_a(ae))G++;for(;0<$-G;)W=_a(W),$--;for(;0<G-$;)j=_a(j),G--;for(;$--;){if(W===j||j!==null&&W===j.alternate)break t;W=_a(W),j=_a(j)}W=null}else W=null;I!==null&&ay(A,E,I,W,!1),J!==null&&ye!==null&&ay(A,ye,J,W,!0)}}e:{if(E=P?Ma(P):window,I=E.nodeName&&E.nodeName.toLowerCase(),I==="select"||I==="input"&&E.type==="file")var se=rb;else if(Xg(E))if(g1)se=ab;else{se=ib;var de=nb}else(I=E.nodeName)&&I.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(se=ob);if(se&&(se=se(e,P))){m1(A,se,r,x);break e}de&&de(e,E,P),e==="focusout"&&(de=E._wrapperState)&&de.controlled&&E.type==="number"&&dd(E,"number",E.value)}switch(de=P?Ma(P):window,e){case"focusin":(Xg(de)||de.contentEditable==="true")&&(ka=de,xd=P,xu=null);break;case"focusout":xu=xd=ka=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,ny(A,r,x);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":ny(A,r,x)}var ge;if(qm)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ea?p1(e,r)&&(ve="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ve="onCompositionStart");ve&&(f1&&r.locale!=="ko"&&(Ea||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ea&&(ge=h1()):(Fi=x,Hm="value"in Fi?Fi.value:Fi.textContent,Ea=!0)),de=oh(P,ve),0<de.length&&(ve=new Kg(ve,e,null,r,x),A.push({event:ve,listeners:de}),ge?ve.data=ge:(ge=d1(r),ge!==null&&(ve.data=ge)))),(ge=YC?XC(e,r):QC(e,r))&&(P=oh(P,"onBeforeInput"),0<P.length&&(x=new Kg("onBeforeInput","beforeinput",null,r,x),A.push({event:x,listeners:P}),x.data=ge))}x1(A,t)})}function Zu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oh(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Iu(e,r),l!=null&&i.unshift(Zu(e,l,s)),l=Iu(e,t),l!=null&&i.push(Zu(e,l,s))),e=e.return}return i}function _a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ay(e,t,r,i,s){for(var l=t._reactName,p=[];r!==null&&r!==i;){var _=r,y=_.alternate,P=_.stateNode;if(y!==null&&y===i)break;_.tag===5&&P!==null&&(_=P,s?(y=Iu(r,l),y!=null&&p.unshift(Zu(r,y,_))):s||(y=Iu(r,l),y!=null&&p.push(Zu(r,y,_)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var pb=/\r\n?/g,db=/\u0000|\uFFFD/g;function sy(e){return(typeof e=="string"?e:""+e).replace(pb,`
`).replace(db,"")}function vc(e,t,r){if(t=sy(t),sy(e)!==t&&r)throw Error(fe(425))}function ah(){}var Pd=null,Sd=null;function Bd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ad=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(e){return uy.resolve(null).then(e).catch(yb)}:Ad;function yb(e){setTimeout(function(){throw e})}function Tp(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),$u(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);$u(t)}function Gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ly(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Sn="__reactFiber$"+ns,Vu="__reactProps$"+ns,hi="__reactContainer$"+ns,Td="__reactEvents$"+ns,_b="__reactListeners$"+ns,vb="__reactHandles$"+ns;function ko(e){var t=e[Sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hi]||r[Sn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ly(e);e!==null;){if(r=e[Sn])return r;e=ly(e)}return t}e=r,r=e.parentNode}return null}function il(e){return e=e[Sn]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ma(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Kh(e){return e[Vu]||null}var Dd=[],Pa=-1;function Ji(e){return{current:e}}function pt(e){0>Pa||(e.current=Dd[Pa],Dd[Pa]=null,Pa--)}function ct(e,t){Pa++,Dd[Pa]=e.current,e.current=t}var Ki={},ar=Ji(Ki),Cr=Ji(!1),To=Ki;function Va(e,t){var r=e.type.contextTypes;if(!r)return Ki;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function br(e){return e=e.childContextTypes,e!=null}function sh(){pt(Cr),pt(ar)}function cy(e,t,r){if(ar.current!==Ki)throw Error(fe(168));ct(ar,t),ct(Cr,r)}function P1(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(fe(108,nC(e)||"Unknown",s));return wt({},r,i)}function uh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ki,To=ar.current,ct(ar,e),ct(Cr,Cr.current),!0}function hy(e,t,r){var i=e.stateNode;if(!i)throw Error(fe(169));r?(e=P1(e,t,To),i.__reactInternalMemoizedMergedChildContext=e,pt(Cr),pt(ar),ct(ar,e)):pt(Cr),ct(Cr,r)}var Qn=null,qh=!1,Dp=!1;function S1(e){Qn===null?Qn=[e]:Qn.push(e)}function wb(e){qh=!0,S1(e)}function Yi(){if(!Dp&&Qn!==null){Dp=!0;var e=0,t=Ye;try{var r=Qn;for(Ye=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Qn=null,qh=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(e+1)),e1(jm,Yi),s}finally{Ye=t,Dp=!1}}return null}var Sa=[],Ba=0,lh=null,ch=0,Wr=[],Kr=0,Do=null,ni=1,ii="";function bo(e,t){Sa[Ba++]=ch,Sa[Ba++]=lh,lh=e,ch=t}function B1(e,t,r){Wr[Kr++]=ni,Wr[Kr++]=ii,Wr[Kr++]=Do,Do=e;var i=ni;e=ii;var s=32-dn(i)-1;i&=~(1<<s),r+=1;var l=32-dn(t)+s;if(30<l){var p=s-s%5;l=(i&(1<<p)-1).toString(32),i>>=p,s-=p,ni=1<<32-dn(t)+s|r<<s|i,ii=l+e}else ni=1<<l|r<<s|i,ii=e}function Ym(e){e.return!==null&&(bo(e,1),B1(e,1,0))}function Xm(e){for(;e===lh;)lh=Sa[--Ba],Sa[Ba]=null,ch=Sa[--Ba],Sa[Ba]=null;for(;e===Do;)Do=Wr[--Kr],Wr[Kr]=null,ii=Wr[--Kr],Wr[Kr]=null,ni=Wr[--Kr],Wr[Kr]=null}var Ir=null,Rr=null,mt=!1,pn=null;function A1(e,t){var r=Jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ir=e,Rr=Gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ir=e,Rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Do!==null?{id:ni,overflow:ii}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ir=e,Rr=null,!0):!1;default:return!1}}function Od(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fd(e){if(mt){var t=Rr;if(t){var r=t;if(!fy(e,t)){if(Od(e))throw Error(fe(418));t=Gi(r.nextSibling);var i=Ir;t&&fy(e,t)?A1(i,r):(e.flags=e.flags&-4097|2,mt=!1,Ir=e)}}else{if(Od(e))throw Error(fe(418));e.flags=e.flags&-4097|2,mt=!1,Ir=e}}}function py(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ir=e}function wc(e){if(e!==Ir)return!1;if(!mt)return py(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bd(e.type,e.memoizedProps)),t&&(t=Rr)){if(Od(e))throw T1(),Error(fe(418));for(;t;)A1(e,t),t=Gi(t.nextSibling)}if(py(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rr=Gi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rr=null}}else Rr=Ir?Gi(e.stateNode.nextSibling):null;return!0}function T1(){for(var e=Rr;e;)e=Gi(e.nextSibling)}function Ha(){Rr=Ir=null,mt=!1}function Qm(e){pn===null?pn=[e]:pn.push(e)}var Lb=di.ReactCurrentBatchConfig;function nu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var i=r.stateNode}if(!i)throw Error(fe(147,e));var s=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(p){var _=s.refs;p===null?delete _[l]:_[l]=p},t._stringRef=l,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Lc(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dy(e){var t=e._init;return t(e._payload)}function D1(e){function t(j,$){if(e){var G=j.deletions;G===null?(j.deletions=[$],j.flags|=16):G.push($)}}function r(j,$){if(!e)return null;for(;$!==null;)t(j,$),$=$.sibling;return null}function i(j,$){for(j=new Map;$!==null;)$.key!==null?j.set($.key,$):j.set($.index,$),$=$.sibling;return j}function s(j,$){return j=Vi(j,$),j.index=0,j.sibling=null,j}function l(j,$,G){return j.index=G,e?(G=j.alternate,G!==null?(G=G.index,G<$?(j.flags|=2,$):G):(j.flags|=2,$)):(j.flags|=1048576,$)}function p(j){return e&&j.alternate===null&&(j.flags|=2),j}function _(j,$,G,ae){return $===null||$.tag!==6?($=$p(G,j.mode,ae),$.return=j,$):($=s($,G),$.return=j,$)}function y(j,$,G,ae){var se=G.type;return se===ba?x(j,$,G.props.children,ae,G.key):$!==null&&($.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Bi&&dy(se)===$.type)?(ae=s($,G.props),ae.ref=nu(j,$,G),ae.return=j,ae):(ae=$c(G.type,G.key,G.props,null,j.mode,ae),ae.ref=nu(j,$,G),ae.return=j,ae)}function P(j,$,G,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=Gp(G,j.mode,ae),$.return=j,$):($=s($,G.children||[]),$.return=j,$)}function x(j,$,G,ae,se){return $===null||$.tag!==7?($=So(G,j.mode,ae,se),$.return=j,$):($=s($,G),$.return=j,$)}function A(j,$,G){if(typeof $=="string"&&$!==""||typeof $=="number")return $=$p(""+$,j.mode,G),$.return=j,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case cc:return G=$c($.type,$.key,$.props,null,j.mode,G),G.ref=nu(j,null,$),G.return=j,G;case Ca:return $=Gp($,j.mode,G),$.return=j,$;case Bi:var ae=$._init;return A(j,ae($._payload),G)}if(cu($)||Xs($))return $=So($,j.mode,G,null),$.return=j,$;Lc(j,$)}return null}function E(j,$,G,ae){var se=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return se!==null?null:_(j,$,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case cc:return G.key===se?y(j,$,G,ae):null;case Ca:return G.key===se?P(j,$,G,ae):null;case Bi:return se=G._init,E(j,$,se(G._payload),ae)}if(cu(G)||Xs(G))return se!==null?null:x(j,$,G,ae,null);Lc(j,G)}return null}function I(j,$,G,ae,se){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return j=j.get(G)||null,_($,j,""+ae,se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case cc:return j=j.get(ae.key===null?G:ae.key)||null,y($,j,ae,se);case Ca:return j=j.get(ae.key===null?G:ae.key)||null,P($,j,ae,se);case Bi:var de=ae._init;return I(j,$,G,de(ae._payload),se)}if(cu(ae)||Xs(ae))return j=j.get(G)||null,x($,j,ae,se,null);Lc($,ae)}return null}function J(j,$,G,ae){for(var se=null,de=null,ge=$,ve=$=0,Ze=null;ge!==null&&ve<G.length;ve++){ge.index>ve?(Ze=ge,ge=null):Ze=ge.sibling;var Pe=E(j,ge,G[ve],ae);if(Pe===null){ge===null&&(ge=Ze);break}e&&ge&&Pe.alternate===null&&t(j,ge),$=l(Pe,$,ve),de===null?se=Pe:de.sibling=Pe,de=Pe,ge=Ze}if(ve===G.length)return r(j,ge),mt&&bo(j,ve),se;if(ge===null){for(;ve<G.length;ve++)ge=A(j,G[ve],ae),ge!==null&&($=l(ge,$,ve),de===null?se=ge:de.sibling=ge,de=ge);return mt&&bo(j,ve),se}for(ge=i(j,ge);ve<G.length;ve++)Ze=I(ge,j,ve,G[ve],ae),Ze!==null&&(e&&Ze.alternate!==null&&ge.delete(Ze.key===null?ve:Ze.key),$=l(Ze,$,ve),de===null?se=Ze:de.sibling=Ze,de=Ze);return e&&ge.forEach(function(Ne){return t(j,Ne)}),mt&&bo(j,ve),se}function W(j,$,G,ae){var se=Xs(G);if(typeof se!="function")throw Error(fe(150));if(G=se.call(G),G==null)throw Error(fe(151));for(var de=se=null,ge=$,ve=$=0,Ze=null,Pe=G.next();ge!==null&&!Pe.done;ve++,Pe=G.next()){ge.index>ve?(Ze=ge,ge=null):Ze=ge.sibling;var Ne=E(j,ge,Pe.value,ae);if(Ne===null){ge===null&&(ge=Ze);break}e&&ge&&Ne.alternate===null&&t(j,ge),$=l(Ne,$,ve),de===null?se=Ne:de.sibling=Ne,de=Ne,ge=Ze}if(Pe.done)return r(j,ge),mt&&bo(j,ve),se;if(ge===null){for(;!Pe.done;ve++,Pe=G.next())Pe=A(j,Pe.value,ae),Pe!==null&&($=l(Pe,$,ve),de===null?se=Pe:de.sibling=Pe,de=Pe);return mt&&bo(j,ve),se}for(ge=i(j,ge);!Pe.done;ve++,Pe=G.next())Pe=I(ge,j,ve,Pe.value,ae),Pe!==null&&(e&&Pe.alternate!==null&&ge.delete(Pe.key===null?ve:Pe.key),$=l(Pe,$,ve),de===null?se=Pe:de.sibling=Pe,de=Pe);return e&&ge.forEach(function(ut){return t(j,ut)}),mt&&bo(j,ve),se}function ye(j,$,G,ae){if(typeof G=="object"&&G!==null&&G.type===ba&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case cc:e:{for(var se=G.key,de=$;de!==null;){if(de.key===se){if(se=G.type,se===ba){if(de.tag===7){r(j,de.sibling),$=s(de,G.props.children),$.return=j,j=$;break e}}else if(de.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Bi&&dy(se)===de.type){r(j,de.sibling),$=s(de,G.props),$.ref=nu(j,de,G),$.return=j,j=$;break e}r(j,de);break}else t(j,de);de=de.sibling}G.type===ba?($=So(G.props.children,j.mode,ae,G.key),$.return=j,j=$):(ae=$c(G.type,G.key,G.props,null,j.mode,ae),ae.ref=nu(j,$,G),ae.return=j,j=ae)}return p(j);case Ca:e:{for(de=G.key;$!==null;){if($.key===de)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){r(j,$.sibling),$=s($,G.children||[]),$.return=j,j=$;break e}else{r(j,$);break}else t(j,$);$=$.sibling}$=Gp(G,j.mode,ae),$.return=j,j=$}return p(j);case Bi:return de=G._init,ye(j,$,de(G._payload),ae)}if(cu(G))return J(j,$,G,ae);if(Xs(G))return W(j,$,G,ae);Lc(j,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,$!==null&&$.tag===6?(r(j,$.sibling),$=s($,G),$.return=j,j=$):(r(j,$),$=$p(G,j.mode,ae),$.return=j,j=$),p(j)):r(j,$)}return ye}var Wa=D1(!0),O1=D1(!1),hh=Ji(null),fh=null,Aa=null,e0=null;function t0(){e0=Aa=fh=null}function r0(e){var t=hh.current;pt(hh),e._currentValue=t}function Rd(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function $a(e,t){fh=e,e0=Aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lr=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(e0!==e)if(e={context:e,memoizedValue:t,next:null},Aa===null){if(fh===null)throw Error(fe(308));Aa=e,fh.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var xo=null;function n0(e){xo===null?xo=[e]:xo.push(e)}function F1(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,n0(t)):(r.next=s.next,s.next=r),t.interleaved=r,fi(e,i)}function fi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ai=!1;function i0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ke&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,fi(e,r)}return s=i.interleaved,s===null?(t.next=t,n0(i)):(t.next=s.next,s.next=t),i.interleaved=t,fi(e,r)}function Oc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Um(e,r)}}function my(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=p:l=l.next=p,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ph(e,t,r,i){var s=e.updateQueue;Ai=!1;var l=s.firstBaseUpdate,p=s.lastBaseUpdate,_=s.shared.pending;if(_!==null){s.shared.pending=null;var y=_,P=y.next;y.next=null,p===null?l=P:p.next=P,p=y;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==p&&(_===null?x.firstBaseUpdate=P:_.next=P,x.lastBaseUpdate=y))}if(l!==null){var A=s.baseState;p=0,x=P=y=null,_=l;do{var E=_.lane,I=_.eventTime;if((i&E)===E){x!==null&&(x=x.next={eventTime:I,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var J=e,W=_;switch(E=t,I=r,W.tag){case 1:if(J=W.payload,typeof J=="function"){A=J.call(I,A,E);break e}A=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=W.payload,E=typeof J=="function"?J.call(I,A,E):J,E==null)break e;A=wt({},A,E);break e;case 2:Ai=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,E=s.effects,E===null?s.effects=[_]:E.push(_))}else I={eventTime:I,lane:E,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(P=x=I,y=A):x=x.next=I,p|=E;if(_=_.next,_===null){if(_=s.shared.pending,_===null)break;E=_,_=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);if(x===null&&(y=A),s.baseState=y,s.firstBaseUpdate=P,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do p|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Fo|=p,e.lanes=p,e.memoizedState=A}}function gy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(fe(191,s));s.call(i)}}}var ol={},Tn=Ji(ol),Hu=Ji(ol),Wu=Ji(ol);function Mo(e){if(e===ol)throw Error(fe(174));return e}function o0(e,t){switch(ct(Wu,t),ct(Hu,e),ct(Tn,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gd(t,e)}pt(Tn),ct(Tn,t)}function Ka(){pt(Tn),pt(Hu),pt(Wu)}function I1(e){Mo(Wu.current);var t=Mo(Tn.current),r=gd(t,e.type);t!==r&&(ct(Hu,e),ct(Tn,r))}function a0(e){Hu.current===e&&(pt(Tn),pt(Hu))}var _t=Ji(0);function dh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Op=[];function s0(){for(var e=0;e<Op.length;e++)Op[e]._workInProgressVersionPrimary=null;Op.length=0}var Fc=di.ReactCurrentDispatcher,Fp=di.ReactCurrentBatchConfig,Oo=0,vt=null,Rt=null,$t=null,mh=!1,Mu=!1,Ku=0,Cb=0;function nr(){throw Error(fe(321))}function u0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yn(e[r],t[r]))return!1;return!0}function l0(e,t,r,i,s,l){if(Oo=l,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fc.current=e===null||e.memoizedState===null?xb:Mb,e=r(i,s),Mu){l=0;do{if(Mu=!1,Ku=0,25<=l)throw Error(fe(301));l+=1,$t=Rt=null,t.updateQueue=null,Fc.current=Pb,e=r(i,s)}while(Mu)}if(Fc.current=gh,t=Rt!==null&&Rt.next!==null,Oo=0,$t=Rt=vt=null,mh=!1,t)throw Error(fe(300));return e}function c0(){var e=Ku!==0;return Ku=0,e}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?vt.memoizedState=$t=e:$t=$t.next=e,$t}function Qr(){if(Rt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=$t===null?vt.memoizedState:$t.next;if(t!==null)$t=t,Rt=e;else{if(e===null)throw Error(fe(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},$t===null?vt.memoizedState=$t=e:$t=$t.next=e}return $t}function qu(e,t){return typeof t=="function"?t(e):t}function Rp(e){var t=Qr(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var i=Rt,s=i.baseQueue,l=r.pending;if(l!==null){if(s!==null){var p=s.next;s.next=l.next,l.next=p}i.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,i=i.baseState;var _=p=null,y=null,P=l;do{var x=P.lane;if((Oo&x)===x)y!==null&&(y=y.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),i=P.hasEagerState?P.eagerState:e(i,P.action);else{var A={lane:x,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};y===null?(_=y=A,p=i):y=y.next=A,vt.lanes|=x,Fo|=x}P=P.next}while(P!==null&&P!==l);y===null?p=i:y.next=_,yn(i,t.memoizedState)||(Lr=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=y,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do l=s.lane,vt.lanes|=l,Fo|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ip(e){var t=Qr(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var p=s=s.next;do l=e(l,p.action),p=p.next;while(p!==s);yn(l,t.memoizedState)||(Lr=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,i]}function z1(){}function N1(e,t){var r=vt,i=Qr(),s=t(),l=!yn(i.memoizedState,s);if(l&&(i.memoizedState=s,Lr=!0),i=i.queue,h0(j1.bind(null,r,i,e),[e]),i.getSnapshot!==t||l||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,Ju(9,G1.bind(null,r,i,s,t),void 0,null),Gt===null)throw Error(fe(349));Oo&30||$1(r,t,s)}return s}function $1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function G1(e,t,r,i){t.value=r,t.getSnapshot=i,U1(t)&&Z1(e)}function j1(e,t,r){return r(function(){U1(t)&&Z1(e)})}function U1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yn(e,r)}catch{return!0}}function Z1(e){var t=fi(e,1);t!==null&&mn(t,e,1,-1)}function yy(e){var t=Mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:e},t.queue=e,e=e.dispatch=kb.bind(null,vt,e),[t.memoizedState,e]}function Ju(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function V1(){return Qr().memoizedState}function Rc(e,t,r,i){var s=Mn();vt.flags|=e,s.memoizedState=Ju(1|t,r,void 0,i===void 0?null:i)}function Jh(e,t,r,i){var s=Qr();i=i===void 0?null:i;var l=void 0;if(Rt!==null){var p=Rt.memoizedState;if(l=p.destroy,i!==null&&u0(i,p.deps)){s.memoizedState=Ju(t,r,l,i);return}}vt.flags|=e,s.memoizedState=Ju(1|t,r,l,i)}function _y(e,t){return Rc(8390656,8,e,t)}function h0(e,t){return Jh(2048,8,e,t)}function H1(e,t){return Jh(4,2,e,t)}function W1(e,t){return Jh(4,4,e,t)}function K1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q1(e,t,r){return r=r!=null?r.concat([e]):null,Jh(4,4,K1.bind(null,t,e),r)}function f0(){}function J1(e,t){var r=Qr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&u0(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Y1(e,t){var r=Qr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&u0(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function X1(e,t,r){return Oo&21?(yn(r,t)||(r=n1(),vt.lanes|=r,Fo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lr=!0),e.memoizedState=r)}function bb(e,t){var r=Ye;Ye=r!==0&&4>r?r:4,e(!0);var i=Fp.transition;Fp.transition={};try{e(!1),t()}finally{Ye=r,Fp.transition=i}}function Q1(){return Qr().memoizedState}function Eb(e,t,r){var i=Zi(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},e4(e))t4(t,r);else if(r=F1(e,t,r,i),r!==null){var s=fr();mn(r,e,i,s),r4(r,t,i)}}function kb(e,t,r){var i=Zi(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(e4(e))t4(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var p=t.lastRenderedState,_=l(p,r);if(s.hasEagerState=!0,s.eagerState=_,yn(_,p)){var y=t.interleaved;y===null?(s.next=s,n0(t)):(s.next=y.next,y.next=s),t.interleaved=s;return}}catch{}finally{}r=F1(e,t,s,i),r!==null&&(s=fr(),mn(r,e,i,s),r4(r,t,i))}}function e4(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function t4(e,t){Mu=mh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function r4(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Um(e,r)}}var gh={readContext:Xr,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},xb={readContext:Xr,useCallback:function(e,t){return Mn().memoizedState=[e,t===void 0?null:t],e},useContext:Xr,useEffect:_y,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rc(4194308,4,K1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rc(4,2,e,t)},useMemo:function(e,t){var r=Mn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Mn();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Eb.bind(null,vt,e),[i.memoizedState,e]},useRef:function(e){var t=Mn();return e={current:e},t.memoizedState=e},useState:yy,useDebugValue:f0,useDeferredValue:function(e){return Mn().memoizedState=e},useTransition:function(){var e=yy(!1),t=e[0];return e=bb.bind(null,e[1]),Mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=vt,s=Mn();if(mt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Gt===null)throw Error(fe(349));Oo&30||$1(i,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,_y(j1.bind(null,i,l,e),[e]),i.flags|=2048,Ju(9,G1.bind(null,i,l,r,t),void 0,null),r},useId:function(){var e=Mn(),t=Gt.identifierPrefix;if(mt){var r=ii,i=ni;r=(i&~(1<<32-dn(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ku++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cb++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mb={readContext:Xr,useCallback:J1,useContext:Xr,useEffect:h0,useImperativeHandle:q1,useInsertionEffect:H1,useLayoutEffect:W1,useMemo:Y1,useReducer:Rp,useRef:V1,useState:function(){return Rp(qu)},useDebugValue:f0,useDeferredValue:function(e){var t=Qr();return X1(t,Rt.memoizedState,e)},useTransition:function(){var e=Rp(qu)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:z1,useSyncExternalStore:N1,useId:Q1,unstable_isNewReconciler:!1},Pb={readContext:Xr,useCallback:J1,useContext:Xr,useEffect:h0,useImperativeHandle:q1,useInsertionEffect:H1,useLayoutEffect:W1,useMemo:Y1,useReducer:Ip,useRef:V1,useState:function(){return Ip(qu)},useDebugValue:f0,useDeferredValue:function(e){var t=Qr();return Rt===null?t.memoizedState=e:X1(t,Rt.memoizedState,e)},useTransition:function(){var e=Ip(qu)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:z1,useSyncExternalStore:N1,useId:Q1,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Id(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yh={isMounted:function(e){return(e=e._reactInternals)?No(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=fr(),s=Zi(e),l=li(i,s);l.payload=t,r!=null&&(l.callback=r),t=ji(e,l,s),t!==null&&(mn(t,e,s,i),Oc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=fr(),s=Zi(e),l=li(i,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=ji(e,l,s),t!==null&&(mn(t,e,s,i),Oc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fr(),i=Zi(e),s=li(r,i);s.tag=2,t!=null&&(s.callback=t),t=ji(e,s,i),t!==null&&(mn(t,e,i,r),Oc(t,e,i))}};function vy(e,t,r,i,s,l,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,p):t.prototype&&t.prototype.isPureReactComponent?!ju(r,i)||!ju(s,l):!0}function n4(e,t,r){var i=!1,s=Ki,l=t.contextType;return typeof l=="object"&&l!==null?l=Xr(l):(s=br(t)?To:ar.current,i=t.contextTypes,l=(i=i!=null)?Va(e,s):Ki),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yh,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function wy(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Yh.enqueueReplaceState(t,t.state,null)}function zd(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},i0(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Xr(l):(l=br(t)?To:ar.current,s.context=Va(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Id(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yh.enqueueReplaceState(s,s.state,null),ph(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qa(e,t){try{var r="",i=t;do r+=rC(i),i=i.return;while(i);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function zp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Nd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Sb=typeof WeakMap=="function"?WeakMap:Map;function i4(e,t,r){r=li(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){_h||(_h=!0,qd=i),Nd(e,t)},r}function o4(e,t,r){r=li(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){Nd(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Nd(e,t),typeof i!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function Ly(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Sb;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=Ub.bind(null,e,t,r),t.then(e,e))}function Cy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function by(e,t,r,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=li(-1,1),t.tag=2,ji(r,t,1))),r.lanes|=1),e)}var Bb=di.ReactCurrentOwner,Lr=!1;function hr(e,t,r,i){t.child=e===null?O1(t,null,r,i):Wa(t,e.child,r,i)}function Ey(e,t,r,i,s){r=r.render;var l=t.ref;return $a(t,s),i=l0(e,t,r,i,l,s),r=c0(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pi(e,t,s)):(mt&&r&&Ym(t),t.flags|=1,hr(e,t,i,s),t.child)}function ky(e,t,r,i,s){if(e===null){var l=r.type;return typeof l=="function"&&!w0(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,a4(e,t,l,i,s)):(e=$c(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var p=l.memoizedProps;if(r=r.compare,r=r!==null?r:ju,r(p,i)&&e.ref===t.ref)return pi(e,t,s)}return t.flags|=1,e=Vi(l,i),e.ref=t.ref,e.return=t,t.child=e}function a4(e,t,r,i,s){if(e!==null){var l=e.memoizedProps;if(ju(l,i)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=i=l,(e.lanes&s)!==0)e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,pi(e,t,s)}return $d(e,t,r,i,s)}function s4(e,t,r){var i=t.pendingProps,s=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Da,Fr),Fr|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(Da,Fr),Fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:r,ct(Da,Fr),Fr|=i}else l!==null?(i=l.baseLanes|r,t.memoizedState=null):i=r,ct(Da,Fr),Fr|=i;return hr(e,t,s,r),t.child}function u4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $d(e,t,r,i,s){var l=br(r)?To:ar.current;return l=Va(t,l),$a(t,s),r=l0(e,t,r,i,l,s),i=c0(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pi(e,t,s)):(mt&&i&&Ym(t),t.flags|=1,hr(e,t,r,s),t.child)}function xy(e,t,r,i,s){if(br(r)){var l=!0;uh(t)}else l=!1;if($a(t,s),t.stateNode===null)Ic(e,t),n4(t,r,i),zd(t,r,i,s),i=!0;else if(e===null){var p=t.stateNode,_=t.memoizedProps;p.props=_;var y=p.context,P=r.contextType;typeof P=="object"&&P!==null?P=Xr(P):(P=br(r)?To:ar.current,P=Va(t,P));var x=r.getDerivedStateFromProps,A=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function";A||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==i||y!==P)&&wy(t,p,i,P),Ai=!1;var E=t.memoizedState;p.state=E,ph(t,i,p,s),y=t.memoizedState,_!==i||E!==y||Cr.current||Ai?(typeof x=="function"&&(Id(t,r,x,i),y=t.memoizedState),(_=Ai||vy(t,r,_,i,E,y,P))?(A||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=y),p.props=i,p.state=y,p.context=P,i=_):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,R1(e,t),_=t.memoizedProps,P=t.type===t.elementType?_:hn(t.type,_),p.props=P,A=t.pendingProps,E=p.context,y=r.contextType,typeof y=="object"&&y!==null?y=Xr(y):(y=br(r)?To:ar.current,y=Va(t,y));var I=r.getDerivedStateFromProps;(x=typeof I=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==A||E!==y)&&wy(t,p,i,y),Ai=!1,E=t.memoizedState,p.state=E,ph(t,i,p,s);var J=t.memoizedState;_!==A||E!==J||Cr.current||Ai?(typeof I=="function"&&(Id(t,r,I,i),J=t.memoizedState),(P=Ai||vy(t,r,P,i,E,J,y)||!1)?(x||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,J,y),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,J,y)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=J),p.props=i,p.state=J,p.context=y,i=P):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return Gd(e,t,r,i,l,s)}function Gd(e,t,r,i,s,l){u4(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return s&&hy(t,r,!1),pi(e,t,l);i=t.stateNode,Bb.current=t;var _=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Wa(t,e.child,null,l),t.child=Wa(t,null,_,l)):hr(e,t,_,l),t.memoizedState=i.state,s&&hy(t,r,!0),t.child}function l4(e){var t=e.stateNode;t.pendingContext?cy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cy(e,t.context,!1),o0(e,t.containerInfo)}function My(e,t,r,i,s){return Ha(),Qm(s),t.flags|=256,hr(e,t,r,i),t.child}var jd={dehydrated:null,treeContext:null,retryLane:0};function Ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function c4(e,t,r){var i=t.pendingProps,s=_t.current,l=!1,p=(t.flags&128)!==0,_;if((_=p)||(_=e!==null&&e.memoizedState===null?!1:(s&2)!==0),_?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ct(_t,s&1),e===null)return Fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=i.children,e=i.fallback,l?(i=t.mode,l=t.child,p={mode:"hidden",children:p},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=p):l=ef(p,i,0,null),e=So(e,i,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ud(r),t.memoizedState=jd,e):p0(t,p));if(s=e.memoizedState,s!==null&&(_=s.dehydrated,_!==null))return Ab(e,t,p,i,_,s,r);if(l){l=i.fallback,p=t.mode,s=e.child,_=s.sibling;var y={mode:"hidden",children:i.children};return!(p&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=y,t.deletions=null):(i=Vi(s,y),i.subtreeFlags=s.subtreeFlags&14680064),_!==null?l=Vi(_,l):(l=So(l,p,r,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,p=e.child.memoizedState,p=p===null?Ud(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},l.memoizedState=p,l.childLanes=e.childLanes&~r,t.memoizedState=jd,i}return l=e.child,e=l.sibling,i=Vi(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function p0(e,t){return t=ef({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cc(e,t,r,i){return i!==null&&Qm(i),Wa(t,e.child,null,r),e=p0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ab(e,t,r,i,s,l,p){if(r)return t.flags&256?(t.flags&=-257,i=zp(Error(fe(422))),Cc(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,s=t.mode,i=ef({mode:"visible",children:i.children},s,0,null),l=So(l,s,p,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&Wa(t,e.child,null,p),t.child.memoizedState=Ud(p),t.memoizedState=jd,l);if(!(t.mode&1))return Cc(e,t,p,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var _=i.dgst;return i=_,l=Error(fe(419)),i=zp(l,i,void 0),Cc(e,t,p,i)}if(_=(p&e.childLanes)!==0,Lr||_){if(i=Gt,i!==null){switch(p&-p){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|p)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,fi(e,s),mn(i,e,s,-1))}return v0(),i=zp(Error(fe(421))),Cc(e,t,p,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zb.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Rr=Gi(s.nextSibling),Ir=t,mt=!0,pn=null,e!==null&&(Wr[Kr++]=ni,Wr[Kr++]=ii,Wr[Kr++]=Do,ni=e.id,ii=e.overflow,Do=t),t=p0(t,i.children),t.flags|=4096,t)}function Py(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Rd(e.return,t,r)}function Np(e,t,r,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=r,l.tailMode=s)}function h4(e,t,r){var i=t.pendingProps,s=i.revealOrder,l=i.tail;if(hr(e,t,i.children,r),i=_t.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Py(e,r,t);else if(e.tag===19)Py(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ct(_t,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&dh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Np(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&dh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Np(t,!0,r,null,l);break;case"together":Np(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ic(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=Vi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Tb(e,t,r){switch(t.tag){case 3:l4(t),Ha();break;case 5:I1(t);break;case 1:br(t.type)&&uh(t);break;case 4:o0(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;ct(hh,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ct(_t,_t.current&1),t.flags|=128,null):r&t.child.childLanes?c4(e,t,r):(ct(_t,_t.current&1),e=pi(e,t,r),e!==null?e.sibling:null);ct(_t,_t.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return h4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ct(_t,_t.current),i)break;return null;case 22:case 23:return t.lanes=0,s4(e,t,r)}return pi(e,t,r)}var f4,Zd,p4,d4;f4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zd=function(){};p4=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Mo(Tn.current);var l=null;switch(r){case"input":s=fd(e,s),i=fd(e,i),l=[];break;case"select":s=wt({},s,{value:void 0}),i=wt({},i,{value:void 0}),l=[];break;case"textarea":s=md(e,s),i=md(e,i),l=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ah)}yd(r,i);var p;r=null;for(P in s)if(!i.hasOwnProperty(P)&&s.hasOwnProperty(P)&&s[P]!=null)if(P==="style"){var _=s[P];for(p in _)_.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(Fu.hasOwnProperty(P)?l||(l=[]):(l=l||[]).push(P,null));for(P in i){var y=i[P];if(_=s!=null?s[P]:void 0,i.hasOwnProperty(P)&&y!==_&&(y!=null||_!=null))if(P==="style")if(_){for(p in _)!_.hasOwnProperty(p)||y&&y.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in y)y.hasOwnProperty(p)&&_[p]!==y[p]&&(r||(r={}),r[p]=y[p])}else r||(l||(l=[]),l.push(P,r)),r=y;else P==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,_=_?_.__html:void 0,y!=null&&_!==y&&(l=l||[]).push(P,y)):P==="children"?typeof y!="string"&&typeof y!="number"||(l=l||[]).push(P,""+y):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(P)?(y!=null&&P==="onScroll"&&ft("scroll",e),l||_===y||(l=[])):(l=l||[]).push(P,y))}r&&(l=l||[]).push("style",r);var P=l;(t.updateQueue=P)&&(t.flags|=4)}};d4=function(e,t,r,i){r!==i&&(t.flags|=4)};function iu(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Db(e,t,r){var i=t.pendingProps;switch(Xm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(t),null;case 1:return br(t.type)&&sh(),ir(t),null;case 3:return i=t.stateNode,Ka(),pt(Cr),pt(ar),s0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pn!==null&&(Xd(pn),pn=null))),Zd(e,t),ir(t),null;case 5:a0(t);var s=Mo(Wu.current);if(r=t.type,e!==null&&t.stateNode!=null)p4(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(fe(166));return ir(t),null}if(e=Mo(Tn.current),wc(t)){i=t.stateNode,r=t.type;var l=t.memoizedProps;switch(i[Sn]=t,i[Vu]=l,e=(t.mode&1)!==0,r){case"dialog":ft("cancel",i),ft("close",i);break;case"iframe":case"object":case"embed":ft("load",i);break;case"video":case"audio":for(s=0;s<fu.length;s++)ft(fu[s],i);break;case"source":ft("error",i);break;case"img":case"image":case"link":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"input":Ig(i,l),ft("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},ft("invalid",i);break;case"textarea":Ng(i,l),ft("invalid",i)}yd(r,l),s=null;for(var p in l)if(l.hasOwnProperty(p)){var _=l[p];p==="children"?typeof _=="string"?i.textContent!==_&&(l.suppressHydrationWarning!==!0&&vc(i.textContent,_,e),s=["children",_]):typeof _=="number"&&i.textContent!==""+_&&(l.suppressHydrationWarning!==!0&&vc(i.textContent,_,e),s=["children",""+_]):Fu.hasOwnProperty(p)&&_!=null&&p==="onScroll"&&ft("scroll",i)}switch(r){case"input":hc(i),zg(i,l,!0);break;case"textarea":hc(i),$g(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=ah)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[Sn]=t,e[Vu]=i,f4(e,t,!1,!1),t.stateNode=e;e:{switch(p=_d(r,i),r){case"dialog":ft("cancel",e),ft("close",e),s=i;break;case"iframe":case"object":case"embed":ft("load",e),s=i;break;case"video":case"audio":for(s=0;s<fu.length;s++)ft(fu[s],e);s=i;break;case"source":ft("error",e),s=i;break;case"img":case"image":case"link":ft("error",e),ft("load",e),s=i;break;case"details":ft("toggle",e),s=i;break;case"input":Ig(e,i),s=fd(e,i),ft("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=wt({},i,{value:void 0}),ft("invalid",e);break;case"textarea":Ng(e,i),s=md(e,i),ft("invalid",e);break;default:s=i}yd(r,s),_=s;for(l in _)if(_.hasOwnProperty(l)){var y=_[l];l==="style"?Vv(e,y):l==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Uv(e,y)):l==="children"?typeof y=="string"?(r!=="textarea"||y!=="")&&Ru(e,y):typeof y=="number"&&Ru(e,""+y):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Fu.hasOwnProperty(l)?y!=null&&l==="onScroll"&&ft("scroll",e):y!=null&&Im(e,l,y,p))}switch(r){case"input":hc(e),zg(e,i,!1);break;case"textarea":hc(e),$g(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Wi(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Ra(e,!!i.multiple,l,!1):i.defaultValue!=null&&Ra(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ah)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ir(t),null;case 6:if(e&&t.stateNode!=null)d4(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Mo(Wu.current),Mo(Tn.current),wc(t)){if(i=t.stateNode,r=t.memoizedProps,i[Sn]=t,(l=i.nodeValue!==r)&&(e=Ir,e!==null))switch(e.tag){case 3:vc(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(i.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Sn]=t,t.stateNode=i}return ir(t),null;case 13:if(pt(_t),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Rr!==null&&t.mode&1&&!(t.flags&128))T1(),Ha(),t.flags|=98560,l=!1;else if(l=wc(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(fe(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(fe(317));l[Sn]=t}else Ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ir(t),l=!1}else pn!==null&&(Xd(pn),pn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||_t.current&1?It===0&&(It=3):v0())),t.updateQueue!==null&&(t.flags|=4),ir(t),null);case 4:return Ka(),Zd(e,t),e===null&&Uu(t.stateNode.containerInfo),ir(t),null;case 10:return r0(t.type._context),ir(t),null;case 17:return br(t.type)&&sh(),ir(t),null;case 19:if(pt(_t),l=t.memoizedState,l===null)return ir(t),null;if(i=(t.flags&128)!==0,p=l.rendering,p===null)if(i)iu(l,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=dh(e),p!==null){for(t.flags|=128,iu(l,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)l=r,e=i,l.flags&=14680066,p=l.alternate,p===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,e=p.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ct(_t,_t.current&1|2),t.child}e=e.sibling}l.tail!==null&&St()>Ja&&(t.flags|=128,i=!0,iu(l,!1),t.lanes=4194304)}else{if(!i)if(e=dh(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),iu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!mt)return ir(t),null}else 2*St()-l.renderingStartTime>Ja&&r!==1073741824&&(t.flags|=128,i=!0,iu(l,!1),t.lanes=4194304);l.isBackwards?(p.sibling=t.child,t.child=p):(r=l.last,r!==null?r.sibling=p:t.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=St(),t.sibling=null,r=_t.current,ct(_t,i?r&1|2:r&1),t):(ir(t),null);case 22:case 23:return _0(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Fr&1073741824&&(ir(t),t.subtreeFlags&6&&(t.flags|=8192)):ir(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function Ob(e,t){switch(Xm(t),t.tag){case 1:return br(t.type)&&sh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ka(),pt(Cr),pt(ar),s0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return a0(t),null;case 13:if(pt(_t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(_t),null;case 4:return Ka(),null;case 10:return r0(t.type._context),null;case 22:case 23:return _0(),null;case 24:return null;default:return null}}var bc=!1,or=!1,Fb=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ta(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){xt(e,t,i)}else r.current=null}function Vd(e,t,r){try{r()}catch(i){xt(e,t,i)}}var Sy=!1;function Rb(e,t){if(Pd=nh,e=v1(),Jm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var p=0,_=-1,y=-1,P=0,x=0,A=e,E=null;t:for(;;){for(var I;A!==r||s!==0&&A.nodeType!==3||(_=p+s),A!==l||i!==0&&A.nodeType!==3||(y=p+i),A.nodeType===3&&(p+=A.nodeValue.length),(I=A.firstChild)!==null;)E=A,A=I;for(;;){if(A===e)break t;if(E===r&&++P===s&&(_=p),E===l&&++x===i&&(y=p),(I=A.nextSibling)!==null)break;A=E,E=A.parentNode}A=I}r=_===-1||y===-1?null:{start:_,end:y}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sd={focusedElem:e,selectionRange:r},nh=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var J=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var W=J.memoizedProps,ye=J.memoizedState,j=t.stateNode,$=j.getSnapshotBeforeUpdate(t.elementType===t.type?W:hn(t.type,W),ye);j.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var G=t.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(ae){xt(t,t.return,ae)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return J=Sy,Sy=!1,J}function Pu(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Vd(t,r,l)}s=s.next}while(s!==i)}}function Xh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Hd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function m4(e){var t=e.alternate;t!==null&&(e.alternate=null,m4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[Vu],delete t[Td],delete t[_b],delete t[vb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g4(e){return e.tag===5||e.tag===3||e.tag===4}function By(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wd(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ah));else if(i!==4&&(e=e.child,e!==null))for(Wd(e,t,r),e=e.sibling;e!==null;)Wd(e,t,r),e=e.sibling}function Kd(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Kd(e,t,r),e=e.sibling;e!==null;)Kd(e,t,r),e=e.sibling}var Zt=null,fn=!1;function Si(e,t,r){for(r=r.child;r!==null;)y4(e,t,r),r=r.sibling}function y4(e,t,r){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Zh,r)}catch{}switch(r.tag){case 5:or||Ta(r,t);case 6:var i=Zt,s=fn;Zt=null,Si(e,t,r),Zt=i,fn=s,Zt!==null&&(fn?(e=Zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zt.removeChild(r.stateNode));break;case 18:Zt!==null&&(fn?(e=Zt,r=r.stateNode,e.nodeType===8?Tp(e.parentNode,r):e.nodeType===1&&Tp(e,r),$u(e)):Tp(Zt,r.stateNode));break;case 4:i=Zt,s=fn,Zt=r.stateNode.containerInfo,fn=!0,Si(e,t,r),Zt=i,fn=s;break;case 0:case 11:case 14:case 15:if(!or&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var l=s,p=l.destroy;l=l.tag,p!==void 0&&(l&2||l&4)&&Vd(r,t,p),s=s.next}while(s!==i)}Si(e,t,r);break;case 1:if(!or&&(Ta(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(_){xt(r,t,_)}Si(e,t,r);break;case 21:Si(e,t,r);break;case 22:r.mode&1?(or=(i=or)||r.memoizedState!==null,Si(e,t,r),or=i):Si(e,t,r);break;default:Si(e,t,r)}}function Ay(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fb),t.forEach(function(i){var s=Vb.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function un(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var l=e,p=t,_=p;e:for(;_!==null;){switch(_.tag){case 5:Zt=_.stateNode,fn=!1;break e;case 3:Zt=_.stateNode.containerInfo,fn=!0;break e;case 4:Zt=_.stateNode.containerInfo,fn=!0;break e}_=_.return}if(Zt===null)throw Error(fe(160));y4(l,p,s),Zt=null,fn=!1;var y=s.alternate;y!==null&&(y.return=null),s.return=null}catch(P){xt(s,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_4(t,e),t=t.sibling}function _4(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),xn(e),i&4){try{Pu(3,e,e.return),Xh(3,e)}catch(W){xt(e,e.return,W)}try{Pu(5,e,e.return)}catch(W){xt(e,e.return,W)}}break;case 1:un(t,e),xn(e),i&512&&r!==null&&Ta(r,r.return);break;case 5:if(un(t,e),xn(e),i&512&&r!==null&&Ta(r,r.return),e.flags&32){var s=e.stateNode;try{Ru(s,"")}catch(W){xt(e,e.return,W)}}if(i&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,p=r!==null?r.memoizedProps:l,_=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{_==="input"&&l.type==="radio"&&l.name!=null&&$v(s,l),_d(_,p);var P=_d(_,l);for(p=0;p<y.length;p+=2){var x=y[p],A=y[p+1];x==="style"?Vv(s,A):x==="dangerouslySetInnerHTML"?Uv(s,A):x==="children"?Ru(s,A):Im(s,x,A,P)}switch(_){case"input":pd(s,l);break;case"textarea":Gv(s,l);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var I=l.value;I!=null?Ra(s,!!l.multiple,I,!1):E!==!!l.multiple&&(l.defaultValue!=null?Ra(s,!!l.multiple,l.defaultValue,!0):Ra(s,!!l.multiple,l.multiple?[]:"",!1))}s[Vu]=l}catch(W){xt(e,e.return,W)}}break;case 6:if(un(t,e),xn(e),i&4){if(e.stateNode===null)throw Error(fe(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(W){xt(e,e.return,W)}}break;case 3:if(un(t,e),xn(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{$u(t.containerInfo)}catch(W){xt(e,e.return,W)}break;case 4:un(t,e),xn(e);break;case 13:un(t,e),xn(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(g0=St())),i&4&&Ay(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(or=(P=or)||x,un(t,e),or=P):un(t,e),xn(e),i&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!x&&e.mode&1)for(Ce=e,x=e.child;x!==null;){for(A=Ce=x;Ce!==null;){switch(E=Ce,I=E.child,E.tag){case 0:case 11:case 14:case 15:Pu(4,E,E.return);break;case 1:Ta(E,E.return);var J=E.stateNode;if(typeof J.componentWillUnmount=="function"){i=E,r=E.return;try{t=i,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(W){xt(i,r,W)}}break;case 5:Ta(E,E.return);break;case 22:if(E.memoizedState!==null){Dy(A);continue}}I!==null?(I.return=E,Ce=I):Dy(A)}x=x.sibling}e:for(x=null,A=e;;){if(A.tag===5){if(x===null){x=A;try{s=A.stateNode,P?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(_=A.stateNode,y=A.memoizedProps.style,p=y!=null&&y.hasOwnProperty("display")?y.display:null,_.style.display=Zv("display",p))}catch(W){xt(e,e.return,W)}}}else if(A.tag===6){if(x===null)try{A.stateNode.nodeValue=P?"":A.memoizedProps}catch(W){xt(e,e.return,W)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;x===A&&(x=null),A=A.return}x===A&&(x=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:un(t,e),xn(e),i&4&&Ay(e);break;case 21:break;default:un(t,e),xn(e)}}function xn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(g4(r)){var i=r;break e}r=r.return}throw Error(fe(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ru(s,""),i.flags&=-33);var l=By(e);Kd(e,l,s);break;case 3:case 4:var p=i.stateNode.containerInfo,_=By(e);Wd(e,_,p);break;default:throw Error(fe(161))}}catch(y){xt(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ib(e,t,r){Ce=e,v4(e)}function v4(e,t,r){for(var i=(e.mode&1)!==0;Ce!==null;){var s=Ce,l=s.child;if(s.tag===22&&i){var p=s.memoizedState!==null||bc;if(!p){var _=s.alternate,y=_!==null&&_.memoizedState!==null||or;_=bc;var P=or;if(bc=p,(or=y)&&!P)for(Ce=s;Ce!==null;)p=Ce,y=p.child,p.tag===22&&p.memoizedState!==null?Oy(s):y!==null?(y.return=p,Ce=y):Oy(s);for(;l!==null;)Ce=l,v4(l),l=l.sibling;Ce=s,bc=_,or=P}Ty(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,Ce=l):Ty(e)}}function Ty(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:or||Xh(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!or)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:hn(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&gy(t,l,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gy(t,p,r)}break;case 5:var _=t.stateNode;if(r===null&&t.flags&4){r=_;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&r.focus();break;case"img":y.src&&(r.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var x=P.memoizedState;if(x!==null){var A=x.dehydrated;A!==null&&$u(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}or||t.flags&512&&Hd(t)}catch(E){xt(t,t.return,E)}}if(t===e){Ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function Dy(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function Oy(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xh(4,t)}catch(y){xt(t,r,y)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(y){xt(t,s,y)}}var l=t.return;try{Hd(t)}catch(y){xt(t,l,y)}break;case 5:var p=t.return;try{Hd(t)}catch(y){xt(t,p,y)}}}catch(y){xt(t,t.return,y)}if(t===e){Ce=null;break}var _=t.sibling;if(_!==null){_.return=t.return,Ce=_;break}Ce=t.return}}var zb=Math.ceil,yh=di.ReactCurrentDispatcher,d0=di.ReactCurrentOwner,Yr=di.ReactCurrentBatchConfig,Ke=0,Gt=null,Tt=null,Vt=0,Fr=0,Da=Ji(0),It=0,Yu=null,Fo=0,Qh=0,m0=0,Su=null,wr=null,g0=0,Ja=1/0,Xn=null,_h=!1,qd=null,Ui=null,Ec=!1,Ri=null,vh=0,Bu=0,Jd=null,zc=-1,Nc=0;function fr(){return Ke&6?St():zc!==-1?zc:zc=St()}function Zi(e){return e.mode&1?Ke&2&&Vt!==0?Vt&-Vt:Lb.transition!==null?(Nc===0&&(Nc=n1()),Nc):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:c1(e.type)),e):1}function mn(e,t,r,i){if(50<Bu)throw Bu=0,Jd=null,Error(fe(185));rl(e,r,i),(!(Ke&2)||e!==Gt)&&(e===Gt&&(!(Ke&2)&&(Qh|=r),It===4&&Oi(e,Vt)),Er(e,i),r===1&&Ke===0&&!(t.mode&1)&&(Ja=St()+500,qh&&Yi()))}function Er(e,t){var r=e.callbackNode;LC(e,t);var i=rh(e,e===Gt?Vt:0);if(i===0)r!==null&&Ug(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ug(r),t===1)e.tag===0?wb(Fy.bind(null,e)):S1(Fy.bind(null,e)),gb(function(){!(Ke&6)&&Yi()}),r=null;else{switch(i1(i)){case 1:r=jm;break;case 4:r=t1;break;case 16:r=th;break;case 536870912:r=r1;break;default:r=th}r=M4(r,w4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function w4(e,t){if(zc=-1,Nc=0,Ke&6)throw Error(fe(327));var r=e.callbackNode;if(Ga()&&e.callbackNode!==r)return null;var i=rh(e,e===Gt?Vt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=wh(e,i);else{t=i;var s=Ke;Ke|=2;var l=C4();(Gt!==e||Vt!==t)&&(Xn=null,Ja=St()+500,Po(e,t));do try{Gb();break}catch(_){L4(e,_)}while(!0);t0(),yh.current=l,Ke=s,Tt!==null?t=0:(Gt=null,Vt=0,t=It)}if(t!==0){if(t===2&&(s=bd(e),s!==0&&(i=s,t=Yd(e,s))),t===1)throw r=Yu,Po(e,0),Oi(e,i),Er(e,St()),r;if(t===6)Oi(e,i);else{if(s=e.current.alternate,!(i&30)&&!Nb(s)&&(t=wh(e,i),t===2&&(l=bd(e),l!==0&&(i=l,t=Yd(e,l))),t===1))throw r=Yu,Po(e,0),Oi(e,i),Er(e,St()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(fe(345));case 2:Eo(e,wr,Xn);break;case 3:if(Oi(e,i),(i&130023424)===i&&(t=g0+500-St(),10<t)){if(rh(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){fr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ad(Eo.bind(null,e,wr,Xn),t);break}Eo(e,wr,Xn);break;case 4:if(Oi(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var p=31-dn(i);l=1<<p,p=t[p],p>s&&(s=p),i&=~l}if(i=s,i=St()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*zb(i/1960))-i,10<i){e.timeoutHandle=Ad(Eo.bind(null,e,wr,Xn),i);break}Eo(e,wr,Xn);break;case 5:Eo(e,wr,Xn);break;default:throw Error(fe(329))}}}return Er(e,St()),e.callbackNode===r?w4.bind(null,e):null}function Yd(e,t){var r=Su;return e.current.memoizedState.isDehydrated&&(Po(e,t).flags|=256),e=wh(e,t),e!==2&&(t=wr,wr=r,t!==null&&Xd(t)),e}function Xd(e){wr===null?wr=e:wr.push.apply(wr,e)}function Nb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],l=s.getSnapshot;s=s.value;try{if(!yn(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oi(e,t){for(t&=~m0,t&=~Qh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-dn(t),i=1<<r;e[r]=-1,t&=~i}}function Fy(e){if(Ke&6)throw Error(fe(327));Ga();var t=rh(e,0);if(!(t&1))return Er(e,St()),null;var r=wh(e,t);if(e.tag!==0&&r===2){var i=bd(e);i!==0&&(t=i,r=Yd(e,i))}if(r===1)throw r=Yu,Po(e,0),Oi(e,t),Er(e,St()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eo(e,wr,Xn),Er(e,St()),null}function y0(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Ja=St()+500,qh&&Yi())}}function Ro(e){Ri!==null&&Ri.tag===0&&!(Ke&6)&&Ga();var t=Ke;Ke|=1;var r=Yr.transition,i=Ye;try{if(Yr.transition=null,Ye=1,e)return e()}finally{Ye=i,Yr.transition=r,Ke=t,!(Ke&6)&&Yi()}}function _0(){Fr=Da.current,pt(Da)}function Po(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mb(r)),Tt!==null)for(r=Tt.return;r!==null;){var i=r;switch(Xm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&sh();break;case 3:Ka(),pt(Cr),pt(ar),s0();break;case 5:a0(i);break;case 4:Ka();break;case 13:pt(_t);break;case 19:pt(_t);break;case 10:r0(i.type._context);break;case 22:case 23:_0()}r=r.return}if(Gt=e,Tt=e=Vi(e.current,null),Vt=Fr=t,It=0,Yu=null,m0=Qh=Fo=0,wr=Su=null,xo!==null){for(t=0;t<xo.length;t++)if(r=xo[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,l=r.pending;if(l!==null){var p=l.next;l.next=s,i.next=p}r.pending=i}xo=null}return e}function L4(e,t){do{var r=Tt;try{if(t0(),Fc.current=gh,mh){for(var i=vt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}mh=!1}if(Oo=0,$t=Rt=vt=null,Mu=!1,Ku=0,d0.current=null,r===null||r.return===null){It=1,Yu=t,Tt=null;break}e:{var l=e,p=r.return,_=r,y=t;if(t=Vt,_.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var P=y,x=_,A=x.tag;if(!(x.mode&1)&&(A===0||A===11||A===15)){var E=x.alternate;E?(x.updateQueue=E.updateQueue,x.memoizedState=E.memoizedState,x.lanes=E.lanes):(x.updateQueue=null,x.memoizedState=null)}var I=Cy(p);if(I!==null){I.flags&=-257,by(I,p,_,l,t),I.mode&1&&Ly(l,P,t),t=I,y=P;var J=t.updateQueue;if(J===null){var W=new Set;W.add(y),t.updateQueue=W}else J.add(y);break e}else{if(!(t&1)){Ly(l,P,t),v0();break e}y=Error(fe(426))}}else if(mt&&_.mode&1){var ye=Cy(p);if(ye!==null){!(ye.flags&65536)&&(ye.flags|=256),by(ye,p,_,l,t),Qm(qa(y,_));break e}}l=y=qa(y,_),It!==4&&(It=2),Su===null?Su=[l]:Su.push(l),l=p;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var j=i4(l,y,t);my(l,j);break e;case 1:_=y;var $=l.type,G=l.stateNode;if(!(l.flags&128)&&(typeof $.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ui===null||!Ui.has(G)))){l.flags|=65536,t&=-t,l.lanes|=t;var ae=o4(l,_,t);my(l,ae);break e}}l=l.return}while(l!==null)}E4(r)}catch(se){t=se,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(!0)}function C4(){var e=yh.current;return yh.current=gh,e===null?gh:e}function v0(){(It===0||It===3||It===2)&&(It=4),Gt===null||!(Fo&268435455)&&!(Qh&268435455)||Oi(Gt,Vt)}function wh(e,t){var r=Ke;Ke|=2;var i=C4();(Gt!==e||Vt!==t)&&(Xn=null,Po(e,t));do try{$b();break}catch(s){L4(e,s)}while(!0);if(t0(),Ke=r,yh.current=i,Tt!==null)throw Error(fe(261));return Gt=null,Vt=0,It}function $b(){for(;Tt!==null;)b4(Tt)}function Gb(){for(;Tt!==null&&!fC();)b4(Tt)}function b4(e){var t=x4(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?E4(e):Tt=t,d0.current=null}function E4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ob(r,t),r!==null){r.flags&=32767,Tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Tt=null;return}}else if(r=Db(r,t,Fr),r!==null){Tt=r;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);It===0&&(It=5)}function Eo(e,t,r){var i=Ye,s=Yr.transition;try{Yr.transition=null,Ye=1,jb(e,t,r,i)}finally{Yr.transition=s,Ye=i}return null}function jb(e,t,r,i){do Ga();while(Ri!==null);if(Ke&6)throw Error(fe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(CC(e,l),e===Gt&&(Tt=Gt=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ec||(Ec=!0,M4(th,function(){return Ga(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Yr.transition,Yr.transition=null;var p=Ye;Ye=1;var _=Ke;Ke|=4,d0.current=null,Rb(e,r),_4(r,e),ub(Sd),nh=!!Pd,Sd=Pd=null,e.current=r,Ib(r),pC(),Ke=_,Ye=p,Yr.transition=l}else e.current=r;if(Ec&&(Ec=!1,Ri=e,vh=s),l=e.pendingLanes,l===0&&(Ui=null),gC(r.stateNode),Er(e,St()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(_h)throw _h=!1,e=qd,qd=null,e;return vh&1&&e.tag!==0&&Ga(),l=e.pendingLanes,l&1?e===Jd?Bu++:(Bu=0,Jd=e):Bu=0,Yi(),null}function Ga(){if(Ri!==null){var e=i1(vh),t=Yr.transition,r=Ye;try{if(Yr.transition=null,Ye=16>e?16:e,Ri===null)var i=!1;else{if(e=Ri,Ri=null,vh=0,Ke&6)throw Error(fe(331));var s=Ke;for(Ke|=4,Ce=e.current;Ce!==null;){var l=Ce,p=l.child;if(Ce.flags&16){var _=l.deletions;if(_!==null){for(var y=0;y<_.length;y++){var P=_[y];for(Ce=P;Ce!==null;){var x=Ce;switch(x.tag){case 0:case 11:case 15:Pu(8,x,l)}var A=x.child;if(A!==null)A.return=x,Ce=A;else for(;Ce!==null;){x=Ce;var E=x.sibling,I=x.return;if(m4(x),x===P){Ce=null;break}if(E!==null){E.return=I,Ce=E;break}Ce=I}}}var J=l.alternate;if(J!==null){var W=J.child;if(W!==null){J.child=null;do{var ye=W.sibling;W.sibling=null,W=ye}while(W!==null)}}Ce=l}}if(l.subtreeFlags&2064&&p!==null)p.return=l,Ce=p;else e:for(;Ce!==null;){if(l=Ce,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Pu(9,l,l.return)}var j=l.sibling;if(j!==null){j.return=l.return,Ce=j;break e}Ce=l.return}}var $=e.current;for(Ce=$;Ce!==null;){p=Ce;var G=p.child;if(p.subtreeFlags&2064&&G!==null)G.return=p,Ce=G;else e:for(p=$;Ce!==null;){if(_=Ce,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Xh(9,_)}}catch(se){xt(_,_.return,se)}if(_===p){Ce=null;break e}var ae=_.sibling;if(ae!==null){ae.return=_.return,Ce=ae;break e}Ce=_.return}}if(Ke=s,Yi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Zh,e)}catch{}i=!0}return i}finally{Ye=r,Yr.transition=t}}return!1}function Ry(e,t,r){t=qa(r,t),t=i4(e,t,1),e=ji(e,t,1),t=fr(),e!==null&&(rl(e,1,t),Er(e,t))}function xt(e,t,r){if(e.tag===3)Ry(e,e,r);else for(;t!==null;){if(t.tag===3){Ry(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){e=qa(r,e),e=o4(t,e,1),t=ji(t,e,1),e=fr(),t!==null&&(rl(t,1,e),Er(t,e));break}}t=t.return}}function Ub(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&r,Gt===e&&(Vt&r)===r&&(It===4||It===3&&(Vt&130023424)===Vt&&500>St()-g0?Po(e,0):m0|=r),Er(e,t)}function k4(e,t){t===0&&(e.mode&1?(t=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):t=1);var r=fr();e=fi(e,t),e!==null&&(rl(e,t,r),Er(e,r))}function Zb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),k4(e,r)}function Vb(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(fe(314))}i!==null&&i.delete(t),k4(e,r)}var x4;x4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)Lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lr=!1,Tb(e,t,r);Lr=!!(e.flags&131072)}else Lr=!1,mt&&t.flags&1048576&&B1(t,ch,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ic(e,t),e=t.pendingProps;var s=Va(t,ar.current);$a(t,r),s=l0(null,t,i,e,s,r);var l=c0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(i)?(l=!0,uh(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,i0(t),s.updater=Yh,t.stateNode=s,s._reactInternals=t,zd(t,i,e,r),t=Gd(null,t,i,!0,l,r)):(t.tag=0,mt&&l&&Ym(t),hr(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Ic(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Wb(i),e=hn(i,e),s){case 0:t=$d(null,t,i,e,r);break e;case 1:t=xy(null,t,i,e,r);break e;case 11:t=Ey(null,t,i,e,r);break e;case 14:t=ky(null,t,i,hn(i.type,e),r);break e}throw Error(fe(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:hn(i,s),$d(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:hn(i,s),xy(e,t,i,s,r);case 3:e:{if(l4(t),e===null)throw Error(fe(387));i=t.pendingProps,l=t.memoizedState,s=l.element,R1(e,t),ph(t,i,null,r);var p=t.memoizedState;if(i=p.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=qa(Error(fe(423)),t),t=My(e,t,i,r,s);break e}else if(i!==s){s=qa(Error(fe(424)),t),t=My(e,t,i,r,s);break e}else for(Rr=Gi(t.stateNode.containerInfo.firstChild),Ir=t,mt=!0,pn=null,r=O1(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ha(),i===s){t=pi(e,t,r);break e}hr(e,t,i,r)}t=t.child}return t;case 5:return I1(t),e===null&&Fd(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,p=s.children,Bd(i,s)?p=null:l!==null&&Bd(i,l)&&(t.flags|=32),u4(e,t),hr(e,t,p,r),t.child;case 6:return e===null&&Fd(t),null;case 13:return c4(e,t,r);case 4:return o0(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Wa(t,null,i,r):hr(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:hn(i,s),Ey(e,t,i,s,r);case 7:return hr(e,t,t.pendingProps,r),t.child;case 8:return hr(e,t,t.pendingProps.children,r),t.child;case 12:return hr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,l=t.memoizedProps,p=s.value,ct(hh,i._currentValue),i._currentValue=p,l!==null)if(yn(l.value,p)){if(l.children===s.children&&!Cr.current){t=pi(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var _=l.dependencies;if(_!==null){p=l.child;for(var y=_.firstContext;y!==null;){if(y.context===i){if(l.tag===1){y=li(-1,r&-r),y.tag=2;var P=l.updateQueue;if(P!==null){P=P.shared;var x=P.pending;x===null?y.next=y:(y.next=x.next,x.next=y),P.pending=y}}l.lanes|=r,y=l.alternate,y!==null&&(y.lanes|=r),Rd(l.return,r,t),_.lanes|=r;break}y=y.next}}else if(l.tag===10)p=l.type===t.type?null:l.child;else if(l.tag===18){if(p=l.return,p===null)throw Error(fe(341));p.lanes|=r,_=p.alternate,_!==null&&(_.lanes|=r),Rd(p,r,t),p=l.sibling}else p=l.child;if(p!==null)p.return=l;else for(p=l;p!==null;){if(p===t){p=null;break}if(l=p.sibling,l!==null){l.return=p.return,p=l;break}p=p.return}l=p}hr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,$a(t,r),s=Xr(s),i=i(s),t.flags|=1,hr(e,t,i,r),t.child;case 14:return i=t.type,s=hn(i,t.pendingProps),s=hn(i.type,s),ky(e,t,i,s,r);case 15:return a4(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:hn(i,s),Ic(e,t),t.tag=1,br(i)?(e=!0,uh(t)):e=!1,$a(t,r),n4(t,i,s),zd(t,i,s,r),Gd(null,t,i,!0,e,r);case 19:return h4(e,t,r);case 22:return s4(e,t,r)}throw Error(fe(156,t.tag))};function M4(e,t){return e1(e,t)}function Hb(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(e,t,r,i){return new Hb(e,t,r,i)}function w0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wb(e){if(typeof e=="function")return w0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nm)return 11;if(e===$m)return 14}return 2}function Vi(e,t){var r=e.alternate;return r===null?(r=Jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $c(e,t,r,i,s,l){var p=2;if(i=e,typeof e=="function")w0(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ba:return So(r.children,s,l,t);case zm:p=8,s|=8;break;case ud:return e=Jr(12,r,t,s|2),e.elementType=ud,e.lanes=l,e;case ld:return e=Jr(13,r,t,s),e.elementType=ld,e.lanes=l,e;case cd:return e=Jr(19,r,t,s),e.elementType=cd,e.lanes=l,e;case Iv:return ef(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fv:p=10;break e;case Rv:p=9;break e;case Nm:p=11;break e;case $m:p=14;break e;case Bi:p=16,i=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Jr(p,r,t,s),t.elementType=e,t.type=i,t.lanes=l,t}function So(e,t,r,i){return e=Jr(7,e,i,t),e.lanes=r,e}function ef(e,t,r,i){return e=Jr(22,e,i,t),e.elementType=Iv,e.lanes=r,e.stateNode={isHidden:!1},e}function $p(e,t,r){return e=Jr(6,e,null,t),e.lanes=r,e}function Gp(e,t,r){return t=Jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kb(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lp(0),this.expirationTimes=Lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lp(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function L0(e,t,r,i,s,l,p,_,y){return e=new Kb(e,t,r,_,y),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Jr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},i0(l),e}function qb(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ca,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function P4(e){if(!e)return Ki;e=e._reactInternals;e:{if(No(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(br(r))return P1(e,r,t)}return t}function S4(e,t,r,i,s,l,p,_,y){return e=L0(r,i,!0,e,s,l,p,_,y),e.context=P4(null),r=e.current,i=fr(),s=Zi(r),l=li(i,s),l.callback=t??null,ji(r,l,s),e.current.lanes=s,rl(e,s,i),Er(e,i),e}function tf(e,t,r,i){var s=t.current,l=fr(),p=Zi(s);return r=P4(r),t.context===null?t.context=r:t.pendingContext=r,t=li(l,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ji(s,t,p),e!==null&&(mn(e,s,p,l),Oc(e,s,p)),p}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Iy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function C0(e,t){Iy(e,t),(e=e.alternate)&&Iy(e,t)}function Jb(){return null}var B4=typeof reportError=="function"?reportError:function(e){console.error(e)};function b0(e){this._internalRoot=e}rf.prototype.render=b0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));tf(e,t,null,null)};rf.prototype.unmount=b0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ro(function(){tf(null,e,null,null)}),t[hi]=null}};function rf(e){this._internalRoot=e}rf.prototype.unstable_scheduleHydration=function(e){if(e){var t=s1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Di.length&&t!==0&&t<Di[r].priority;r++);Di.splice(r,0,e),r===0&&l1(e)}};function E0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zy(){}function Yb(e,t,r,i,s){if(s){if(typeof i=="function"){var l=i;i=function(){var P=Lh(p);l.call(P)}}var p=S4(t,i,e,0,null,!1,!1,"",zy);return e._reactRootContainer=p,e[hi]=p.current,Uu(e.nodeType===8?e.parentNode:e),Ro(),p}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var _=i;i=function(){var P=Lh(y);_.call(P)}}var y=L0(e,0,!1,null,null,!1,!1,"",zy);return e._reactRootContainer=y,e[hi]=y.current,Uu(e.nodeType===8?e.parentNode:e),Ro(function(){tf(t,y,r,i)}),y}function of(e,t,r,i,s){var l=r._reactRootContainer;if(l){var p=l;if(typeof s=="function"){var _=s;s=function(){var y=Lh(p);_.call(y)}}tf(t,p,e,s)}else p=Yb(r,t,e,s,i);return Lh(p)}o1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hu(t.pendingLanes);r!==0&&(Um(t,r|1),Er(t,St()),!(Ke&6)&&(Ja=St()+500,Yi()))}break;case 13:Ro(function(){var i=fi(e,1);if(i!==null){var s=fr();mn(i,e,1,s)}}),C0(e,1)}};Zm=function(e){if(e.tag===13){var t=fi(e,134217728);if(t!==null){var r=fr();mn(t,e,134217728,r)}C0(e,134217728)}};a1=function(e){if(e.tag===13){var t=Zi(e),r=fi(e,t);if(r!==null){var i=fr();mn(r,e,t,i)}C0(e,t)}};s1=function(){return Ye};u1=function(e,t){var r=Ye;try{return Ye=e,t()}finally{Ye=r}};wd=function(e,t,r){switch(t){case"input":if(pd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=Kh(i);if(!s)throw Error(fe(90));Nv(i),pd(i,s)}}}break;case"textarea":Gv(e,r);break;case"select":t=r.value,t!=null&&Ra(e,!!r.multiple,t,!1)}};Kv=y0;qv=Ro;var Xb={usingClientEntryPoint:!1,Events:[il,Ma,Kh,Hv,Wv,y0]},ou={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qb={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xv(e),e===null?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||Jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Zh=kc.inject(Qb),An=kc}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb;Nr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(t))throw Error(fe(200));return qb(e,t,null,r)};Nr.createRoot=function(e,t){if(!E0(e))throw Error(fe(299));var r=!1,i="",s=B4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=L0(e,1,!1,null,null,r,!1,i,s),e[hi]=t.current,Uu(e.nodeType===8?e.parentNode:e),new b0(t)};Nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=Xv(t),e=e===null?null:e.stateNode,e};Nr.flushSync=function(e){return Ro(e)};Nr.hydrate=function(e,t,r){if(!nf(t))throw Error(fe(200));return of(null,e,t,!0,r)};Nr.hydrateRoot=function(e,t,r){if(!E0(e))throw Error(fe(405));var i=r!=null&&r.hydratedSources||null,s=!1,l="",p=B4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=S4(t,null,e,1,r??null,s,!1,l,p),e[hi]=t.current,Uu(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new rf(t)};Nr.render=function(e,t,r){if(!nf(t))throw Error(fe(200));return of(null,e,t,!1,r)};Nr.unmountComponentAtNode=function(e){if(!nf(e))throw Error(fe(40));return e._reactRootContainer?(Ro(function(){of(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Nr.unstable_batchedUpdates=y0;Nr.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!nf(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return of(e,t,r,!1,i)};Nr.version="18.3.1-next-f1338f8080-20240426";function A4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A4)}catch(e){console.error(e)}}A4(),Av.exports=Nr;var eE=Av.exports,T4,Ny=eE;T4=Ny.createRoot,Ny.hydrateRoot;function tE(e,t){const r=Ae.useRef(t);Ae.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const rE=1;function nE(e){return Object.freeze({__version:rE,map:e})}function af(e,t){return Object.freeze({...e,...t})}const D4=Ae.createContext(null),k0=D4.Provider;function is(){const e=Ae.useContext(D4);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function O4(e){function t(r,i){const{instance:s,context:l}=e(r).current;return Ae.useImperativeHandle(i,()=>s),r.children==null?null:Yc.createElement(k0,{value:l},r.children)}return Ae.forwardRef(t)}function F4(e){function t(r,i){const{instance:s}=e(r).current;return Ae.useImperativeHandle(i,()=>s),null}return Ae.forwardRef(t)}function R4(e){return function(r){const i=is(),s=e(r,i),{instance:l}=s.current,p=Ae.useRef(r.position),{position:_}=r;return Ae.useEffect(function(){return l.addTo(i.map),function(){l.remove()}},[i.map,l]),Ae.useEffect(function(){_!=null&&_!==p.current&&(l.setPosition(_),p.current=_)},[l,_]),s}}function I4(e,t){const r=Ae.useRef();Ae.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function x0(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}var Qd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,i){i(t)})(Bn,function(r){var i="1.9.4";function s(n){var u,f,g,w;for(f=1,g=arguments.length;f<g;f++){w=arguments[f];for(u in w)n[u]=w[u]}return n}var l=Object.create||function(){function n(){}return function(u){return n.prototype=u,new n}}();function p(n,u){var f=Array.prototype.slice;if(n.bind)return n.bind.apply(n,f.call(arguments,1));var g=f.call(arguments,2);return function(){return n.apply(u,g.length?g.concat(f.call(arguments)):arguments)}}var _=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++_),n._leaflet_id}function P(n,u,f){var g,w,S,U;return U=function(){g=!1,w&&(S.apply(f,w),w=!1)},S=function(){g?w=arguments:(n.apply(f,arguments),setTimeout(U,u),g=!0)},S}function x(n,u,f){var g=u[1],w=u[0],S=g-w;return n===g&&f?n:((n-w)%S+S)%S+w}function A(){return!1}function E(n,u){if(u===!1)return n;var f=Math.pow(10,u===void 0?6:u);return Math.round(n*f)/f}function I(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function J(n){return I(n).split(/\s+/)}function W(n,u){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var f in u)n.options[f]=u[f];return n.options}function ye(n,u,f){var g=[];for(var w in n)g.push(encodeURIComponent(f?w.toUpperCase():w)+"="+encodeURIComponent(n[w]));return(!u||u.indexOf("?")===-1?"?":"&")+g.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function $(n,u){return n.replace(j,function(f,g){var w=u[g];if(w===void 0)throw new Error("No value provided for variable "+f);return typeof w=="function"&&(w=w(u)),w})}var G=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function ae(n,u){for(var f=0;f<n.length;f++)if(n[f]===u)return f;return-1}var se="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function de(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var ge=0;function ve(n){var u=+new Date,f=Math.max(0,16-(u-ge));return ge=u+f,window.setTimeout(n,f)}var Ze=window.requestAnimationFrame||de("RequestAnimationFrame")||ve,Pe=window.cancelAnimationFrame||de("CancelAnimationFrame")||de("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Ne(n,u,f){if(f&&Ze===ve)n.call(u);else return Ze.call(window,p(n,u))}function ut(n){n&&Pe.call(window,n)}var Yt={__proto__:null,extend:s,create:l,bind:p,get lastId(){return _},stamp:y,throttle:P,wrapNum:x,falseFn:A,formatNum:E,trim:I,splitWords:J,setOptions:W,getParamString:ye,template:$,isArray:G,indexOf:ae,emptyImageUrl:se,requestFn:Ze,cancelFn:Pe,requestAnimFrame:Ne,cancelAnimFrame:ut};function Dt(){}Dt.extend=function(n){var u=function(){W(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,g=l(f);g.constructor=u,u.prototype=g;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return n.statics&&s(u,n.statics),n.includes&&(io(n.includes),s.apply(null,[g].concat(n.includes))),s(g,n),delete g.statics,delete g.includes,g.options&&(g.options=f.options?l(f.options):{},s(g.options,n.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,U=g._initHooks.length;S<U;S++)g._initHooks[S].call(this)}},u},Dt.include=function(n){var u=this.prototype.options;return s(this.prototype,n),n.options&&(this.prototype.options=u,this.mergeOptions(n.options)),this},Dt.mergeOptions=function(n){return s(this.prototype.options,n),this},Dt.addInitHook=function(n){var u=Array.prototype.slice.call(arguments,1),f=typeof n=="function"?n:function(){this[n].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function io(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=G(n)?n:[n];for(var u=0;u<n.length;u++)n[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Lt={on:function(n,u,f){if(typeof n=="object")for(var g in n)this._on(g,n[g],u);else{n=J(n);for(var w=0,S=n.length;w<S;w++)this._on(n[w],u,f)}return this},off:function(n,u,f){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var g in n)this._off(g,n[g],u);else{n=J(n);for(var w=arguments.length===1,S=0,U=n.length;S<U;S++)w?this._off(n[S]):this._off(n[S],u,f)}return this},_on:function(n,u,f,g){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(n,u,f)===!1){f===this&&(f=void 0);var w={fn:u,ctx:f};g&&(w.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(w)}},_off:function(n,u,f){var g,w,S;if(this._events&&(g=this._events[n],!!g)){if(arguments.length===1){if(this._firingCount)for(w=0,S=g.length;w<S;w++)g[w].fn=A;delete this._events[n];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var U=this._listens(n,u,f);if(U!==!1){var te=g[U];this._firingCount&&(te.fn=A,this._events[n]=g=g.slice()),g.splice(U,1)}}},fire:function(n,u,f){if(!this.listens(n,f))return this;var g=s({},u,{type:n,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[n];if(w){this._firingCount=this._firingCount+1||1;for(var S=0,U=w.length;S<U;S++){var te=w[S],oe=te.fn;te.once&&this.off(n,oe,te.ctx),oe.call(te.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(n,u,f,g){typeof n!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(g=!!u,w=void 0,f=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,w,f)!==!1)return!0;if(g){for(var U in this._eventParents)if(this._eventParents[U].listens(n,u,f,g))return!0}return!1},_listens:function(n,u,f){if(!this._events)return!1;var g=this._events[n]||[];if(!u)return!!g.length;f===this&&(f=void 0);for(var w=0,S=g.length;w<S;w++)if(g[w].fn===u&&g[w].ctx===f)return w;return!1},once:function(n,u,f){if(typeof n=="object")for(var g in n)this._on(g,n[g],u,!0);else{n=J(n);for(var w=0,S=n.length;w<S;w++)this._on(n[w],u,f,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var u in this._eventParents)this._eventParents[u].fire(n.type,s({layer:n.target,propagatedFrom:n.target},n),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var tn=Dt.extend(Lt);function ue(n,u,f){this.x=f?Math.round(n):n,this.y=f?Math.round(u):u}var Se=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};ue.prototype={clone:function(){return new ue(this.x,this.y)},add:function(n){return this.clone()._add(pe(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(pe(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new ue(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new ue(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Se(this.x),this.y=Se(this.y),this},distanceTo:function(n){n=pe(n);var u=n.x-this.x,f=n.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(n){return n=pe(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=pe(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function pe(n,u,f){return n instanceof ue?n:G(n)?new ue(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new ue(n.x,n.y):new ue(n,u,f)}function Be(n,u){if(n)for(var f=u?[n,u]:n,g=0,w=f.length;g<w;g++)this.extend(f[g])}Be.prototype={extend:function(n){var u,f;if(!n)return this;if(n instanceof ue||typeof n[0]=="number"||"x"in n)u=f=pe(n);else if(n=Ge(n),u=n.min,f=n.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(n){return pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return pe(this.min.x,this.max.y)},getTopRight:function(){return pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var u,f;return typeof n[0]=="number"||n instanceof ue?n=pe(n):n=Ge(n),n instanceof Be?(u=n.min,f=n.max):u=f=n,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(n){n=Ge(n);var u=this.min,f=this.max,g=n.min,w=n.max,S=w.x>=u.x&&g.x<=f.x,U=w.y>=u.y&&g.y<=f.y;return S&&U},overlaps:function(n){n=Ge(n);var u=this.min,f=this.max,g=n.min,w=n.max,S=w.x>u.x&&g.x<f.x,U=w.y>u.y&&g.y<f.y;return S&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var u=this.min,f=this.max,g=Math.abs(u.x-f.x)*n,w=Math.abs(u.y-f.y)*n;return Ge(pe(u.x-g,u.y-w),pe(f.x+g,f.y+w))},equals:function(n){return n?(n=Ge(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Ge(n,u){return!n||n instanceof Be?n:new Be(n,u)}function Mt(n,u){if(n)for(var f=u?[n,u]:n,g=0,w=f.length;g<w;g++)this.extend(f[g])}Mt.prototype={extend:function(n){var u=this._southWest,f=this._northEast,g,w;if(n instanceof Ve)g=n,w=n;else if(n instanceof Mt){if(g=n._southWest,w=n._northEast,!g||!w)return this}else return n?this.extend(De(n)||qe(n)):this;return!u&&!f?(this._southWest=new Ve(g.lat,g.lng),this._northEast=new Ve(w.lat,w.lng)):(u.lat=Math.min(g.lat,u.lat),u.lng=Math.min(g.lng,u.lng),f.lat=Math.max(w.lat,f.lat),f.lng=Math.max(w.lng,f.lng)),this},pad:function(n){var u=this._southWest,f=this._northEast,g=Math.abs(u.lat-f.lat)*n,w=Math.abs(u.lng-f.lng)*n;return new Mt(new Ve(u.lat-g,u.lng-w),new Ve(f.lat+g,f.lng+w))},getCenter:function(){return new Ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof Ve||"lat"in n?n=De(n):n=qe(n);var u=this._southWest,f=this._northEast,g,w;return n instanceof Mt?(g=n.getSouthWest(),w=n.getNorthEast()):g=w=n,g.lat>=u.lat&&w.lat<=f.lat&&g.lng>=u.lng&&w.lng<=f.lng},intersects:function(n){n=qe(n);var u=this._southWest,f=this._northEast,g=n.getSouthWest(),w=n.getNorthEast(),S=w.lat>=u.lat&&g.lat<=f.lat,U=w.lng>=u.lng&&g.lng<=f.lng;return S&&U},overlaps:function(n){n=qe(n);var u=this._southWest,f=this._northEast,g=n.getSouthWest(),w=n.getNorthEast(),S=w.lat>u.lat&&g.lat<f.lat,U=w.lng>u.lng&&g.lng<f.lng;return S&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,u){return n?(n=qe(n),this._southWest.equals(n.getSouthWest(),u)&&this._northEast.equals(n.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function qe(n,u){return n instanceof Mt?n:new Mt(n,u)}function Ve(n,u,f){if(isNaN(n)||isNaN(u))throw new Error("Invalid LatLng object: ("+n+", "+u+")");this.lat=+n,this.lng=+u,f!==void 0&&(this.alt=+f)}Ve.prototype={equals:function(n,u){if(!n)return!1;n=De(n);var f=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return f<=(u===void 0?1e-9:u)},toString:function(n){return"LatLng("+E(this.lat,n)+", "+E(this.lng,n)+")"},distanceTo:function(n){return _n.distance(this,De(n))},wrap:function(){return _n.wrapLatLng(this)},toBounds:function(n){var u=180*n/40075017,f=u/Math.cos(Math.PI/180*this.lat);return qe([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new Ve(this.lat,this.lng,this.alt)}};function De(n,u,f){return n instanceof Ve?n:G(n)&&typeof n[0]!="object"?n.length===3?new Ve(n[0],n[1],n[2]):n.length===2?new Ve(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new Ve(n.lat,"lng"in n?n.lng:n.lon,n.alt):u===void 0?null:new Ve(n,u,f)}var Xt={latLngToPoint:function(n,u){var f=this.projection.project(n),g=this.scale(u);return this.transformation._transform(f,g)},pointToLatLng:function(n,u){var f=this.scale(u),g=this.transformation.untransform(n,f);return this.projection.unproject(g)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(n),g=this.transformation.transform(u.min,f),w=this.transformation.transform(u.max,f);return new Be(g,w)},infinite:!1,wrapLatLng:function(n){var u=this.wrapLng?x(n.lng,this.wrapLng,!0):n.lng,f=this.wrapLat?x(n.lat,this.wrapLat,!0):n.lat,g=n.alt;return new Ve(f,u,g)},wrapLatLngBounds:function(n){var u=n.getCenter(),f=this.wrapLatLng(u),g=u.lat-f.lat,w=u.lng-f.lng;if(g===0&&w===0)return n;var S=n.getSouthWest(),U=n.getNorthEast(),te=new Ve(S.lat-g,S.lng-w),oe=new Ve(U.lat-g,U.lng-w);return new Mt(te,oe)}},_n=s({},Xt,{wrapLng:[-180,180],R:6371e3,distance:function(n,u){var f=Math.PI/180,g=n.lat*f,w=u.lat*f,S=Math.sin((u.lat-n.lat)*f/2),U=Math.sin((u.lng-n.lng)*f/2),te=S*S+Math.cos(g)*Math.cos(w)*U*U,oe=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*oe}}),oo=6378137,cs={R:oo,MAX_LATITUDE:85.0511287798,project:function(n){var u=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,n.lat),-f),w=Math.sin(g*u);return new ue(this.R*n.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(n){var u=180/Math.PI;return new Ve((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*u,n.x*u/this.R)},bounds:function(){var n=oo*Math.PI;return new Be([-n,-n],[n,n])}()};function hs(n,u,f,g){if(G(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=u,this._c=f,this._d=g}hs.prototype={transform:function(n,u){return this._transform(n.clone(),u)},_transform:function(n,u){return u=u||1,n.x=u*(this._a*n.x+this._b),n.y=u*(this._c*n.y+this._d),n},untransform:function(n,u){return u=u||1,new ue((n.x/u-this._b)/this._a,(n.y/u-this._d)/this._c)}};function ao(n,u,f,g){return new hs(n,u,f,g)}var fs=s({},_n,{code:"EPSG:3857",projection:cs,transformation:function(){var n=.5/(Math.PI*cs.R);return ao(n,.5,-n,.5)}()}),cl=s({},fs,{code:"EPSG:900913"});function hl(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function fl(n,u){var f="",g,w,S,U,te,oe;for(g=0,S=n.length;g<S;g++){for(te=n[g],w=0,U=te.length;w<U;w++)oe=te[w],f+=(w?"L":"M")+oe.x+" "+oe.y;f+=u?Ee.svg?"z":"x":""}return f||"M0 0"}var Uo=document.documentElement.style,gi="ActiveXObject"in window,pl=gi&&!document.addEventListener,dl="msLaunchUri"in navigator&&!("documentMode"in document),ps=kr("webkit"),ml=kr("android"),gl=kr("android 2")||kr("android 3"),Ef=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kf=ml&&kr("Google")&&Ef<537&&!("AudioNode"in window),ds=!!window.opera,yl=!dl&&kr("chrome"),_l=kr("gecko")&&!ps&&!ds&&!gi,vl=!yl&&kr("safari"),ms=kr("phantom"),wl="OTransition"in Uo,yi=navigator.platform.indexOf("Win")===0,Ll=gi&&"transition"in Uo,Zo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gl,_i="MozPerspective"in Uo,Cl=!window.L_DISABLE_3D&&(Ll||Zo||_i)&&!wl&&!ms,Nn=typeof orientation<"u"||kr("mobile"),xf=Nn&&ps,Mf=Nn&&Zo,gs=!window.PointerEvent&&window.MSPointerEvent,bl=!!(window.PointerEvent||gs),El="ontouchstart"in window||!!window.TouchEvent,Pf=!window.L_NO_TOUCH&&(El||bl),Sf=Nn&&ds,kl=Nn&&_l,xl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bf=function(){var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",A,u),window.removeEventListener("testPassiveEventSupport",A,u)}catch{}return n}(),Af=function(){return!!document.createElement("canvas").getContext}(),ys=!!(document.createElementNS&&hl("svg").createSVGRect),Ml=!!ys&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Tf=!ys&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var u=n.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Df=navigator.platform.indexOf("Mac")===0,Of=navigator.platform.indexOf("Linux")===0;function kr(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Ee={ie:gi,ielt9:pl,edge:dl,webkit:ps,android:ml,android23:gl,androidStock:kf,opera:ds,chrome:yl,gecko:_l,safari:vl,phantom:ms,opera12:wl,win:yi,ie3d:Ll,webkit3d:Zo,gecko3d:_i,any3d:Cl,mobile:Nn,mobileWebkit:xf,mobileWebkit3d:Mf,msPointer:gs,pointer:bl,touch:Pf,touchNative:El,mobileOpera:Sf,mobileGecko:kl,retina:xl,passiveEvents:Bf,canvas:Af,svg:ys,vml:Tf,inlineSvg:Ml,mac:Df,linux:Of},Pl=Ee.msPointer?"MSPointerDown":"pointerdown",Sl=Ee.msPointer?"MSPointerMove":"pointermove",_s=Ee.msPointer?"MSPointerUp":"pointerup",Bl=Ee.msPointer?"MSPointerCancel":"pointercancel",vs={touchstart:Pl,touchmove:Sl,touchend:_s,touchcancel:Bl},Al={touchstart:Nf,touchmove:Ho,touchend:Ho,touchcancel:Ho},vi={},Tl=!1;function Ff(n,u,f){return u==="touchstart"&&ws(),Al[u]?(f=Al[u].bind(this,f),n.addEventListener(vs[u],f,!1),f):(console.warn("wrong event specified:",u),A)}function Rf(n,u,f){if(!vs[u]){console.warn("wrong event specified:",u);return}n.removeEventListener(vs[u],f,!1)}function If(n){vi[n.pointerId]=n}function zf(n){vi[n.pointerId]&&(vi[n.pointerId]=n)}function Vo(n){delete vi[n.pointerId]}function ws(){Tl||(document.addEventListener(Pl,If,!0),document.addEventListener(Sl,zf,!0),document.addEventListener(_s,Vo,!0),document.addEventListener(Bl,Vo,!0),Tl=!0)}function Ho(n,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in vi)u.touches.push(vi[f]);u.changedTouches=[u],n(u)}}function Nf(n,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ot(u),Ho(n,u)}function $f(n){var u={},f,g;for(g in n)f=n[g],u[g]=f&&f.bind?f.bind(n):f;return n=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Gf=200;function jf(n,u){n.addEventListener("dblclick",u);var f=0,g;function w(S){if(S.detail!==1){g=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var U=Il(S);if(!(U.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!U.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var te=Date.now();te-f<=Gf?(g++,g===2&&u($f(S))):g=1,f=te}}}return n.addEventListener("click",w),{dblclick:u,simDblclick:w}}function Uf(n,u){n.removeEventListener("dblclick",u.dblclick),n.removeEventListener("click",u.simDblclick)}var Ls=Ko(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),so=Ko(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Dl=so==="webkitTransition"||so==="OTransition"?so+"End":"transitionend";function Ol(n){return typeof n=="string"?document.getElementById(n):n}function vn(n,u){var f=n.style[u]||n.currentStyle&&n.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(n,null);f=g?g[u]:null}return f==="auto"?null:f}function He(n,u,f){var g=document.createElement(n);return g.className=u||"",f&&f.appendChild(g),g}function lt(n){var u=n.parentNode;u&&u.removeChild(n)}function uo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function wi(n){var u=n.parentNode;u&&u.lastChild!==n&&u.appendChild(n)}function $n(n){var u=n.parentNode;u&&u.firstChild!==n&&u.insertBefore(n,u.firstChild)}function Cs(n,u){if(n.classList!==void 0)return n.classList.contains(u);var f=Wo(n);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function Fe(n,u){if(n.classList!==void 0)for(var f=J(u),g=0,w=f.length;g<w;g++)n.classList.add(f[g]);else if(!Cs(n,u)){var S=Wo(n);bs(n,(S?S+" ":"")+u)}}function gt(n,u){n.classList!==void 0?n.classList.remove(u):bs(n,I((" "+Wo(n)+" ").replace(" "+u+" "," ")))}function bs(n,u){n.className.baseVal===void 0?n.className=u:n.className.baseVal=u}function Wo(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function mr(n,u){"opacity"in n.style?n.style.opacity=u:"filter"in n.style&&Zf(n,u)}function Zf(n,u){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=n.filters.item(g)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):n.style.filter+=" progid:"+g+"(opacity="+u+")"}function Ko(n){for(var u=document.documentElement.style,f=0;f<n.length;f++)if(n[f]in u)return n[f];return!1}function Gn(n,u,f){var g=u||new ue(0,0);n.style[Ls]=(Ee.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function Ct(n,u){n._leaflet_pos=u,Ee.any3d?Gn(n,u):(n.style.left=u.x+"px",n.style.top=u.y+"px")}function jn(n){return n._leaflet_pos||new ue(0,0)}var lo,co,Es;if("onselectstart"in document)lo=function(){Oe(window,"selectstart",Ot)},co=function(){ot(window,"selectstart",Ot)};else{var ho=Ko(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);lo=function(){if(ho){var n=document.documentElement.style;Es=n[ho],n[ho]="none"}},co=function(){ho&&(document.documentElement.style[ho]=Es,Es=void 0)}}function ks(){Oe(window,"dragstart",Ot)}function xs(){ot(window,"dragstart",Ot)}var qo,Ms;function Ps(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Jo(),qo=n,Ms=n.style.outlineStyle,n.style.outlineStyle="none",Oe(window,"keydown",Jo))}function Jo(){qo&&(qo.style.outlineStyle=Ms,qo=void 0,Ms=void 0,ot(window,"keydown",Jo))}function Fl(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ss(n){var u=n.getBoundingClientRect();return{x:u.width/n.offsetWidth||1,y:u.height/n.offsetHeight||1,boundingClientRect:u}}var Vf={__proto__:null,TRANSFORM:Ls,TRANSITION:so,TRANSITION_END:Dl,get:Ol,getStyle:vn,create:He,remove:lt,empty:uo,toFront:wi,toBack:$n,hasClass:Cs,addClass:Fe,removeClass:gt,setClass:bs,getClass:Wo,setOpacity:mr,testProp:Ko,setTransform:Gn,setPosition:Ct,getPosition:jn,get disableTextSelection(){return lo},get enableTextSelection(){return co},disableImageDrag:ks,enableImageDrag:xs,preventOutline:Ps,restoreOutline:Jo,getSizedParentNode:Fl,getScale:Ss};function Oe(n,u,f,g){if(u&&typeof u=="object")for(var w in u)Un(n,w,u[w],f);else{u=J(u);for(var S=0,U=u.length;S<U;S++)Un(n,u[S],f,g)}return this}var Gr="_leaflet_events";function ot(n,u,f,g){if(arguments.length===1)Rl(n),delete n[Gr];else if(u&&typeof u=="object")for(var w in u)As(n,w,u[w],f);else if(u=J(u),arguments.length===2)Rl(n,function(te){return ae(u,te)!==-1});else for(var S=0,U=u.length;S<U;S++)As(n,u[S],f,g);return this}function Rl(n,u){for(var f in n[Gr]){var g=f.split(/\d/)[0];(!u||u(g))&&As(n,g,null,null,f)}}var Bs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Un(n,u,f,g){var w=u+y(f)+(g?"_"+y(g):"");if(n[Gr]&&n[Gr][w])return this;var S=function(te){return f.call(g||n,te||window.event)},U=S;!Ee.touchNative&&Ee.pointer&&u.indexOf("touch")===0?S=Ff(n,u,S):Ee.touch&&u==="dblclick"?S=jf(n,S):"addEventListener"in n?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?n.addEventListener(Bs[u]||u,S,Ee.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(S=function(te){te=te||window.event,Li(n,te)&&U(te)},n.addEventListener(Bs[u],S,!1)):n.addEventListener(u,U,!1):n.attachEvent("on"+u,S),n[Gr]=n[Gr]||{},n[Gr][w]=S}function As(n,u,f,g,w){w=w||u+y(f)+(g?"_"+y(g):"");var S=n[Gr]&&n[Gr][w];if(!S)return this;!Ee.touchNative&&Ee.pointer&&u.indexOf("touch")===0?Rf(n,u,S):Ee.touch&&u==="dblclick"?Uf(n,S):"removeEventListener"in n?n.removeEventListener(Bs[u]||u,S,!1):n.detachEvent("on"+u,S),n[Gr][w]=null}function Zn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Ts(n){return Un(n,"wheel",Zn),this}function fo(n){return Oe(n,"mousedown touchstart dblclick contextmenu",Zn),n._leaflet_disable_click=!0,this}function Ot(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Vn(n){return Ot(n),Zn(n),this}function Il(n){if(n.composedPath)return n.composedPath();for(var u=[],f=n.target;f;)u.push(f),f=f.parentNode;return u}function zl(n,u){if(!u)return new ue(n.clientX,n.clientY);var f=Ss(u),g=f.boundingClientRect;return new ue((n.clientX-g.left)/f.x-u.clientLeft,(n.clientY-g.top)/f.y-u.clientTop)}var Hf=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nl(n){return Ee.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Hf:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Li(n,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==n;)f=f.parentNode}catch{return!1}return f!==n}var Wf={__proto__:null,on:Oe,off:ot,stopPropagation:Zn,disableScrollPropagation:Ts,disableClickPropagation:fo,preventDefault:Ot,stop:Vn,getPropagationPath:Il,getMousePosition:zl,getWheelDelta:Nl,isExternalTarget:Li,addListener:Oe,removeListener:ot},$l=tn.extend({run:function(n,u,f,g){this.stop(),this._el=n,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=jn(n),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ne(this._animate,this),this._step()},_step:function(n){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),n):(this._runFrame(1),this._complete())},_runFrame:function(n,u){var f=this._startPos.add(this._offset.multiplyBy(n));u&&f._round(),Ct(this._el,f),this.fire("step")},_complete:function(){ut(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ie=tn.extend({options:{crs:fs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,u){u=W(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(De(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=so&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Oe(this._proxy,Dl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),n=this._limitCenter(De(n),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=s({animate:f.animate},f.zoom),f.pan=s({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,u,f.zoom):this._tryAnimatedPan(n,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(n,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(n,u){return this._loaded?this.setView(this.getCenter(),n,{zoom:u}):(this._zoom=n,this)},zoomIn:function(n,u){return n=n||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,u)},zoomOut:function(n,u){return n=n||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,u)},setZoomAround:function(n,u,f){var g=this.getZoomScale(u),w=this.getSize().divideBy(2),S=n instanceof ue?n:this.latLngToContainerPoint(n),U=S.subtract(w).multiplyBy(1-1/g),te=this.containerPointToLatLng(w.add(U));return this.setView(te,u,{zoom:f})},_getBoundsCenterZoom:function(n,u){u=u||{},n=n.getBounds?n.getBounds():qe(n);var f=pe(u.paddingTopLeft||u.padding||[0,0]),g=pe(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(n,!1,f.add(g));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:n.getCenter(),zoom:w};var S=g.subtract(f).divideBy(2),U=this.project(n.getSouthWest(),w),te=this.project(n.getNorthEast(),w),oe=this.unproject(U.add(te).divideBy(2).add(S),w);return{center:oe,zoom:w}},fitBounds:function(n,u){if(n=qe(n),!n.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(n,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,u){return this.setView(n,this._zoom,{pan:u})},panBy:function(n,u){if(n=pe(n).round(),u=u||{},!n.x&&!n.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $l,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Fe(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,u,f){if(f=f||{},f.animate===!1||!Ee.any3d)return this.setView(n,u,f);this._stop();var g=this.project(this.getCenter()),w=this.project(n),S=this.getSize(),U=this._zoom;n=De(n),u=u===void 0?U:u;var te=Math.max(S.x,S.y),oe=te*this.getZoomScale(U,u),ce=w.distanceTo(g)||1,_e=1.42,Me=_e*_e;function Re(yt){var da=yt?-1:1,Vr=yt?oe:te,fp=oe*oe-te*te+da*Me*Me*ce*ce,ma=2*Vr*Me*ce,ga=fp/ma,rc=Math.sqrt(ga*ga+1)-ga,nc=rc<1e-9?-18:Math.log(rc);return nc}function Ut(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function bt(yt){return(Math.exp(yt)+Math.exp(-yt))/2}function Et(yt){return Ut(yt)/bt(yt)}var At=Re(0);function En(yt){return te*(bt(At)/bt(At+_e*yt))}function fa(yt){return te*(bt(At)*Et(At+_e*yt)-Ut(At))/Me}function ec(yt){return 1-Math.pow(1-yt,1.5)}var pa=Date.now(),tc=(Re(1)-At)/_e,hp=f.duration?1e3*f.duration:1e3*tc*.8;function qs(){var yt=(Date.now()-pa)/hp,da=ec(yt)*tc;yt<=1?(this._flyToFrame=Ne(qs,this),this._move(this.unproject(g.add(w.subtract(g).multiplyBy(fa(da)/ce)),U),this.getScaleZoom(te/En(da),U),{flyTo:!0})):this._move(n,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),qs.call(this),this},flyToBounds:function(n,u){var f=this._getBoundsCenterZoom(n,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(n){return n=qe(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var u=this.options.minZoom;return this.options.minZoom=n,this._loaded&&u!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var u=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&u!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,u){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,qe(n));return f.equals(g)||this.panTo(g,u),this._enforcingBounds=!1,this},panInside:function(n,u){u=u||{};var f=pe(u.paddingTopLeft||u.padding||[0,0]),g=pe(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),S=this.project(n),U=this.getPixelBounds(),te=Ge([U.min.add(f),U.max.subtract(g)]),oe=te.getSize();if(!te.contains(S)){this._enforcingBounds=!0;var ce=S.subtract(te.getCenter()),_e=te.extend(S).getSize().subtract(oe);w.x+=ce.x<0?-_e.x:_e.x,w.y+=ce.y<0?-_e.y:_e.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=s({animate:!1,pan:!0},n===!0?{animate:!0}:n);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=u.divideBy(2).round(),w=f.divideBy(2).round(),S=g.subtract(w);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),f=p(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,n):navigator.geolocation.getCurrentPosition(u,f,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var u=n.code,f=n.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var u=n.coords.latitude,f=n.coords.longitude,g=new Ve(u,f),w=g.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var U=this.getBoundsZoom(w);this.setView(g,S.maxZoom?Math.min(U,S.maxZoom):U)}var te={latlng:g,bounds:w,timestamp:n.timestamp};for(var oe in n.coords)typeof n.coords[oe]=="number"&&(te[oe]=n.coords[oe]);this.fire("locationfound",te)}},addHandler:function(n,u){if(!u)return this;var f=this[n]=new u(this);return this._handlers.push(f),this.options[n]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ut(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)lt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,u){var f="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),g=He("div",f,u||this._mapPane);return n&&(this._panes[n]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),u=this.unproject(n.getBottomLeft()),f=this.unproject(n.getTopRight());return new Mt(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,u,f){n=qe(n),f=pe(f||[0,0]);var g=this.getZoom()||0,w=this.getMinZoom(),S=this.getMaxZoom(),U=n.getNorthWest(),te=n.getSouthEast(),oe=this.getSize().subtract(f),ce=Ge(this.project(te,g),this.project(U,g)).getSize(),_e=Ee.any3d?this.options.zoomSnap:1,Me=oe.x/ce.x,Re=oe.y/ce.y,Ut=u?Math.max(Me,Re):Math.min(Me,Re);return g=this.getScaleZoom(Ut,g),_e&&(g=Math.round(g/(_e/100))*(_e/100),g=u?Math.ceil(g/_e)*_e:Math.floor(g/_e)*_e),Math.max(w,Math.min(S,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ue(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,u){var f=this._getTopLeftPoint(n,u);return new Be(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(n)/f.scale(u)},getScaleZoom:function(n,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var g=f.zoom(n*f.scale(u));return isNaN(g)?1/0:g},project:function(n,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(De(n),u)},unproject:function(n,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(pe(n),u)},layerPointToLatLng:function(n){var u=pe(n).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(n){var u=this.project(De(n))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(De(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(qe(n))},distance:function(n,u){return this.options.crs.distance(De(n),De(u))},containerPointToLayerPoint:function(n){return pe(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return pe(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var u=this.containerPointToLayerPoint(pe(n));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(De(n)))},mouseEventToContainerPoint:function(n){return zl(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var u=this._container=Ol(n);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Oe(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,Fe(n,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=vn(n,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new ue(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Fe(n.markerPane,"leaflet-zoom-hide"),Fe(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,u,f){Ct(this._mapPane,new ue(0,0));var g=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,f)._move(n,u)._moveEnd(w),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(n,u){return n&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(n,u,f,g){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),g?f&&f.pinch&&this.fire("zoom",f):((w||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ut(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ct(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var u=n?ot:Oe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ut(this._resizeRequest),this._resizeRequest=Ne(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,u){for(var f=[],g,w=u==="mouseout"||u==="mouseover",S=n.target||n.srcElement,U=!1;S;){if(g=this._targets[y(S)],g&&(u==="click"||u==="preclick")&&this._draggableMoved(g)){U=!0;break}if(g&&g.listens(u,!0)&&(w&&!Li(S,n)||(f.push(g),w))||S===this._container)break;S=S.parentNode}return!f.length&&!U&&!w&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var u=n.target||n.srcElement;if(!(!this._loaded||u._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(u))){var f=n.type;f==="mousedown"&&Ps(u),this._fireDOMEvent(n,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,u,f){if(n.type==="click"){var g=s({},n);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var w=this._findEventTargets(n,u);if(f){for(var S=[],U=0;U<f.length;U++)f[U].listens(u,!0)&&S.push(f[U]);w=S.concat(w)}if(w.length){u==="contextmenu"&&Ot(n);var te=w[0],oe={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var ce=te.getLatLng&&(!te._radius||te._radius<=10);oe.containerPoint=ce?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(n),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=ce?te.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(U=0;U<w.length;U++)if(w[U].fire(u,oe,!0),oe.originalEvent._stopped||w[U].options.bubblingMouseEvents===!1&&ae(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,u=this._handlers.length;n<u;n++)this._handlers[n].disable()},whenReady:function(n,u){return this._loaded?n.call(u||this,{target:this}):this.on("load",n,u),this},_getMapPanePos:function(){return jn(this._mapPane)||new ue(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,u){var f=n&&u!==void 0?this._getNewPixelOrigin(n,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,u){var f=this.getSize()._divideBy(2);return this.project(n,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,u,f){var g=this._getNewPixelOrigin(f,u);return this.project(n,u)._subtract(g)},_latLngBoundsToNewLayerBounds:function(n,u,f){var g=this._getNewPixelOrigin(f,u);return Ge([this.project(n.getSouthWest(),u)._subtract(g),this.project(n.getNorthWest(),u)._subtract(g),this.project(n.getSouthEast(),u)._subtract(g),this.project(n.getNorthEast(),u)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,u,f){if(!f)return n;var g=this.project(n,u),w=this.getSize().divideBy(2),S=new Be(g.subtract(w),g.add(w)),U=this._getBoundsOffset(S,f,u);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?n:this.unproject(g.add(U),u)},_limitOffset:function(n,u){if(!u)return n;var f=this.getPixelBounds(),g=new Be(f.min.add(n),f.max.add(n));return n.add(this._getBoundsOffset(g,u))},_getBoundsOffset:function(n,u,f){var g=Ge(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),w=g.min.subtract(n.min),S=g.max.subtract(n.max),U=this._rebound(w.x,-S.x),te=this._rebound(w.y,-S.y);return new ue(U,te)},_rebound:function(n,u){return n+u>0?Math.round(n-u)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(u))},_limitZoom:function(n){var u=this.getMinZoom(),f=this.getMaxZoom(),g=Ee.any3d?this.options.zoomSnap:1;return g&&(n=Math.round(n/g)*g),Math.max(u,Math.min(f,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,u){var f=this._getCenterOffset(n)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var n=this._proxy=He("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(u){var f=Ls,g=this._proxy.style[f];Gn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),u=this.getZoom();Gn(this._proxy,this.project(n,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(u),w=this._getCenterOffset(n)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(w)?!1:(Ne(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(n,u,!0)},this),!0)},_animateZoom:function(n,u,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=u,Fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:u,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function je(n,u){return new Ie(n,u)}var ur=Dt.extend({options:{position:"topright"},initialize:function(n){W(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var u=this._map;return u&&u.removeControl(this),this.options.position=n,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var u=this._container=this.onAdd(n),f=this.getPosition(),g=n._controlCorners[f];return Fe(u,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(u,g.firstChild):g.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),wn=function(n){return new ur(n)};Ie.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},u="leaflet-",f=this._controlContainer=He("div",u+"control-container",this._container);function g(w,S){var U=u+w+" "+u+S;n[w+S]=He("div",U,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)lt(this._controlCorners[n]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gl=ur.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,u,f,g){return f<g?-1:g<f?1:0}},initialize:function(n,u,f){W(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in n)this._addLayer(n[g],g);for(g in u)this._addLayer(u[g],g,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return ur.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,u){return this._addLayer(n,u),this._map?this._update():this},addOverlay:function(n,u){return this._addLayer(n,u,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(n));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):gt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",u=this._container=He("div",n),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),fo(u),Ts(u);var g=this._section=He("section",n+"-list");f&&(this._map.on("click",this.collapse,this),Oe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=He("a",n+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Oe(w,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Ot(S),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=He("div",n+"-base",g),this._separator=He("div",n+"-separator",g),this._overlaysList=He("div",n+"-overlays",g),u.appendChild(g)},_getLayer:function(n){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===n)return this._layers[u]},_addLayer:function(n,u,f){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(p(function(g,w){return this.options.sortFunction(g.layer,w.layer,g.name,w.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;uo(this._baseLayersList),uo(this._overlaysList),this._layerControlInputs=[];var n,u,f,g,w=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),u=u||g.overlay,n=n||!g.overlay,w+=g.overlay?0:1;return this.options.hideSingleBase&&(n=n&&w>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=u&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var u=this._getLayer(y(n.target)),f=u.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(n,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(u?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(n){var u=document.createElement("label"),f=this._map.hasLayer(n.layer),g;n.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+y(this),f),this._layerControlInputs.push(g),g.layerId=y(n.layer),Oe(g,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+n.name;var S=document.createElement("span");u.appendChild(S),S.appendChild(g),S.appendChild(w);var U=n.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,u,f,g=[],w=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)u=n[S],f=this._getLayer(u.layerId).layer,u.checked?g.push(f):u.checked||w.push(f);for(S=0;S<w.length;S++)this._map.hasLayer(w[S])&&this._map.removeLayer(w[S]);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])||this._map.addLayer(g[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,u,f,g=this._map.getZoom(),w=n.length-1;w>=0;w--)u=n[w],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Oe(n,"click",Ot),this.expand();var u=this;setTimeout(function(){ot(n,"click",Ot),u._preventClick=!1})}}),jl=function(n,u,f){return new Gl(n,u,f)},Ds=ur.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var u="leaflet-control-zoom",f=He("div",u+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,u,f,g,w){var S=He("a",f,g);return S.innerHTML=n,S.href="#",S.title=u,S.setAttribute("role","button"),S.setAttribute("aria-label",u),fo(S),Oe(S,"click",Vn),Oe(S,"click",w,this),Oe(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,u="leaflet-disabled";gt(this._zoomInButton,u),gt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Fe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Fe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ie.mergeOptions({zoomControl:!0}),Ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ds,this.addControl(this.zoomControl))});var Os=function(n){return new Ds(n)},po=ur.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var u="leaflet-control-scale",f=He("div",u),g=this.options;return this._addScales(g,u+"-line",f),n.on(g.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),f},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,u,f){n.metric&&(this._mScale=He("div",u,f)),n.imperial&&(this._iScale=He("div",u,f))},_update:function(){var n=this._map,u=n.getSize().y/2,f=n.distance(n.containerPointToLatLng([0,u]),n.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var u=this._getRoundNum(n),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/n)},_updateImperial:function(n){var u=n*3.2808399,f,g,w;u>5280?(f=u/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(n,u,f){n.style.width=Math.round(this.options.maxWidth*f)+"px",n.innerHTML=u},_getRoundNum:function(n){var u=Math.pow(10,(Math.floor(n)+"").length-1),f=n/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),Kf=function(n){return new po(n)},Ln='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yo=ur.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?Ln+" ":"")+"Leaflet</a>"},initialize:function(n){W(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=He("div","leaflet-control-attribution"),fo(this._container);for(var u in n._layers)n._layers[u].getAttribution&&this.addAttribution(n._layers[u].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var u in this._attributions)this._attributions[u]&&n.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),n.length&&f.push(n.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ie.mergeOptions({attributionControl:!0}),Ie.addInitHook(function(){this.options.attributionControl&&new Yo().addTo(this)});var Ci=function(n){return new Yo(n)};ur.Layers=Gl,ur.Zoom=Ds,ur.Scale=po,ur.Attribution=Yo,wn.layers=jl,wn.zoom=Os,wn.scale=Kf,wn.attribution=Ci;var jr=Dt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jr.addTo=function(n,u){return n.addHandler(u,this),this};var qf={Events:Lt},Ul=Ee.touch?"touchstart mousedown":"mousedown",Cn=tn.extend({options:{clickTolerance:3},initialize:function(n,u,f,g){W(this,g),this._element=n,this._dragStartTarget=u||n,this._preventOutline=f},enable:function(){this._enabled||(Oe(this._dragStartTarget,Ul,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Cn._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Ul,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Cs(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Cn._dragging===this&&this.finishDrag();return}if(!(Cn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Cn._dragging=this,this._preventOutline&&Ps(this._element),ks(),lo(),!this._moving)){this.fire("down");var u=n.touches?n.touches[0]:n,f=Fl(this._element);this._startPoint=new ue(u.clientX,u.clientY),this._startPos=jn(this._element),this._parentScale=Ss(f);var g=n.type==="mousedown";Oe(document,g?"mousemove":"touchmove",this._onMove,this),Oe(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var u=n.touches&&n.touches.length===1?n.touches[0]:n,f=new ue(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ot(n),this._moved||(this.fire("dragstart"),this._moved=!0,Fe(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ct(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){gt(document.body,"leaflet-dragging"),this._lastTarget&&(gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),xs(),co();var u=this._moved&&this._moving;this._moving=!1,Cn._dragging=!1,u&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Zl(n,u,f){var g,w=[1,4,2,8],S,U,te,oe,ce,_e,Me,Re;for(S=0,_e=n.length;S<_e;S++)n[S]._code=Wn(n[S],u);for(te=0;te<4;te++){for(Me=w[te],g=[],S=0,_e=n.length,U=_e-1;S<_e;U=S++)oe=n[S],ce=n[U],oe._code&Me?ce._code&Me||(Re=xr(ce,oe,Me,u,f),Re._code=Wn(Re,u),g.push(Re)):(ce._code&Me&&(Re=xr(ce,oe,Me,u,f),Re._code=Wn(Re,u),g.push(Re)),g.push(oe));n=g}return n}function Vl(n,u){var f,g,w,S,U,te,oe,ce,_e;if(!n||n.length===0)throw new Error("latlngs not passed");dt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Me=De([0,0]),Re=qe(n),Ut=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());Ut<1700&&(Me=Fs(n));var bt=n.length,Et=[];for(f=0;f<bt;f++){var At=De(n[f]);Et.push(u.project(De([At.lat-Me.lat,At.lng-Me.lng])))}for(te=oe=ce=0,f=0,g=bt-1;f<bt;g=f++)w=Et[f],S=Et[g],U=w.y*S.x-S.y*w.x,oe+=(w.x+S.x)*U,ce+=(w.y+S.y)*U,te+=U*3;te===0?_e=Et[0]:_e=[oe/te,ce/te];var En=u.unproject(pe(_e));return De([En.lat+Me.lat,En.lng+Me.lng])}function Fs(n){for(var u=0,f=0,g=0,w=0;w<n.length;w++){var S=De(n[w]);u+=S.lat,f+=S.lng,g++}return De([u/g,f/g])}var Jf={__proto__:null,clipPolygon:Zl,polygonCenter:Vl,centroid:Fs};function Rs(n,u){if(!u||!n.length)return n.slice();var f=u*u;return n=bi(n,f),n=Qt(n,f),n}function Hl(n,u,f){return Math.sqrt(Kn(n,u,f,!0))}function Ft(n,u,f){return Kn(n,u,f)}function Qt(n,u){var f=n.length,g=typeof Uint8Array<"u"?Uint8Array:Array,w=new g(f);w[0]=w[f-1]=1,Xo(n,w,u,0,f-1);var S,U=[];for(S=0;S<f;S++)w[S]&&U.push(n[S]);return U}function Xo(n,u,f,g,w){var S=0,U,te,oe;for(te=g+1;te<=w-1;te++)oe=Kn(n[te],n[g],n[w],!0),oe>S&&(U=te,S=oe);S>f&&(u[U]=1,Xo(n,u,f,g,U),Xo(n,u,f,U,w))}function bi(n,u){for(var f=[n[0]],g=1,w=0,S=n.length;g<S;g++)Yf(n[g],n[w])>u&&(f.push(n[g]),w=g);return w<S-1&&f.push(n[S-1]),f}var Hn;function Ei(n,u,f,g,w){var S=g?Hn:Wn(n,f),U=Wn(u,f),te,oe,ce;for(Hn=U;;){if(!(S|U))return[n,u];if(S&U)return!1;te=S||U,oe=xr(n,u,te,f,w),ce=Wn(oe,f),te===S?(n=oe,S=ce):(u=oe,U=ce)}}function xr(n,u,f,g,w){var S=u.x-n.x,U=u.y-n.y,te=g.min,oe=g.max,ce,_e;return f&8?(ce=n.x+S*(oe.y-n.y)/U,_e=oe.y):f&4?(ce=n.x+S*(te.y-n.y)/U,_e=te.y):f&2?(ce=oe.x,_e=n.y+U*(oe.x-n.x)/S):f&1&&(ce=te.x,_e=n.y+U*(te.x-n.x)/S),new ue(ce,_e,w)}function Wn(n,u){var f=0;return n.x<u.min.x?f|=1:n.x>u.max.x&&(f|=2),n.y<u.min.y?f|=4:n.y>u.max.y&&(f|=8),f}function Yf(n,u){var f=u.x-n.x,g=u.y-n.y;return f*f+g*g}function Kn(n,u,f,g){var w=u.x,S=u.y,U=f.x-w,te=f.y-S,oe=U*U+te*te,ce;return oe>0&&(ce=((n.x-w)*U+(n.y-S)*te)/oe,ce>1?(w=f.x,S=f.y):ce>0&&(w+=U*ce,S+=te*ce)),U=n.x-w,te=n.y-S,g?U*U+te*te:new ue(w,S)}function dt(n){return!G(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Is(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dt(n)}function mo(n,u){var f,g,w,S,U,te,oe,ce;if(!n||n.length===0)throw new Error("latlngs not passed");dt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var _e=De([0,0]),Me=qe(n),Re=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());Re<1700&&(_e=Fs(n));var Ut=n.length,bt=[];for(f=0;f<Ut;f++){var Et=De(n[f]);bt.push(u.project(De([Et.lat-_e.lat,Et.lng-_e.lng])))}for(f=0,g=0;f<Ut-1;f++)g+=bt[f].distanceTo(bt[f+1])/2;if(g===0)ce=bt[0];else for(f=0,S=0;f<Ut-1;f++)if(U=bt[f],te=bt[f+1],w=U.distanceTo(te),S+=w,S>g){oe=(S-g)/w,ce=[te.x-oe*(te.x-U.x),te.y-oe*(te.y-U.y)];break}var At=u.unproject(pe(ce));return De([At.lat+_e.lat,At.lng+_e.lng])}var Xf={__proto__:null,simplify:Rs,pointToSegmentDistance:Hl,closestPointOnSegment:Ft,clipSegment:Ei,_getEdgeIntersection:xr,_getBitCode:Wn,_sqClosestPointOnSegment:Kn,isFlat:dt,_flat:Is,polylineCenter:mo},gr={project:function(n){return new ue(n.lng,n.lat)},unproject:function(n){return new Ve(n.y,n.x)},bounds:new Be([-180,-90],[180,90])},yr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Be([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var u=Math.PI/180,f=this.R,g=n.lat*u,w=this.R_MINOR/f,S=Math.sqrt(1-w*w),U=S*Math.sin(g),te=Math.tan(Math.PI/4-g/2)/Math.pow((1-U)/(1+U),S/2);return g=-f*Math.log(Math.max(te,1e-10)),new ue(n.lng*u*f,g)},unproject:function(n){for(var u=180/Math.PI,f=this.R,g=this.R_MINOR/f,w=Math.sqrt(1-g*g),S=Math.exp(-n.y/f),U=Math.PI/2-2*Math.atan(S),te=0,oe=.1,ce;te<15&&Math.abs(oe)>1e-7;te++)ce=w*Math.sin(U),ce=Math.pow((1-ce)/(1+ce),w/2),oe=Math.PI/2-2*Math.atan(S*ce)-U,U+=oe;return new Ve(U*u,n.x*u/f)}},Qo={__proto__:null,LonLat:gr,Mercator:yr,SphericalMercator:cs},Wl=s({},_n,{code:"EPSG:3395",projection:yr,transformation:function(){var n=.5/(Math.PI*yr.R);return ao(n,.5,-n,.5)}()}),ea=s({},_n,{code:"EPSG:4326",projection:gr,transformation:ao(1/180,1,-1/180,.5)}),go=s({},Xt,{projection:gr,transformation:ao(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,u){var f=u.lng-n.lng,g=u.lat-n.lat;return Math.sqrt(f*f+g*g)},infinite:!0});Xt.Earth=_n,Xt.EPSG3395=Wl,Xt.EPSG3857=fs,Xt.EPSG900913=cl,Xt.EPSG4326=ea,Xt.Simple=go;var Mr=tn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var u=n.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ie.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(n);return this._layers[u]?this:(this._layers[u]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var u=y(n);return this._layers[u]?(this._loaded&&n.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,u){for(var f in this._layers)n.call(u,this._layers[f]);return this},_addLayers:function(n){n=n?G(n)?n:[n]:[];for(var u=0,f=n.length;u<f;u++)this.addLayer(n[u])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var u=y(n);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,u=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var w=this._zoomBoundLayers[g].options;n=w.minZoom===void 0?n:Math.min(n,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=n===1/0?void 0:n,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ki=Mr.extend({initialize:function(n,u){W(this,u),this._layers={};var f,g;if(n)for(f=0,g=n.length;f<g;f++)this.addLayer(n[f])},addLayer:function(n){var u=this.getLayerId(n);return this._layers[u]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var u=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(n){var u=typeof n=="number"?n:this.getLayerId(n);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var u=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[n]&&g[n].apply(g,u);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,u){for(var f in this._layers)n.call(u,this._layers[f]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),zs=function(n,u){return new ki(n,u)},rn=ki.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ki.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ki.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Mt;for(var u in this._layers){var f=this._layers[u];n.extend(f.getBounds?f.getBounds():f.getLatLng())}return n}}),Qf=function(n,u){return new rn(n,u)},xi=Dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){W(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,u){var f=this._getIconUrl(n);if(!f){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(g,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(n,u){var f=this.options,g=f[u+"Size"];typeof g=="number"&&(g=[g,g]);var w=pe(g),S=pe(u==="shadow"&&f.shadowAnchor||f.iconAnchor||w&&w.divideBy(2,!0));n.className="leaflet-marker-"+u+" "+(f.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),w&&(n.style.width=w.x+"px",n.style.height=w.y+"px")},_createImg:function(n,u){return u=u||document.createElement("img"),u.src=n,u},_getIconUrl:function(n){return Ee.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function ep(n){return new xi(n)}var qn=xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof qn.imagePath!="string"&&(qn.imagePath=this._detectIconPath()),(this.options.imagePath||qn.imagePath)+xi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var u=function(f,g,w){var S=g.exec(f);return S&&S[w]};return n=u(n,/^url\((['"])?(.+)\1\)$/,2),n&&u(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=He("div","leaflet-default-icon-path",document.body),u=vn(n,"background-image")||vn(n,"backgroundImage");if(document.body.removeChild(n),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Kl=jr.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Cn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Fe(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var u=this._marker,f=u._map,g=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,S=jn(u._icon),U=f.getPixelBounds(),te=f.getPixelOrigin(),oe=Ge(U.min._subtract(te).add(w),U.max._subtract(te).subtract(w));if(!oe.contains(S)){var ce=pe((Math.max(oe.max.x,S.x)-oe.max.x)/(U.max.x-oe.max.x)-(Math.min(oe.min.x,S.x)-oe.min.x)/(U.min.x-oe.min.x),(Math.max(oe.max.y,S.y)-oe.max.y)/(U.max.y-oe.max.y)-(Math.min(oe.min.y,S.y)-oe.min.y)/(U.min.y-oe.min.y)).multiplyBy(g);f.panBy(ce,{animate:!1}),this._draggable._newPos._add(ce),this._draggable._startPos._add(ce),Ct(u._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Ne(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ut(this._panRequest),this._panRequest=Ne(this._adjustPan.bind(this,n)))},_onDrag:function(n){var u=this._marker,f=u._shadow,g=jn(u._icon),w=u._map.layerPointToLatLng(g);f&&Ct(f,g),u._latlng=w,n.latlng=w,n.oldLatLng=this._oldLatLng,u.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ut(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ta=Mr.extend({options:{icon:new qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,u){W(this,u),this._latlng=De(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var u=this._latlng;return this._latlng=De(n),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=n.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,n.title&&(f.title=n.title),f.tagName==="IMG"&&(f.alt=n.alt||"")),Fe(f,u),n.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Oe(f,"focus",this._panOnFocus,this);var w=n.icon.createShadow(this._shadow),S=!1;w!==this._shadow&&(this._removeShadow(),S=!0),w&&(Fe(w,u),w.alt=""),this._shadow=w,n.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ct(this._icon,n),this._shadow&&Ct(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var u=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Kl)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Kl(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&mr(this._icon,n),this._shadow&&mr(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var u=this.options.icon.options,f=u.iconSize?pe(u.iconSize):pe(0,0),g=u.iconAnchor?pe(u.iconAnchor):pe(0,0);n.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ql(n,u){return new ta(n,u)}var er=Mr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return W(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yo=er.extend({options:{fill:!0,radius:10},initialize:function(n,u){W(this,u),this._latlng=De(n),this._radius=this.options.radius},setLatLng:function(n){var u=this._latlng;return this._latlng=De(n),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var u=n&&n.radius||this._radius;return er.prototype.setStyle.call(this,n),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,u=this._radiusY||n,f=this._clickTolerance(),g=[n+f,u+f];this._pxBounds=new Be(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tp(n,u){return new yo(n,u)}var nn=yo.extend({initialize:function(n,u,f){if(typeof u=="number"&&(u=s({},f,{radius:u})),W(this,u),this._latlng=De(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Mt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:er.prototype.setStyle,_project:function(){var n=this._latlng.lng,u=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===_n.distance){var w=Math.PI/180,S=this._mRadius/_n.R/w,U=f.project([u+S,n]),te=f.project([u-S,n]),oe=U.add(te).divideBy(2),ce=f.unproject(oe).lat,_e=Math.acos((Math.cos(S*w)-Math.sin(u*w)*Math.sin(ce*w))/(Math.cos(u*w)*Math.cos(ce*w)))/w;(isNaN(_e)||_e===0)&&(_e=S/Math.cos(Math.PI/180*u)),this._point=oe.subtract(f.getPixelOrigin()),this._radius=isNaN(_e)?0:oe.x-f.project([ce,n-_e]).x,this._radiusY=oe.y-U.y}else{var Me=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Me).x}this._updateBounds()}});function rp(n,u,f){return new nn(n,u,f)}var on=er.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,u){W(this,u),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var u=1/0,f=null,g=Kn,w,S,U=0,te=this._parts.length;U<te;U++)for(var oe=this._parts[U],ce=1,_e=oe.length;ce<_e;ce++){w=oe[ce-1],S=oe[ce];var Me=g(n,w,S,!0);Me<u&&(u=Me,f=g(n,w,S))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,u){return u=u||this._defaultShape(),n=De(n),u.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Mt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var u=[],f=dt(n),g=0,w=n.length;g<w;g++)f?(u[g]=De(n[g]),this._bounds.extend(u[g])):u[g]=this._convertLatLngs(n[g]);return u},_project:function(){var n=new Be;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),u=new ue(n,n);this._rawPxBounds&&(this._pxBounds=new Be([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(n,u,f){var g=n[0]instanceof Ve,w=n.length,S,U;if(g){for(U=[],S=0;S<w;S++)U[S]=this._map.latLngToLayerPoint(n[S]),f.extend(U[S]);u.push(U)}else for(S=0;S<w;S++)this._projectLatlngs(n[S],u,f)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,g,w,S,U,te,oe;for(f=0,w=0,S=this._rings.length;f<S;f++)for(oe=this._rings[f],g=0,U=oe.length;g<U-1;g++)te=Ei(oe[g],oe[g+1],n,g,!0),te&&(u[w]=u[w]||[],u[w].push(te[0]),(te[1]!==oe[g+1]||g===U-2)&&(u[w].push(te[1]),w++))}},_simplifyPoints:function(){for(var n=this._parts,u=this.options.smoothFactor,f=0,g=n.length;f<g;f++)n[f]=Rs(n[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,u){var f,g,w,S,U,te,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(f=0,S=this._parts.length;f<S;f++)for(te=this._parts[f],g=0,U=te.length,w=U-1;g<U;w=g++)if(!(!u&&g===0)&&Hl(n,te[w],te[g])<=oe)return!0;return!1}});function Ns(n,u){return new on(n,u)}on._flat=Is;var Ur=on.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var u=on.prototype._convertLatLngs.call(this,n),f=u.length;return f>=2&&u[0]instanceof Ve&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(n){on.prototype._setLatLngs.call(this,n),dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,u=this.options.weight,f=new ue(u,u);if(n=new Be(n.min.subtract(f),n.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,w=this._rings.length,S;g<w;g++)S=Zl(this._rings[g],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var u=!1,f,g,w,S,U,te,oe,ce;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,oe=this._parts.length;S<oe;S++)for(f=this._parts[S],U=0,ce=f.length,te=ce-1;U<ce;te=U++)g=f[U],w=f[te],g.y>n.y!=w.y>n.y&&n.x<(w.x-g.x)*(n.y-g.y)/(w.y-g.y)+g.x&&(u=!u);return u||on.prototype._containsPoint.call(this,n,!0)}});function np(n,u){return new Ur(n,u)}var an=rn.extend({initialize:function(n,u){W(this,u),this._layers={},n&&this.addData(n)},addData:function(n){var u=G(n)?n:n.features,f,g,w;if(u){for(f=0,g=u.length;f<g;f++)w=u[f],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var U=ra(n,S);return U?(U.feature=vo(n),U.defaultOptions=U.options,this.resetStyle(U),S.onEachFeature&&S.onEachFeature(n,U),this.addLayer(U)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(u){this._setLayerStyle(u,n)},this)},_setLayerStyle:function(n,u){n.setStyle&&(typeof u=="function"&&(u=u(n.feature)),n.setStyle(u))}});function ra(n,u){var f=n.type==="Feature"?n.geometry:n,g=f?f.coordinates:null,w=[],S=u&&u.pointToLayer,U=u&&u.coordsToLatLng||Gs,te,oe,ce,_e;if(!g&&!f)return null;switch(f.type){case"Point":return te=U(g),$s(S,n,te,u);case"MultiPoint":for(ce=0,_e=g.length;ce<_e;ce++)te=U(g[ce]),w.push($s(S,n,te,u));return new rn(w);case"LineString":case"MultiLineString":return oe=_o(g,f.type==="LineString"?0:1,U),new on(oe,u);case"Polygon":case"MultiPolygon":return oe=_o(g,f.type==="Polygon"?1:2,U),new Ur(oe,u);case"GeometryCollection":for(ce=0,_e=f.geometries.length;ce<_e;ce++){var Me=ra({geometry:f.geometries[ce],type:"Feature",properties:n.properties},u);Me&&w.push(Me)}return new rn(w);case"FeatureCollection":for(ce=0,_e=f.features.length;ce<_e;ce++){var Re=ra(f.features[ce],u);Re&&w.push(Re)}return new rn(w);default:throw new Error("Invalid GeoJSON object.")}}function $s(n,u,f,g){return n?n(u,f):new ta(f,g&&g.markersInheritOptions&&g)}function Gs(n){return new Ve(n[1],n[0],n[2])}function _o(n,u,f){for(var g=[],w=0,S=n.length,U;w<S;w++)U=u?_o(n[w],u-1,f):(f||Gs)(n[w]),g.push(U);return g}function js(n,u){return n=De(n),n.alt!==void 0?[E(n.lng,u),E(n.lat,u),E(n.alt,u)]:[E(n.lng,u),E(n.lat,u)]}function na(n,u,f,g){for(var w=[],S=0,U=n.length;S<U;S++)w.push(u?na(n[S],dt(n[S])?0:u-1,f,g):js(n[S],g));return!u&&f&&w.length>0&&w.push(w[0].slice()),w}function Mi(n,u){return n.feature?s({},n.feature,{geometry:u}):vo(u)}function vo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var wo={toGeoJSON:function(n){return Mi(this,{type:"Point",coordinates:js(this.getLatLng(),n)})}};ta.include(wo),nn.include(wo),yo.include(wo),on.include({toGeoJSON:function(n){var u=!dt(this._latlngs),f=na(this._latlngs,u?1:0,!1,n);return Mi(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),Ur.include({toGeoJSON:function(n){var u=!dt(this._latlngs),f=u&&!dt(this._latlngs[0]),g=na(this._latlngs,f?2:u?1:0,!0,n);return u||(g=[g]),Mi(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),ki.include({toMultiPoint:function(n){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(n).geometry.coordinates)}),Mi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(n){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(n);var f=u==="GeometryCollection",g=[];return this.eachLayer(function(w){if(w.toGeoJSON){var S=w.toGeoJSON(n);if(f)g.push(S.geometry);else{var U=vo(S);U.type==="FeatureCollection"?g.push.apply(g,U.features):g.push(U)}}}),f?Mi(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Us(n,u){return new an(n,u)}var Zs=Us,ia=Mr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,u,f){this._url=n,this._bounds=qe(u),W(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&wi(this._image),this},bringToBack:function(){return this._map&&$n(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=qe(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",u=this._image=n?this._url:He("img");if(Fe(u,"leaflet-image-layer"),this._zoomAnimated&&Fe(u,"leaflet-zoom-animated"),this.options.className&&Fe(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(n){var u=this._map.getZoomScale(n.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Gn(this._image,f,u)},_reset:function(){var n=this._image,u=new Be(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();Ct(n,u.min),n.style.width=f.x+"px",n.style.height=f.y+"px"},_updateOpacity:function(){mr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),oa=function(n,u,f){return new ia(n,u,f)},Vs=ia.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",u=this._image=n?this._url:He("video");if(Fe(u,"leaflet-image-layer"),this._zoomAnimated&&Fe(u,"leaflet-zoom-animated"),this.options.className&&Fe(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onloadeddata=p(this.fire,this,"load"),n){for(var f=u.getElementsByTagName("source"),g=[],w=0;w<f.length;w++)g.push(f[w].src);this._url=f.length>0?g:[u.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var U=He("source");U.src=this._url[S],u.appendChild(U)}}});function ip(n,u,f){return new Vs(n,u,f)}var Jl=ia.extend({_initImage:function(){var n=this._image=this._url;Fe(n,"leaflet-image-layer"),this._zoomAnimated&&Fe(n,"leaflet-zoom-animated"),this.options.className&&Fe(n,this.options.className),n.onselectstart=A,n.onmousemove=A}});function op(n,u,f){return new Jl(n,u,f)}var tr=Mr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,u){n&&(n instanceof Ve||G(n))?(this._latlng=De(n),W(this,u)):(W(this,n),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&mr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&mr(this._container,1),this.bringToFront(),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(mr(this._container,0),this._removeTimeout=setTimeout(p(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=De(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wi(this._container),this},bringToBack:function(){return this._map&&$n(this._container),this},_prepareOpen:function(n){var u=this._source;if(!u._map)return!1;if(u instanceof rn){u=null;var f=this._source._layers;for(var g in f)if(f[g]._map){u=f[g];break}if(!u)return!1;this._source=u}if(!n)if(u.getCenter)n=u.getCenter();else if(u.getLatLng)n=u.getLatLng();else if(u.getBounds)n=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")n.innerHTML=u;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),u=pe(this.options.offset),f=this._getAnchor();this._zoomAnimated?Ct(this._container,n.add(f)):u=u.add(n).add(f);var g=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=g+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ie.include({_initOverlay:function(n,u,f,g){var w=u;return w instanceof n||(w=new n(g).setContent(u)),f&&w.setLatLng(f),w}}),Mr.include({_initOverlay:function(n,u,f,g){var w=f;return w instanceof n?(W(w,g),w._source=this):(w=u&&!g?u:new n(g,this),w.setContent(f)),w}});var aa=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,tr.prototype.openOn.call(this,n)},onAdd:function(n){tr.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof er||this._source.on("preclick",Zn))},onRemove:function(n){tr.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof er||this._source.off("preclick",Zn))},getEvents:function(){var n=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",u=this._container=He("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=He("div",n+"-content-wrapper",u);if(this._contentNode=He("div",n+"-content",f),fo(u),Ts(this._contentNode),Oe(u,"contextmenu",Zn),this._tipContainer=He("div",n+"-tip-container",u),this._tip=He("div",n+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=He("a",n+"-close-button",u);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Oe(g,"click",function(w){Ot(w),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,u=n.style;u.width="",u.whiteSpace="nowrap";var f=n.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var g=n.offsetHeight,w=this.options.maxHeight,S="leaflet-popup-scrolled";w&&g>w?(u.height=w+"px",Fe(n,S)):gt(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var u=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),f=this._getAnchor();Ct(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,u=parseInt(vn(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,g=this._containerWidth,w=new ue(this._containerLeft,-f-this._containerBottom);w._add(jn(this._container));var S=n.layerPointToContainerPoint(w),U=pe(this.options.autoPanPadding),te=pe(this.options.autoPanPaddingTopLeft||U),oe=pe(this.options.autoPanPaddingBottomRight||U),ce=n.getSize(),_e=0,Me=0;S.x+g+oe.x>ce.x&&(_e=S.x+g-ce.x+oe.x),S.x-_e-te.x<0&&(_e=S.x-te.x),S.y+f+oe.y>ce.y&&(Me=S.y+f-ce.y+oe.y),S.y-Me-te.y<0&&(Me=S.y-te.y),(_e||Me)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([_e,Me]))}},_getAnchor:function(){return pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ap=function(n,u){return new aa(n,u)};Ie.mergeOptions({closePopupOnClick:!0}),Ie.include({openPopup:function(n,u,f){return this._initOverlay(aa,n,u,f).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Mr.include({bindPopup:function(n,u){return this._popup=this._initOverlay(aa,this._popup,n,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Vn(n);var u=n.layer||n.target;if(this._popup._source===u&&!(u instanceof er)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=u,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var sa=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){tr.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){tr.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=tr.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",u=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=He("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var u,f,g=this._map,w=this._container,S=g.latLngToContainerPoint(g.getCenter()),U=g.layerPointToContainerPoint(n),te=this.options.direction,oe=w.offsetWidth,ce=w.offsetHeight,_e=pe(this.options.offset),Me=this._getAnchor();te==="top"?(u=oe/2,f=ce):te==="bottom"?(u=oe/2,f=0):te==="center"?(u=oe/2,f=ce/2):te==="right"?(u=0,f=ce/2):te==="left"?(u=oe,f=ce/2):U.x<S.x?(te="right",u=0,f=ce/2):(te="left",u=oe+(_e.x+Me.x)*2,f=ce/2),n=n.subtract(pe(u,f,!0)).add(_e).add(Me),gt(w,"leaflet-tooltip-right"),gt(w,"leaflet-tooltip-left"),gt(w,"leaflet-tooltip-top"),gt(w,"leaflet-tooltip-bottom"),Fe(w,"leaflet-tooltip-"+te),Ct(w,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&mr(this._container,n)},_animateZoom:function(n){var u=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(u)},_getAnchor:function(){return pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sp=function(n,u){return new sa(n,u)};Ie.include({openTooltip:function(n,u,f){return this._initOverlay(sa,n,u,f).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Mr.include({bindTooltip:function(n,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sa,this._tooltip,n,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var u=n?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var u=typeof n.getElement=="function"&&n.getElement();u&&(Oe(u,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Oe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var u=typeof n.getElement=="function"&&n.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var u=n.latlng,f,g;this._tooltip.options.sticky&&n.originalEvent&&(f=this._map.mouseEventToContainerPoint(n.originalEvent),g=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(u)}});var Yl=xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var u=n&&n.tagName==="DIV"?n:document.createElement("div"),f=this.options;if(f.html instanceof Element?(uo(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=pe(f.bgPos);u.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function up(n){return new Yl(n)}xi.Default=qn;var Lo=Mr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){W(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),lt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=P(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof ue?n:new ue(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var u=this.getPane().children,f=-n(-1/0,1/0),g=0,w=u.length,S;g<w;g++)S=u[g].style.zIndex,u[g]!==this._container&&S&&(f=n(f,+S));isFinite(f)&&(this.options.zIndex=f+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){mr(this._container,this.options.opacity);var n=+new Date,u=!1,f=!1;for(var g in this._tiles){var w=this._tiles[g];if(!(!w.current||!w.loaded)){var S=Math.min(1,(n-w.loaded)/200);mr(w.el,S),S<1?u=!0:(w.active?f=!0:this._onOpaqueTile(w),w.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(ut(this._fadeFrame),this._fadeFrame=Ne(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=He("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,u=this.options.maxZoom;if(n!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===n?(this._levels[f].el.style.zIndex=u-Math.abs(n-f),this._onUpdateLevel(f)):(lt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[n],w=this._map;return g||(g=this._levels[n]={},g.el=He("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=u,g.origin=w.project(w.unproject(w.getPixelOrigin()),n).round(),g.zoom=n,this._setZoomTransform(g,w.getCenter(),w.getZoom()),A(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var n,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)u=this._tiles[n],u.retain=u.current;for(n in this._tiles)if(u=this._tiles[n],u.current&&!u.active){var g=u.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var u in this._tiles)this._tiles[u].coords.z===n&&this._removeTile(u)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)lt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,u,f,g){var w=Math.floor(n/2),S=Math.floor(u/2),U=f-1,te=new ue(+w,+S);te.z=+U;var oe=this._tileCoordsToKey(te),ce=this._tiles[oe];return ce&&ce.active?(ce.retain=!0,!0):(ce&&ce.loaded&&(ce.retain=!0),U>g?this._retainParent(w,S,U,g):!1)},_retainChildren:function(n,u,f,g){for(var w=2*n;w<2*n+2;w++)for(var S=2*u;S<2*u+2;S++){var U=new ue(w,S);U.z=f+1;var te=this._tileCoordsToKey(U),oe=this._tiles[te];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);f+1<g&&this._retainChildren(w,S,f+1,g)}},_resetView:function(n){var u=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var u=this.options;return u.minNativeZoom!==void 0&&n<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<n?u.maxNativeZoom:n},_setView:function(n,u,f,g){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var S=this.options.updateWhenZooming&&w!==this._tileZoom;(!g||S)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(n),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(n,u)},_setZoomTransforms:function(n,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],n,u)},_setZoomTransform:function(n,u,f){var g=this._map.getZoomScale(f,n.zoom),w=n.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(u,f)).round();Ee.any3d?Gn(n.el,w,g):Ct(n.el,w)},_resetGrid:function(){var n=this._map,u=n.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,u.wrapLng[0]],g).x/f.x),Math.ceil(n.project([0,u.wrapLng[1]],g).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([u.wrapLat[0],0],g).y/f.x),Math.ceil(n.project([u.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),g=u.getZoomScale(f,this._tileZoom),w=u.project(n,this._tileZoom).floor(),S=u.getSize().divideBy(g*2);return new Be(w.subtract(S),w.add(S))},_update:function(n){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(n===void 0&&(n=u.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(n),w=this._pxBoundsToTileRange(g),S=w.getCenter(),U=[],te=this.options.keepBuffer,oe=new Be(w.getBottomLeft().subtract([te,-te]),w.getTopRight().add([te,-te]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ce in this._tiles){var _e=this._tiles[ce].coords;(_e.z!==this._tileZoom||!oe.contains(new ue(_e.x,_e.y)))&&(this._tiles[ce].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(n,f);return}for(var Me=w.min.y;Me<=w.max.y;Me++)for(var Re=w.min.x;Re<=w.max.x;Re++){var Ut=new ue(Re,Me);if(Ut.z=this._tileZoom,!!this._isValidTile(Ut)){var bt=this._tiles[this._tileCoordsToKey(Ut)];bt?bt.current=!0:U.push(Ut)}}if(U.sort(function(At,En){return At.distanceTo(S)-En.distanceTo(S)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Et=document.createDocumentFragment();for(Re=0;Re<U.length;Re++)this._addTile(U[Re],Et);this._level.el.appendChild(Et)}}}},_isValidTile:function(n){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(n.x<f.min.x||n.x>f.max.x)||!u.wrapLat&&(n.y<f.min.y||n.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(n);return qe(this.options.bounds).overlaps(g)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var u=this._map,f=this.getTileSize(),g=n.scaleBy(f),w=g.add(f),S=u.unproject(g,n.z),U=u.unproject(w,n.z);return[S,U]},_tileCoordsToBounds:function(n){var u=this._tileCoordsToNwSe(n),f=new Mt(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var u=n.split(":"),f=new ue(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(n){var u=this._tiles[n];u&&(lt(u.el),delete this._tiles[n],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Fe(n,"leaflet-tile");var u=this.getTileSize();n.style.width=u.x+"px",n.style.height=u.y+"px",n.onselectstart=A,n.onmousemove=A,Ee.ielt9&&this.options.opacity<1&&mr(n,this.options.opacity)},_addTile:function(n,u){var f=this._getTilePos(n),g=this._tileCoordsToKey(n),w=this.createTile(this._wrapCoords(n),p(this._tileReady,this,n));this._initTile(w),this.createTile.length<2&&Ne(p(this._tileReady,this,n,null,w)),Ct(w,f),this._tiles[g]={el:w,coords:n,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:n})},_tileReady:function(n,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:n});var g=this._tileCoordsToKey(n);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(mr(f.el,0),ut(this._fadeFrame),this._fadeFrame=Ne(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(Fe(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?Ne(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var u=new ue(this._wrapX?x(n.x,this._wrapX):n.x,this._wrapY?x(n.y,this._wrapY):n.y);return u.z=n.z,u},_pxBoundsToTileRange:function(n){var u=this.getTileSize();return new Be(n.min.unscaleBy(u).floor(),n.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function lp(n){return new Lo(n)}var Jn=Lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,u){this._url=n,u=W(this,u),u.detectRetina&&Ee.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,u){return this._url===n&&u===void 0&&(u=!0),this._url=n,u||this.redraw(),this},createTile:function(n,u){var f=document.createElement("img");return Oe(f,"load",p(this._tileOnLoad,this,u,f)),Oe(f,"error",p(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(n),f},getTileUrl:function(n){var u={r:Ee.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-n.y;this.options.tms&&(u.y=f),u["-y"]=f}return $(this._url,s(u,this.options))},_tileOnLoad:function(n,u){Ee.ielt9?setTimeout(p(n,this,null,u),0):n(null,u)},_tileOnError:function(n,u,f){var g=this.options.errorTileUrl;g&&u.getAttribute("src")!==g&&(u.src=g),n(f,u)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(n=u-n),n+g},_getSubdomain:function(n){var u=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var n,u;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(u=this._tiles[n].el,u.onload=A,u.onerror=A,!u.complete)){u.src=se;var f=this._tiles[n].coords;lt(u),delete this._tiles[n],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(n){var u=this._tiles[n];if(u)return u.el.setAttribute("src",se),Lo.prototype._removeTile.call(this,n)},_tileReady:function(n,u,f){if(!(!this._map||f&&f.getAttribute("src")===se))return Lo.prototype._tileReady.call(this,n,u,f)}});function ua(n,u){return new Jn(n,u)}var Xl=Jn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,u){this._url=n;var f=s({},this.defaultWmsParams);for(var g in u)g in this.options||(f[g]=u[g]);u=W(this,u);var w=u.detectRetina&&Ee.retina?2:1,S=this.getTileSize();f.width=S.x*w,f.height=S.y*w,this.wmsParams=f},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Jn.prototype.onAdd.call(this,n)},getTileUrl:function(n){var u=this._tileCoordsToNwSe(n),f=this._crs,g=Ge(f.project(u[0]),f.project(u[1])),w=g.min,S=g.max,U=(this._wmsVersion>=1.3&&this._crs===ea?[w.y,w.x,S.y,S.x]:[w.x,w.y,S.x,S.y]).join(","),te=Jn.prototype.getTileUrl.call(this,n);return te+ye(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(n,u){return s(this.wmsParams,n),u||this.redraw(),this}});function cp(n,u){return new Xl(n,u)}Jn.WMS=Xl,ua.wms=cp;var Zr=Mr.extend({options:{padding:.1},initialize:function(n){W(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,u){var f=this._map.getZoomScale(u,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),S=g.multiplyBy(-f).add(w).subtract(this._map._getNewPixelOrigin(n,u));Ee.any3d?Gn(this._container,S,f):Ct(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-n)).round();this._bounds=new Be(f,f.add(u.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),la=Zr.extend({options:{tolerance:0},getEvents:function(){var n=Zr.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Oe(n,"mousemove",this._onMouseMove,this),Oe(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Oe(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ut(this._redrawRequest),delete this._ctx,lt(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var u in this._layers)n=this._layers[u],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var n=this._bounds,u=this._container,f=n.getSize(),g=Ee.retina?2:1;Ct(u,n.min),u.width=g*f.x,u.height=g*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var u=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var u=n._order,f=u.next,g=u.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var u=n.options.dashArray.split(/[, ]+/),f=[],g,w;for(w=0;w<u.length;w++){if(g=Number(u[w]),isNaN(g))return;f.push(g)}n.options._dashArray=f}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Ne(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var u=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Be,this._redrawBounds.extend(n._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(n._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var u=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)n=g.layer,(!u||n._pxBounds&&n._pxBounds.intersects(u))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,u){if(this._drawing){var f,g,w,S,U=n._parts,te=U.length,oe=this._ctx;if(te){for(oe.beginPath(),f=0;f<te;f++){for(g=0,w=U[f].length;g<w;g++)S=U[f][g],oe[g?"lineTo":"moveTo"](S.x,S.y);u&&oe.closePath()}this._fillStroke(oe,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var u=n._point,f=this._ctx,g=Math.max(Math.round(n._radius),1),w=(Math.max(Math.round(n._radiusY),1)||g)/g;w!==1&&(f.save(),f.scale(1,w)),f.beginPath(),f.arc(u.x,u.y/w,g,0,Math.PI*2,!1),w!==1&&f.restore(),this._fillStroke(f,n)}},_fillStroke:function(n,u){var f=u.options;f.fill&&(n.globalAlpha=f.fillOpacity,n.fillStyle=f.fillColor||f.color,n.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(n.setLineDash&&n.setLineDash(u.options&&u.options._dashArray||[]),n.globalAlpha=f.opacity,n.lineWidth=f.weight,n.strokeStyle=f.color,n.lineCap=f.lineCap,n.lineJoin=f.lineJoin,n.stroke())},_onClick:function(n){for(var u=this._map.mouseEventToLayerPoint(n),f,g,w=this._drawFirst;w;w=w.next)f=w.layer,f.options.interactive&&f._containsPoint(u)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,u)}},_handleMouseOut:function(n){var u=this._hoveredLayer;u&&(gt(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,u){if(!this._mouseHoverThrottled){for(var f,g,w=this._drawFirst;w;w=w.next)f=w.layer,f.options.interactive&&f._containsPoint(u)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(n),g&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([g],n,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,u,f){this._map._fireDOMEvent(u,f||u.type,n)},_bringToFront:function(n){var u=n._order;if(u){var f=u.next,g=u.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(n)}},_bringToBack:function(n){var u=n._order;if(u){var f=u.next,g=u.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(n)}}});function Ql(n){return Ee.canvas?new la(n):null}var Co=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hs={_initContainer:function(){this._container=He("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zr.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var u=n._container=Co("shape");Fe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",n._path=Co("path"),u.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var u=n._container;this._container.appendChild(u),n.options.interactive&&n.addInteractiveTarget(u)},_removePath:function(n){var u=n._container;lt(u),n.removeInteractiveTarget(u),delete this._layers[y(n)]},_updateStyle:function(n){var u=n._stroke,f=n._fill,g=n.options,w=n._container;w.stroked=!!g.stroke,w.filled=!!g.fill,g.stroke?(u||(u=n._stroke=Co("stroke")),w.appendChild(u),u.weight=g.weight+"px",u.color=g.color,u.opacity=g.opacity,g.dashArray?u.dashStyle=G(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=g.lineCap.replace("butt","flat"),u.joinstyle=g.lineJoin):u&&(w.removeChild(u),n._stroke=null),g.fill?(f||(f=n._fill=Co("fill")),w.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(w.removeChild(f),n._fill=null)},_updateCircle:function(n){var u=n._point.round(),f=Math.round(n._radius),g=Math.round(n._radiusY||f);this._setPath(n,n._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(n,u){n._path.v=u},_bringToFront:function(n){wi(n._container)},_bringToBack:function(n){$n(n._container)}},jt=Ee.vml?Co:hl,Bt=Zr.extend({_initContainer:function(){this._container=jt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=jt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var n=this._bounds,u=n.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),Ct(f,n.min),f.setAttribute("viewBox",[n.min.x,n.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(n){var u=n._path=jt("path");n.options.className&&Fe(u,n.options.className),n.options.interactive&&Fe(u,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){lt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var u=n._path,f=n.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(n,u){this._setPath(n,fl(n._parts,u))},_updateCircle:function(n){var u=n._point,f=Math.max(Math.round(n._radius),1),g=Math.max(Math.round(n._radiusY),1)||f,w="a"+f+","+g+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(u.x-f)+","+u.y+w+f*2+",0 "+w+-f*2+",0 ";this._setPath(n,S)},_setPath:function(n,u){n._path.setAttribute("d",u)},_bringToFront:function(n){wi(n._path)},_bringToBack:function(n){$n(n._path)}});Ee.vml&&Bt.include(Hs);function Ws(n){return Ee.svg||Ee.vml?new Bt(n):null}Ie.include({getRenderer:function(n){var u=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var u=this._paneRenderers[n];return u===void 0&&(u=this._createRenderer({pane:n}),this._paneRenderers[n]=u),u},_createRenderer:function(n){return this.options.preferCanvas&&Ql(n)||Ws(n)}});var _r=Ur.extend({initialize:function(n,u){Ur.prototype.initialize.call(this,this._boundsToLatLngs(n),u)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=qe(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Te(n,u){return new _r(n,u)}Bt.create=jt,Bt.pointsToPath=fl,an.geometryToLayer=ra,an.coordsToLatLng=Gs,an.coordsToLatLngs=_o,an.latLngToCoords=js,an.latLngsToCoords=na,an.getFeature=Mi,an.asFeature=vo,Ie.mergeOptions({boxZoom:!0});var ca=jr.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),lo(),ks(),this._startPoint=this._map.mouseEventToContainerPoint(n),Oe(document,{contextmenu:Vn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=He("div","leaflet-zoom-box",this._container),Fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var u=new Be(this._point,this._startPoint),f=u.getSize();Ct(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(lt(this._box),gt(this._container,"leaflet-crosshair")),co(),xs(),ot(document,{contextmenu:Vn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new Mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ie.addInitHook("addHandler","boxZoom",ca),Ie.mergeOptions({doubleClickZoom:!0});var ha=jr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var u=this._map,f=u.getZoom(),g=u.options.zoomDelta,w=n.originalEvent.shiftKey?f-g:f+g;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(n.containerPoint,w)}});Ie.addInitHook("addHandler","doubleClickZoom",ha),Ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sn=jr.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Cn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gt(this._map._container,"leaflet-grab"),gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=qe(this._map.options.maxBounds);this._offsetLimit=Ge(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,u){return n-(n-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;n.x<u.min.x&&(n.x=this._viscousLimit(n.x,u.min.x)),n.y<u.min.y&&(n.y=this._viscousLimit(n.y,u.min.y)),n.x>u.max.x&&(n.x=this._viscousLimit(n.x,u.max.x)),n.y>u.max.y&&(n.y=this._viscousLimit(n.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,u=Math.round(n/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,w=(g-u+f)%n+u-f,S=(g+u+f)%n-u-f,U=Math.abs(w+f)<Math.abs(S+f)?w:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(n){var u=this._map,f=u.options,g=!f.inertia||n.noInertia||this._times.length<2;if(u.fire("dragend",n),g)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,U=f.easeLinearity,te=w.multiplyBy(U/S),oe=te.distanceTo([0,0]),ce=Math.min(f.inertiaMaxSpeed,oe),_e=te.multiplyBy(ce/oe),Me=ce/(f.inertiaDeceleration*U),Re=_e.multiplyBy(-Me/2).round();!Re.x&&!Re.y?u.fire("moveend"):(Re=u._limitOffset(Re,u.options.maxBounds),Ne(function(){u.panBy(Re,{duration:Me,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Ie.addInitHook("addHandler","dragging",sn),Ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pt=jr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Oe(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,u=document.documentElement,f=n.scrollTop||u.scrollTop,g=n.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var u=this._panKeys={},f=this.keyCodes,g,w;for(g=0,w=f.left.length;g<w;g++)u[f.left[g]]=[-1*n,0];for(g=0,w=f.right.length;g<w;g++)u[f.right[g]]=[n,0];for(g=0,w=f.down.length;g<w;g++)u[f.down[g]]=[0,n];for(g=0,w=f.up.length;g<w;g++)u[f.up[g]]=[0,-1*n]},_setZoomDelta:function(n){var u=this._zoomKeys={},f=this.keyCodes,g,w;for(g=0,w=f.zoomIn.length;g<w;g++)u[f.zoomIn[g]]=n;for(g=0,w=f.zoomOut.length;g<w;g++)u[f.zoomOut[g]]=-n},_addHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var u=n.keyCode,f=this._map,g;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[u],n.shiftKey&&(g=pe(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset(pe(g),f.options.maxBounds)),f.options.worldCopyJump){var w=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(w)}else f.panBy(g)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Vn(n)}}});Ie.addInitHook("addHandler","keyboard",Pt),Ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ks=jr.extend({addHooks:function(){Oe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var u=Nl(n),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),g),Vn(n)},_performZoom:function(){var n=this._map,u=n.getZoom(),f=this._map.options.zoomSnap||0;n._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,S=f?Math.ceil(w/f)*f:w,U=n._limitZoom(u+(this._delta>0?S:-S))-u;this._delta=0,this._startTime=null,U&&(n.options.scrollWheelZoom==="center"?n.setZoom(u+U):n.setZoomAround(this._lastMousePos,u+U))}});Ie.addInitHook("addHandler","scrollWheelZoom",Ks);var vr=600;Ie.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var lr=jr.extend({addHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var u=n.touches[0];this._startPos=this._newPos=new ue(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Oe(document,"touchend",Ot),Oe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),vr),Oe(document,"touchend touchcancel contextmenu",this._cancel,this),Oe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){ot(document,"touchend",Ot),ot(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(n){var u=n.touches[0];this._newPos=new ue(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,u){var f=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});Ie.addInitHook("addHandler","tapHold",lr),Ie.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var bn=jr.extend({addHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var u=this._map;if(!(!n.touches||n.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(n.touches[0]),g=u.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend touchcancel",this._onTouchEnd,this),Ot(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(n.touches[0]),g=u.mouseEventToContainerPoint(n.touches[1]),w=f.distanceTo(g)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var S=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(w===1&&S.x===0&&S.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ut(this._animRequest);var U=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ne(U,this,!0),Ot(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ut(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ie.addInitHook("addHandler","touchZoom",bn),Ie.BoxZoom=ca,Ie.DoubleClickZoom=ha,Ie.Drag=sn,Ie.Keyboard=Pt,Ie.ScrollWheelZoom=Ks,Ie.TapHold=lr,Ie.TouchZoom=bn,r.Bounds=Be,r.Browser=Ee,r.CRS=Xt,r.Canvas=la,r.Circle=nn,r.CircleMarker=yo,r.Class=Dt,r.Control=ur,r.DivIcon=Yl,r.DivOverlay=tr,r.DomEvent=Wf,r.DomUtil=Vf,r.Draggable=Cn,r.Evented=tn,r.FeatureGroup=rn,r.GeoJSON=an,r.GridLayer=Lo,r.Handler=jr,r.Icon=xi,r.ImageOverlay=ia,r.LatLng=Ve,r.LatLngBounds=Mt,r.Layer=Mr,r.LayerGroup=ki,r.LineUtil=Xf,r.Map=Ie,r.Marker=ta,r.Mixin=qf,r.Path=er,r.Point=ue,r.PolyUtil=Jf,r.Polygon=Ur,r.Polyline=on,r.Popup=aa,r.PosAnimation=$l,r.Projection=Qo,r.Rectangle=_r,r.Renderer=Zr,r.SVG=Bt,r.SVGOverlay=Jl,r.TileLayer=Jn,r.Tooltip=sa,r.Transformation=hs,r.Util=Yt,r.VideoOverlay=Vs,r.bind=p,r.bounds=Ge,r.canvas=Ql,r.circle=rp,r.circleMarker=tp,r.control=wn,r.divIcon=up,r.extend=s,r.featureGroup=Qf,r.geoJSON=Us,r.geoJson=Zs,r.gridLayer=lp,r.icon=ep,r.imageOverlay=oa,r.latLng=De,r.latLngBounds=qe,r.layerGroup=zs,r.map=je,r.marker=ql,r.point=pe,r.polygon=np,r.polyline=Ns,r.popup=ap,r.rectangle=Te,r.setOptions=W,r.stamp=y,r.svg=Ws,r.svgOverlay=op,r.tileLayer=ua,r.tooltip=sp,r.transformation=ao,r.version=i,r.videoOverlay=ip;var ht=window.L;r.noConflict=function(){return window.L=ht,this},window.L=r})})(Qd,Qd.exports);var Xi=Qd.exports;const iE=Bm(Xi);function al(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function sf(e,t){return t==null?function(i,s){const l=Ae.useRef();return l.current||(l.current=e(i,s)),l}:function(i,s){const l=Ae.useRef();l.current||(l.current=e(i,s));const p=Ae.useRef(i),{instance:_}=l.current;return Ae.useEffect(function(){p.current!==i&&(t(_,i,p.current),p.current=i)},[_,i,s]),l}}function z4(e,t){Ae.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function oE(e){return function(r){const i=is(),s=e(x0(r,i),i);return tE(i.map,r.attribution),I4(s.current,r.eventHandlers),z4(s.current,i),s}}function aE(e,t){const r=Ae.useRef();Ae.useEffect(function(){if(t.pathOptions!==r.current){const s=t.pathOptions??{};e.instance.setStyle(s),r.current=s}},[e,t])}function sE(e){return function(r){const i=is(),s=e(x0(r,i),i);return I4(s.current,r.eventHandlers),z4(s.current,i),aE(s.current,r),s}}function uE(e){function t(s,l){return al(e(s),l)}const r=sf(t),i=R4(r);return F4(i)}function N4(e,t){const r=sf(e,t),i=sE(r);return O4(i)}function lE(e,t){const r=sf(e,t),i=oE(r);return F4(i)}function cE(e,t,r){const{opacity:i,zIndex:s}=t;i!=null&&i!==r.opacity&&e.setOpacity(i),s!=null&&s!==r.zIndex&&e.setZIndex(s)}function $4(){return is().map}function hE(e){const t=$4();return Ae.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const fE=N4(function({children:t,...r},i){const s=new Xi.FeatureGroup([],r);return al(s,af(i,{layerContainer:s,overlayContainer:s}))}),pE=sf(function({children:t,...r},i){const s=new Xi.Control.Layers(void 0,void 0,r);return al(s,af(i,{layersControl:s}))},function(t,r,i){r.collapsed!==i.collapsed&&(r.collapsed===!0?t.collapse():t.expand())}),dE=R4(pE),Ch=O4(dE);function G4(e){return function(r){const i=is(),s=Ae.useRef(r),[l,p]=Ae.useState(null),{layersControl:_,map:y}=i,P=Ae.useCallback(E=>{_!=null&&(s.current.checked&&y.addLayer(E),e(_,E,s.current.name),p(E))},[_,y]),x=Ae.useCallback(E=>{_==null||_.removeLayer(E),p(null)},[_]),A=Ae.useMemo(()=>af(i,{layerContainer:{addLayer:P,removeLayer:x}}),[i,P,x]);return Ae.useEffect(()=>{l!==null&&s.current!==r&&(r.checked===!0&&(s.current.checked==null||s.current.checked===!1)?y.addLayer(l):s.current.checked===!0&&(r.checked==null||r.checked===!1)&&y.removeLayer(l),s.current=r)}),r.children?Yc.createElement(k0,{value:A},r.children):null}}Ch.BaseLayer=G4(function(t,r,i){t.addBaseLayer(r,i)});Ch.Overlay=G4(function(t,r,i){t.addOverlay(r,i)});function em(){return em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},em.apply(this,arguments)}function mE({bounds:e,boundsOptions:t,center:r,children:i,className:s,id:l,placeholder:p,style:_,whenReady:y,zoom:P,...x},A){const[E]=Ae.useState({className:s,id:l,style:_}),[I,J]=Ae.useState(null);Ae.useImperativeHandle(A,()=>(I==null?void 0:I.map)??null,[I]);const W=Ae.useCallback(j=>{if(j!==null&&I===null){const $=new Xi.Map(j,x);r!=null&&P!=null?$.setView(r,P):e!=null&&$.fitBounds(e,t),y!=null&&$.whenReady(y),J(nE($))}},[]);Ae.useEffect(()=>()=>{I==null||I.map.remove()},[I]);const ye=I?Yc.createElement(k0,{value:I},i):p??null;return Yc.createElement("div",em({},E,{ref:W}),ye)}const gE=Ae.forwardRef(mE),yE=lE(function({url:t,...r},i){const s=new Xi.TileLayer(t,x0(r,i));return al(s,i)},function(t,r,i){cE(t,r,i);const{url:s}=r;s!=null&&s!==i.url&&t.setUrl(s)});function _E(){return hE({click:e=>{}}),null}var vE={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r(Xi):r(t.L)})(typeof self<"u"?self:Bn,t=>{if(typeof document>"u")return console.warn('"window.document" is undefined; leaflet.fullscreen requires this object to access the DOM'),!1;const r=(()=>{const l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"]],p=l[0],_={};for(const y of l)if(y[1]in document){for(let P=0;P<y.length;P++)_[p[P]]=y[P];return _}return!1})(),i={change:r.fullscreenchange,error:r.fullscreenerror},s={request(l,p){return new Promise((_,y)=>{const P=(function(){this.off("change",P),_()}).bind(this);this.on("change",P),l=l||document.documentElement;const x=l[r.requestFullscreen](p);x instanceof Promise&&x.then(P).catch(y)})},exit(){return new Promise((l,p)=>{if(!this.isFullscreen){l();return}const _=(function(){this.off("change",_),l()}).bind(this);this.on("change",_);const y=document[r.exitFullscreen]();y instanceof Promise&&y.then(_).catch(p)})},on(l,p){const _=i[l];_&&document.addEventListener(_,p,!1)},off(l,p){const _=i[l];_&&document.removeEventListener(_,p,!1)},nativeAPI:r};return Object.defineProperties(s,{isFullscreen:{get(){return!!document[r.fullscreenElement]}},isEnabled:{enumerable:!0,get(){return!!document[r.fullscreenEnabled]}}}),t.Control.FullScreen=t.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},_screenfull:s,onAdd(l){let p="leaflet-control-zoom-fullscreen",_,y="";return l.zoomControl&&!this.options.forceSeparateButton?_=l.zoomControl._container:_=t.DomUtil.create("div","leaflet-bar"),this.options.content?y=this.options.content:p+=" fullscreen-icon",this._createButton(this.options.title,p,y,_,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleState,this),_},onRemove(){t.DomEvent.off(this.link,"click",t.DomEvent.stop).off(this.link,"click",this.toggleFullScreen,this),this._screenfull.isEnabled&&(t.DomEvent.off(this._container,this._screenfull.nativeAPI.fullscreenchange,t.DomEvent.stop).off(this._container,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,this),t.DomEvent.off(document,this._screenfull.nativeAPI.fullscreenchange,t.DomEvent.stop).off(document,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,this))},_createButton(l,p,_,y,P,x){return this.link=t.DomUtil.create("a",p,y),this.link.href="#",this.link.title=l,this.link.innerHTML=_,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",l),L.DomEvent.disableClickPropagation(y),t.DomEvent.on(this.link,"click",t.DomEvent.stop).on(this.link,"click",P,x),this._screenfull.isEnabled&&(t.DomEvent.on(y,this._screenfull.nativeAPI.fullscreenchange,t.DomEvent.stop).on(y,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,x),t.DomEvent.on(document,this._screenfull.nativeAPI.fullscreenchange,t.DomEvent.stop).on(document,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,x)),this.link},toggleFullScreen(){const l=this._map;l._exitFired=!1,l._isFullscreen?(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.exit().then(()=>l.invalidateSize()):(t.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:l._container,"leaflet-pseudo-fullscreen"),l.invalidateSize()),l.fire("exitFullscreen"),l._exitFired=!0,l._isFullscreen=!1):(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.request(this.options.fullscreenElement?this.options.fullscreenElement:l._container).then(()=>l.invalidateSize()):(t.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:l._container,"leaflet-pseudo-fullscreen"),l.invalidateSize()),l.fire("enterFullscreen"),l._isFullscreen=!0)},_toggleState(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel,this._map._isFullscreen?L.DomUtil.removeClass(this.link,"leaflet-fullscreen-on"):L.DomUtil.addClass(this.link,"leaflet-fullscreen-on")},_handleFullscreenChange(l){const p=this._map;l.target===p.getContainer()&&!this._screenfull.isFullscreen&&!p._exitFired&&(this._screenfull.exit().then(()=>p.invalidateSize()),p.fire("exitFullscreen"),p._exitFired=!0,p._isFullscreen=!1)}}),t.Map.include({toggleFullscreen(){this.fullscreenControl.toggleFullScreen()}}),t.Map.addInitHook(function(){this.options.fullscreenControl&&this.addControl(t.control.fullscreen(this.options.fullscreenControlOptions))}),t.control.fullscreen=function(l){return new t.Control.FullScreen(l)},{leaflet:t}})})(vE);const wE=uE(function(t){return new Xi.Control.FullScreen({position:"bottomright",...t})});var ja={};(function(e){const t={};function r(x){return typeof x=="function"}function i(x){return x===Object(x)}function s(x,A){let E=!1;return typeof A=="string"?A=[A]:Object.prototype.toString.call(A)==="[object Array]"?A.length===0&&(E=!0):E=!0,x?A:E}function l(x,A){let E;if(r(t[x])){try{E=t[x](A)}catch(I){E=["Problem with custom definition for "+x+": "+I]}if(typeof result=="string"&&(E=[E]),Object.prototype.toString.call(E)==="[object Array]")return E}return[]}e.define=(x,A)=>x in P&&r(A)?(t[x]=A,!0):!1,e.isPosition=(x,A=!1)=>{let E=[];return Array.isArray(x)?(x.length<=1&&E.push("Position must be at least two elements"),x.forEach((I,J)=>{typeof I!="number"&&E.push("Position must only contain numbers. Item "+I+" at index "+J+" is invalid.")})):E.push("Position must be an array"),E=E.concat(l("Position",x)),s(A,E)},e.isGeoJSONObject=e.valid=(x,A=!1)=>{if(i(x)){let E=[];if("type"in x){if(_[x.type])return _[x.type](x,A);if(y[x.type])return y[x.type](x,A);E.push('type must be one of: "Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon", "GeometryCollection", "Feature", or "FeatureCollection"')}else E.push('must have a member with the name "type"');return E=E.concat(l("GeoJSONObject",x)),s(A,E)}else return s(A,["must be a JSON Object"])},e.isGeometryObject=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("type"in x){if(y[x.type])return y[x.type](x,A);E.push('type must be one of: "Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon" or "GeometryCollection"')}else E.push('must have a member with the name "type"');return E=E.concat(l("GeometryObject",x)),s(A,E)},e.isPoint=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}if("type"in x?x.type!=="Point"&&E.push('type must be "Point"'):E.push('must have a member with the name "type"'),"coordinates"in x){const I=e.isPosition(x.coordinates,!0);I.length&&(E=E.concat(I))}else E.push('must have a member with the name "coordinates"');return E=E.concat(l("Point",x)),s(A,E)},e.isMultiPointCoor=(x,A=!1)=>{let E=[];return Array.isArray(x)?x.forEach((I,J)=>{const W=e.isPosition(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}):E.push("coordinates must be an array"),s(A,E)},e.isMultiPoint=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}if("type"in x?x.type!=="MultiPoint"&&E.push('type must be "MultiPoint"'):E.push('must have a member with the name "type"'),"coordinates"in x){const I=e.isMultiPointCoor(x.coordinates,!0);I.length&&(E=E.concat(I))}else E.push('must have a member with the name "coordinates"');return E=E.concat(l("MultiPoint",x)),s(A,E)},e.isLineStringCoor=(x,A=!1)=>{let E=[];return Array.isArray(x)?x.length>1?x.forEach((I,J)=>{const W=e.isPosition(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}):E.push("coordinates must have at least two elements"):E.push("coordinates must be an array"),s(A,E)},e.isLineString=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}if("type"in x?x.type!=="LineString"&&E.push('type must be "LineString"'):E.push('must have a member with the name "type"'),"coordinates"in x){const I=e.isLineStringCoor(x.coordinates,!0);I.length&&(E=E.concat(I))}else E.push('must have a member with the name "coordinates"');return E=E.concat(l("LineString",x)),s(A,E)},e.isMultiLineStringCoor=(x,A=!1)=>{let E=[];return Array.isArray(x)?x.forEach((I,J)=>{const W=e.isLineStringCoor(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}):E.push("coordinates must be an array"),s(A,E)},e.isMultiLineString=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}if("type"in x?x.type!=="MultiLineString"&&E.push('type must be "MultiLineString"'):E.push('must have a member with the name "type"'),"coordinates"in x){const I=e.isMultiLineStringCoor(x.coordinates,!0);I.length&&(E=E.concat(I))}else E.push('must have a member with the name "coordinates"');return E=E.concat(l("MultiPoint",x)),s(A,E)};function p(x,A){let E=[];return Array.isArray(x)?(x.forEach((I,J)=>{const W=e.isPosition(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}),x[0].toString()!==x[x.length-1].toString()&&E.push("The first and last positions must be equivalent"),x.length<4&&E.push("coordinates must have at least four positions")):E.push("coordinates must be an array"),s(A,E)}e.isPolygonCoor=(x,A=!1)=>{let E=[];return Array.isArray(x)?x.forEach((I,J)=>{const W=p(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}):E.push("coordinates must be an array"),s(A,E)},e.isPolygon=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}if("type"in x?x.type!=="Polygon"&&E.push('type must be "Polygon"'):E.push('must have a member with the name "type"'),"coordinates"in x){const I=e.isPolygonCoor(x.coordinates,!0);I.length&&(E=E.concat(I))}else E.push('must have a member with the name "coordinates"');return E=E.concat(l("Polygon",x)),s(A,E)},e.isMultiPolygonCoor=(x,A=!1)=>{let E=[];return Array.isArray(x)?x.forEach((I,J)=>{const W=e.isPolygonCoor(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}):E.push("coordinates must be an array"),s(A,E)},e.isMultiPolygon=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}if("type"in x?x.type!=="MultiPolygon"&&E.push('type must be "MultiPolygon"'):E.push('must have a member with the name "type"'),"coordinates"in x){const I=e.isMultiPolygonCoor(x.coordinates,!0);I.length&&(E=E.concat(I))}else E.push('must have a member with the name "coordinates"');return E=E.concat(l("MultiPolygon",x)),s(A,E)},e.isGeometryCollection=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}return"type"in x?x.type!=="GeometryCollection"&&E.push('type must be "GeometryCollection"'):E.push('must have a member with the name "type"'),"geometries"in x?Array.isArray(x.geometries)?x.geometries.forEach((I,J)=>{const W=e.isGeometryObject(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}):E.push('"geometries" must be an array'):E.push('must have a member with the name "geometries"'),E=E.concat(l("GeometryCollection",x)),s(A,E)},e.isFeature=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=E.concat(I))}if("type"in x?x.type!=="Feature"&&E.push('type must be "Feature"'):E.push('must have a member with the name "type"'),"properties"in x||E.push('must have a member with the name "properties"'),"geometry"in x){if(x.geometry!==null){const I=e.isGeometryObject(x.geometry,!0);I.length&&(E=E.concat(I))}}else E.push('must have a member with the name "geometry"');return E=E.concat(l("Feature",x)),s(A,E)},e.isFeatureCollection=(x,A=!1)=>{if(!i(x))return s(A,["must be a JSON Object"]);let E=[];if("bbox"in x){const I=e.isBbox(x.bbox,!0);I.length&&(E=I)}return"type"in x?x.type!=="FeatureCollection"&&E.push('type must be "FeatureCollection"'):E.push('must have a member with the name "type"'),"features"in x?Array.isArray(x.features)?x.features.forEach((I,J)=>{const W=e.isFeature(I,!0);W.length&&(W[0]="at "+J+": ".concat(W[0]),E=E.concat(W))}):E.push('"Features" must be an array'):E.push('must have a member with the name "Features"'),E=E.concat(l("FeatureCollection",x)),s(A,E)},e.isBbox=(x,A=!1)=>{let E=[];return Array.isArray(x)?x.length%2!==0&&E.push("bbox, must be a 2*n array"):E.push("bbox must be an array"),E=E.concat(l("Bbox",x)),s(A,E)};const _={Feature:e.isFeature,FeatureCollection:e.isFeatureCollection},y={Point:e.isPoint,MultiPoint:e.isMultiPoint,LineString:e.isLineString,MultiLineString:e.isMultiLineString,Polygon:e.isPolygon,MultiPolygon:e.isMultiPolygon,GeometryCollection:e.isGeometryCollection},P={Feature:e.isFeature,FeatureCollection:e.isFeatureCollection,Point:e.isPoint,MultiPoint:e.isMultiPoint,LineString:e.isLineString,MultiLineString:e.isMultiLineString,Polygon:e.isPolygon,MultiPolygon:e.isMultiPolygon,GeometryCollection:e.isGeometryCollection,Bbox:e.isBbox,Position:e.isPosition,GeoJSON:e.isGeoJSONObject,GeometryObject:e.isGeometryObject};e.allTypes=P})(ja);(()=>{var Sg,Bg;var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports),_=(o,a,c,h)=>{if(a&&typeof a=="object"||typeof a=="function")for(let d of i(a))!l.call(o,d)&&d!==c&&t(o,d,{get:()=>a[d],enumerable:!(h=r(a,d))||h.enumerable});return o},y=(o,a,c)=>(c=o!=null?e(s(o)):{},_(a||!o||!o.__esModule?t(c,"default",{value:o,enumerable:!0}):c,o)),P=p((o,a)=>{function c(){this.__data__=[],this.size=0}a.exports=c}),x=p((o,a)=>{function c(h,d){return h===d||h!==h&&d!==d}a.exports=c}),A=p((o,a)=>{var c=x();function h(d,m){for(var v=d.length;v--;)if(c(d[v][0],m))return v;return-1}a.exports=h}),E=p((o,a)=>{var c=A(),h=Array.prototype,d=h.splice;function m(v){var C=this.__data__,b=c(C,v);if(b<0)return!1;var M=C.length-1;return b==M?C.pop():d.call(C,b,1),--this.size,!0}a.exports=m}),I=p((o,a)=>{var c=A();function h(d){var m=this.__data__,v=c(m,d);return v<0?void 0:m[v][1]}a.exports=h}),J=p((o,a)=>{var c=A();function h(d){return c(this.__data__,d)>-1}a.exports=h}),W=p((o,a)=>{var c=A();function h(d,m){var v=this.__data__,C=c(v,d);return C<0?(++this.size,v.push([d,m])):v[C][1]=m,this}a.exports=h}),ye=p((o,a)=>{var c=P(),h=E(),d=I(),m=J(),v=W();function C(b){var M=-1,N=b==null?0:b.length;for(this.clear();++M<N;){var R=b[M];this.set(R[0],R[1])}}C.prototype.clear=c,C.prototype.delete=h,C.prototype.get=d,C.prototype.has=m,C.prototype.set=v,a.exports=C}),j=p((o,a)=>{var c=ye();function h(){this.__data__=new c,this.size=0}a.exports=h}),$=p((o,a)=>{function c(h){var d=this.__data__,m=d.delete(h);return this.size=d.size,m}a.exports=c}),G=p((o,a)=>{function c(h){return this.__data__.get(h)}a.exports=c}),ae=p((o,a)=>{function c(h){return this.__data__.has(h)}a.exports=c}),se=p((o,a)=>{var c=typeof Bn=="object"&&Bn&&Bn.Object===Object&&Bn;a.exports=c}),de=p((o,a)=>{var c=se(),h=typeof self=="object"&&self&&self.Object===Object&&self,d=c||h||Function("return this")();a.exports=d}),ge=p((o,a)=>{var c=de(),h=c.Symbol;a.exports=h}),ve=p((o,a)=>{var c=ge(),h=Object.prototype,d=h.hasOwnProperty,m=h.toString,v=c?c.toStringTag:void 0;function C(b){var M=d.call(b,v),N=b[v];try{b[v]=void 0;var R=!0}catch{}var ee=m.call(b);return R&&(M?b[v]=N:delete b[v]),ee}a.exports=C}),Ze=p((o,a)=>{var c=Object.prototype,h=c.toString;function d(m){return h.call(m)}a.exports=d}),Pe=p((o,a)=>{var c=ge(),h=ve(),d=Ze(),m="[object Null]",v="[object Undefined]",C=c?c.toStringTag:void 0;function b(M){return M==null?M===void 0?v:m:C&&C in Object(M)?h(M):d(M)}a.exports=b}),Ne=p((o,a)=>{function c(h){var d=typeof h;return h!=null&&(d=="object"||d=="function")}a.exports=c}),ut=p((o,a)=>{var c=Pe(),h=Ne(),d="[object AsyncFunction]",m="[object Function]",v="[object GeneratorFunction]",C="[object Proxy]";function b(M){if(!h(M))return!1;var N=c(M);return N==m||N==v||N==d||N==C}a.exports=b}),Yt=p((o,a)=>{var c=de(),h=c["__core-js_shared__"];a.exports=h}),Dt=p((o,a)=>{var c=Yt(),h=function(){var m=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}();function d(m){return!!h&&h in m}a.exports=d}),io=p((o,a)=>{var c=Function.prototype,h=c.toString;function d(m){if(m!=null){try{return h.call(m)}catch{}try{return m+""}catch{}}return""}a.exports=d}),Lt=p((o,a)=>{var c=ut(),h=Dt(),d=Ne(),m=io(),v=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,b=Function.prototype,M=Object.prototype,N=b.toString,R=M.hasOwnProperty,ee=RegExp("^"+N.call(R).replace(v,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ie(he){if(!d(he)||h(he))return!1;var me=c(he)?ee:C;return me.test(m(he))}a.exports=ie}),tn=p((o,a)=>{function c(h,d){return h==null?void 0:h[d]}a.exports=c}),ue=p((o,a)=>{var c=Lt(),h=tn();function d(m,v){var C=h(m,v);return c(C)?C:void 0}a.exports=d}),Se=p((o,a)=>{var c=ue(),h=de(),d=c(h,"Map");a.exports=d}),pe=p((o,a)=>{var c=ue(),h=c(Object,"create");a.exports=h}),Be=p((o,a)=>{var c=pe();function h(){this.__data__=c?c(null):{},this.size=0}a.exports=h}),Ge=p((o,a)=>{function c(h){var d=this.has(h)&&delete this.__data__[h];return this.size-=d?1:0,d}a.exports=c}),Mt=p((o,a)=>{var c=pe(),h="__lodash_hash_undefined__",d=Object.prototype,m=d.hasOwnProperty;function v(C){var b=this.__data__;if(c){var M=b[C];return M===h?void 0:M}return m.call(b,C)?b[C]:void 0}a.exports=v}),qe=p((o,a)=>{var c=pe(),h=Object.prototype,d=h.hasOwnProperty;function m(v){var C=this.__data__;return c?C[v]!==void 0:d.call(C,v)}a.exports=m}),Ve=p((o,a)=>{var c=pe(),h="__lodash_hash_undefined__";function d(m,v){var C=this.__data__;return this.size+=this.has(m)?0:1,C[m]=c&&v===void 0?h:v,this}a.exports=d}),De=p((o,a)=>{var c=Be(),h=Ge(),d=Mt(),m=qe(),v=Ve();function C(b){var M=-1,N=b==null?0:b.length;for(this.clear();++M<N;){var R=b[M];this.set(R[0],R[1])}}C.prototype.clear=c,C.prototype.delete=h,C.prototype.get=d,C.prototype.has=m,C.prototype.set=v,a.exports=C}),Xt=p((o,a)=>{var c=De(),h=ye(),d=Se();function m(){this.size=0,this.__data__={hash:new c,map:new(d||h),string:new c}}a.exports=m}),_n=p((o,a)=>{function c(h){var d=typeof h;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?h!=="__proto__":h===null}a.exports=c}),oo=p((o,a)=>{var c=_n();function h(d,m){var v=d.__data__;return c(m)?v[typeof m=="string"?"string":"hash"]:v.map}a.exports=h}),cs=p((o,a)=>{var c=oo();function h(d){var m=c(this,d).delete(d);return this.size-=m?1:0,m}a.exports=h}),hs=p((o,a)=>{var c=oo();function h(d){return c(this,d).get(d)}a.exports=h}),ao=p((o,a)=>{var c=oo();function h(d){return c(this,d).has(d)}a.exports=h}),fs=p((o,a)=>{var c=oo();function h(d,m){var v=c(this,d),C=v.size;return v.set(d,m),this.size+=v.size==C?0:1,this}a.exports=h}),cl=p((o,a)=>{var c=Xt(),h=cs(),d=hs(),m=ao(),v=fs();function C(b){var M=-1,N=b==null?0:b.length;for(this.clear();++M<N;){var R=b[M];this.set(R[0],R[1])}}C.prototype.clear=c,C.prototype.delete=h,C.prototype.get=d,C.prototype.has=m,C.prototype.set=v,a.exports=C}),hl=p((o,a)=>{var c=ye(),h=Se(),d=cl(),m=200;function v(C,b){var M=this.__data__;if(M instanceof c){var N=M.__data__;if(!h||N.length<m-1)return N.push([C,b]),this.size=++M.size,this;M=this.__data__=new d(N)}return M.set(C,b),this.size=M.size,this}a.exports=v}),fl=p((o,a)=>{var c=ye(),h=j(),d=$(),m=G(),v=ae(),C=hl();function b(M){var N=this.__data__=new c(M);this.size=N.size}b.prototype.clear=h,b.prototype.delete=d,b.prototype.get=m,b.prototype.has=v,b.prototype.set=C,a.exports=b}),Uo=p((o,a)=>{var c=ue(),h=function(){try{var d=c(Object,"defineProperty");return d({},"",{}),d}catch{}}();a.exports=h}),gi=p((o,a)=>{var c=Uo();function h(d,m,v){m=="__proto__"&&c?c(d,m,{configurable:!0,enumerable:!0,value:v,writable:!0}):d[m]=v}a.exports=h}),pl=p((o,a)=>{var c=gi(),h=x();function d(m,v,C){(C!==void 0&&!h(m[v],C)||C===void 0&&!(v in m))&&c(m,v,C)}a.exports=d}),dl=p((o,a)=>{function c(h){return function(d,m,v){for(var C=-1,b=Object(d),M=v(d),N=M.length;N--;){var R=M[h?N:++C];if(m(b[R],R,b)===!1)break}return d}}a.exports=c}),ps=p((o,a)=>{var c=dl(),h=c();a.exports=h}),ml=p((o,a)=>{var c=de(),h=typeof o=="object"&&o&&!o.nodeType&&o,d=h&&typeof a=="object"&&a&&!a.nodeType&&a,m=d&&d.exports===h,v=m?c.Buffer:void 0,C=v?v.allocUnsafe:void 0;function b(M,N){if(N)return M.slice();var R=M.length,ee=C?C(R):new M.constructor(R);return M.copy(ee),ee}a.exports=b}),gl=p((o,a)=>{var c=de(),h=c.Uint8Array;a.exports=h}),Ef=p((o,a)=>{var c=gl();function h(d){var m=new d.constructor(d.byteLength);return new c(m).set(new c(d)),m}a.exports=h}),kf=p((o,a)=>{var c=Ef();function h(d,m){var v=m?c(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.length)}a.exports=h}),ds=p((o,a)=>{function c(h,d){var m=-1,v=h.length;for(d||(d=Array(v));++m<v;)d[m]=h[m];return d}a.exports=c}),yl=p((o,a)=>{var c=Ne(),h=Object.create,d=function(){function m(){}return function(v){if(!c(v))return{};if(h)return h(v);m.prototype=v;var C=new m;return m.prototype=void 0,C}}();a.exports=d}),_l=p((o,a)=>{function c(h,d){return function(m){return h(d(m))}}a.exports=c}),vl=p((o,a)=>{var c=_l(),h=c(Object.getPrototypeOf,Object);a.exports=h}),ms=p((o,a)=>{var c=Object.prototype;function h(d){var m=d&&d.constructor,v=typeof m=="function"&&m.prototype||c;return d===v}a.exports=h}),wl=p((o,a)=>{var c=yl(),h=vl(),d=ms();function m(v){return typeof v.constructor=="function"&&!d(v)?c(h(v)):{}}a.exports=m}),yi=p((o,a)=>{function c(h){return h!=null&&typeof h=="object"}a.exports=c}),Ll=p((o,a)=>{var c=Pe(),h=yi(),d="[object Arguments]";function m(v){return h(v)&&c(v)==d}a.exports=m}),Zo=p((o,a)=>{var c=Ll(),h=yi(),d=Object.prototype,m=d.hasOwnProperty,v=d.propertyIsEnumerable,C=c(function(){return arguments}())?c:function(b){return h(b)&&m.call(b,"callee")&&!v.call(b,"callee")};a.exports=C}),_i=p((o,a)=>{var c=Array.isArray;a.exports=c}),Cl=p((o,a)=>{var c=9007199254740991;function h(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=c}a.exports=h}),Nn=p((o,a)=>{var c=ut(),h=Cl();function d(m){return m!=null&&h(m.length)&&!c(m)}a.exports=d}),xf=p((o,a)=>{var c=Nn(),h=yi();function d(m){return h(m)&&c(m)}a.exports=d}),Mf=p((o,a)=>{function c(){return!1}a.exports=c}),gs=p((o,a)=>{var c=de(),h=Mf(),d=typeof o=="object"&&o&&!o.nodeType&&o,m=d&&typeof a=="object"&&a&&!a.nodeType&&a,v=m&&m.exports===d,C=v?c.Buffer:void 0,b=C?C.isBuffer:void 0,M=b||h;a.exports=M}),bl=p((o,a)=>{var c=Pe(),h=vl(),d=yi(),m="[object Object]",v=Function.prototype,C=Object.prototype,b=v.toString,M=C.hasOwnProperty,N=b.call(Object);function R(ee){if(!d(ee)||c(ee)!=m)return!1;var ie=h(ee);if(ie===null)return!0;var he=M.call(ie,"constructor")&&ie.constructor;return typeof he=="function"&&he instanceof he&&b.call(he)==N}a.exports=R}),El=p((o,a)=>{var c=Pe(),h=Cl(),d=yi(),m="[object Arguments]",v="[object Array]",C="[object Boolean]",b="[object Date]",M="[object Error]",N="[object Function]",R="[object Map]",ee="[object Number]",ie="[object Object]",he="[object RegExp]",me="[object Set]",Le="[object String]",Ue="[object WeakMap]",z="[object ArrayBuffer]",Z="[object DataView]",q="[object Float32Array]",ne="[object Float64Array]",Y="[object Int8Array]",re="[object Int16Array]",k="[object Int32Array]",B="[object Uint8Array]",D="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",F={};F[q]=F[ne]=F[Y]=F[re]=F[k]=F[B]=F[D]=F[T]=F[O]=!0,F[m]=F[v]=F[z]=F[C]=F[Z]=F[b]=F[M]=F[N]=F[R]=F[ee]=F[ie]=F[he]=F[me]=F[Le]=F[Ue]=!1;function H(V){return d(V)&&h(V.length)&&!!F[c(V)]}a.exports=H}),Pf=p((o,a)=>{function c(h){return function(d){return h(d)}}a.exports=c}),Sf=p((o,a)=>{var c=se(),h=typeof o=="object"&&o&&!o.nodeType&&o,d=h&&typeof a=="object"&&a&&!a.nodeType&&a,m=d&&d.exports===h,v=m&&c.process,C=function(){try{var b=d&&d.require&&d.require("util").types;return b||v&&v.binding&&v.binding("util")}catch{}}();a.exports=C}),kl=p((o,a)=>{var c=El(),h=Pf(),d=Sf(),m=d&&d.isTypedArray,v=m?h(m):c;a.exports=v}),xl=p((o,a)=>{function c(h,d){if(!(d==="constructor"&&typeof h[d]=="function")&&d!="__proto__")return h[d]}a.exports=c}),Bf=p((o,a)=>{var c=gi(),h=x(),d=Object.prototype,m=d.hasOwnProperty;function v(C,b,M){var N=C[b];(!(m.call(C,b)&&h(N,M))||M===void 0&&!(b in C))&&c(C,b,M)}a.exports=v}),Af=p((o,a)=>{var c=Bf(),h=gi();function d(m,v,C,b){var M=!C;C||(C={});for(var N=-1,R=v.length;++N<R;){var ee=v[N],ie=b?b(C[ee],m[ee],ee,C,m):void 0;ie===void 0&&(ie=m[ee]),M?h(C,ee,ie):c(C,ee,ie)}return C}a.exports=d}),ys=p((o,a)=>{function c(h,d){for(var m=-1,v=Array(h);++m<h;)v[m]=d(m);return v}a.exports=c}),Ml=p((o,a)=>{var c=9007199254740991,h=/^(?:0|[1-9]\d*)$/;function d(m,v){var C=typeof m;return v=v??c,!!v&&(C=="number"||C!="symbol"&&h.test(m))&&m>-1&&m%1==0&&m<v}a.exports=d}),Tf=p((o,a)=>{var c=ys(),h=Zo(),d=_i(),m=gs(),v=Ml(),C=kl(),b=Object.prototype,M=b.hasOwnProperty;function N(R,ee){var ie=d(R),he=!ie&&h(R),me=!ie&&!he&&m(R),Le=!ie&&!he&&!me&&C(R),Ue=ie||he||me||Le,z=Ue?c(R.length,String):[],Z=z.length;for(var q in R)(ee||M.call(R,q))&&!(Ue&&(q=="length"||me&&(q=="offset"||q=="parent")||Le&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||v(q,Z)))&&z.push(q);return z}a.exports=N}),Df=p((o,a)=>{function c(h){var d=[];if(h!=null)for(var m in Object(h))d.push(m);return d}a.exports=c}),Of=p((o,a)=>{var c=Ne(),h=ms(),d=Df(),m=Object.prototype,v=m.hasOwnProperty;function C(b){if(!c(b))return d(b);var M=h(b),N=[];for(var R in b)R=="constructor"&&(M||!v.call(b,R))||N.push(R);return N}a.exports=C}),kr=p((o,a)=>{var c=Tf(),h=Of(),d=Nn();function m(v){return d(v)?c(v,!0):h(v)}a.exports=m}),Ee=p((o,a)=>{var c=Af(),h=kr();function d(m){return c(m,h(m))}a.exports=d}),Pl=p((o,a)=>{var c=pl(),h=ml(),d=kf(),m=ds(),v=wl(),C=Zo(),b=_i(),M=xf(),N=gs(),R=ut(),ee=Ne(),ie=bl(),he=kl(),me=xl(),Le=Ee();function Ue(z,Z,q,ne,Y,re,k){var B=me(z,q),D=me(Z,q),T=k.get(D);if(T){c(z,q,T);return}var O=re?re(B,D,q+"",z,Z,k):void 0,F=O===void 0;if(F){var H=b(D),V=!H&&N(D),K=!H&&!V&&he(D);O=D,H||V||K?b(B)?O=B:M(B)?O=m(B):V?(F=!1,O=h(D,!0)):K?(F=!1,O=d(D,!0)):O=[]:ie(D)||C(D)?(O=B,C(B)?O=Le(B):(!ee(B)||R(B))&&(O=v(D))):F=!1}F&&(k.set(D,O),Y(O,D,ne,re,k),k.delete(D)),c(z,q,O)}a.exports=Ue}),Sl=p((o,a)=>{var c=fl(),h=pl(),d=ps(),m=Pl(),v=Ne(),C=kr(),b=xl();function M(N,R,ee,ie,he){N!==R&&d(R,function(me,Le){if(he||(he=new c),v(me))m(N,R,Le,ee,M,ie,he);else{var Ue=ie?ie(b(N,Le),me,Le+"",N,R,he):void 0;Ue===void 0&&(Ue=me),h(N,Le,Ue)}},C)}a.exports=M}),_s=p((o,a)=>{function c(h){return h}a.exports=c}),Bl=p((o,a)=>{function c(h,d,m){switch(m.length){case 0:return h.call(d);case 1:return h.call(d,m[0]);case 2:return h.call(d,m[0],m[1]);case 3:return h.call(d,m[0],m[1],m[2])}return h.apply(d,m)}a.exports=c}),vs=p((o,a)=>{var c=Bl(),h=Math.max;function d(m,v,C){return v=h(v===void 0?m.length-1:v,0),function(){for(var b=arguments,M=-1,N=h(b.length-v,0),R=Array(N);++M<N;)R[M]=b[v+M];M=-1;for(var ee=Array(v+1);++M<v;)ee[M]=b[M];return ee[v]=C(R),c(m,this,ee)}}a.exports=d}),Al=p((o,a)=>{function c(h){return function(){return h}}a.exports=c}),vi=p((o,a)=>{var c=Al(),h=Uo(),d=_s(),m=h?function(v,C){return h(v,"toString",{configurable:!0,enumerable:!1,value:c(C),writable:!0})}:d;a.exports=m}),Tl=p((o,a)=>{var c=800,h=16,d=Date.now;function m(v){var C=0,b=0;return function(){var M=d(),N=h-(M-b);if(b=M,N>0){if(++C>=c)return arguments[0]}else C=0;return v.apply(void 0,arguments)}}a.exports=m}),Ff=p((o,a)=>{var c=vi(),h=Tl(),d=h(c);a.exports=d}),Rf=p((o,a)=>{var c=_s(),h=vs(),d=Ff();function m(v,C){return d(h(v,C,c),v+"")}a.exports=m}),If=p((o,a)=>{var c=x(),h=Nn(),d=Ml(),m=Ne();function v(C,b,M){if(!m(M))return!1;var N=typeof b;return(N=="number"?h(M)&&d(b,M.length):N=="string"&&b in M)?c(M[b],C):!1}a.exports=v}),zf=p((o,a)=>{var c=Rf(),h=If();function d(m){return c(function(v,C){var b=-1,M=C.length,N=M>1?C[M-1]:void 0,R=M>2?C[2]:void 0;for(N=m.length>3&&typeof N=="function"?(M--,N):void 0,R&&h(C[0],C[1],R)&&(N=M<3?void 0:N,M=1),v=Object(v);++b<M;){var ee=C[b];ee&&m(v,ee,b,N)}return v})}a.exports=d}),Vo=p((o,a)=>{var c=Sl(),h=zf(),d=h(function(m,v,C){c(m,v,C)});a.exports=d}),ws=p((o,a)=>{var c=Pe(),h=yi(),d="[object Symbol]";function m(v){return typeof v=="symbol"||h(v)&&c(v)==d}a.exports=m}),Ho=p((o,a)=>{var c=_i(),h=ws(),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;function v(C,b){if(c(C))return!1;var M=typeof C;return M=="number"||M=="symbol"||M=="boolean"||C==null||h(C)?!0:m.test(C)||!d.test(C)||b!=null&&C in Object(b)}a.exports=v}),Nf=p((o,a)=>{var c=cl(),h="Expected a function";function d(m,v){if(typeof m!="function"||v!=null&&typeof v!="function")throw new TypeError(h);var C=function(){var b=arguments,M=v?v.apply(this,b):b[0],N=C.cache;if(N.has(M))return N.get(M);var R=m.apply(this,b);return C.cache=N.set(M,R)||N,R};return C.cache=new(d.Cache||c),C}d.Cache=c,a.exports=d}),$f=p((o,a)=>{var c=Nf(),h=500;function d(m){var v=c(m,function(b){return C.size===h&&C.clear(),b}),C=v.cache;return v}a.exports=d}),Gf=p((o,a)=>{var c=$f(),h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,m=c(function(v){var C=[];return v.charCodeAt(0)===46&&C.push(""),v.replace(h,function(b,M,N,R){C.push(N?R.replace(d,"$1"):M||b)}),C});a.exports=m}),jf=p((o,a)=>{function c(h,d){for(var m=-1,v=h==null?0:h.length,C=Array(v);++m<v;)C[m]=d(h[m],m,h);return C}a.exports=c}),Uf=p((o,a)=>{var c=ge(),h=jf(),d=_i(),m=ws(),v=1/0,C=c?c.prototype:void 0,b=C?C.toString:void 0;function M(N){if(typeof N=="string")return N;if(d(N))return h(N,M)+"";if(m(N))return b?b.call(N):"";var R=N+"";return R=="0"&&1/N==-v?"-0":R}a.exports=M}),Ls=p((o,a)=>{var c=Uf();function h(d){return d==null?"":c(d)}a.exports=h}),so=p((o,a)=>{var c=_i(),h=Ho(),d=Gf(),m=Ls();function v(C,b){return c(C)?C:h(C,b)?[C]:d(m(C))}a.exports=v}),Dl=p((o,a)=>{var c=ws(),h=1/0;function d(m){if(typeof m=="string"||c(m))return m;var v=m+"";return v=="0"&&1/m==-h?"-0":v}a.exports=d}),Ol=p((o,a)=>{var c=so(),h=Dl();function d(m,v){v=c(v,m);for(var C=0,b=v.length;m!=null&&C<b;)m=m[h(v[C++])];return C&&C==b?m:void 0}a.exports=d}),vn=p((o,a)=>{var c=Ol();function h(d,m,v){var C=d==null?void 0:c(d,m);return C===void 0?v:C}a.exports=h}),He=p((o,a)=>{(function(c,h){typeof o=="object"&&typeof a<"u"?a.exports=h():(c=c||self).RBush=h()})(o,function(){function c(z,Z,q,ne,Y){(function re(k,B,D,T,O){for(;T>D;){if(T-D>600){var F=T-D+1,H=B-D+1,V=Math.log(F),K=.5*Math.exp(2*V/3),Q=.5*Math.sqrt(V*K*(F-K)/F)*(H-F/2<0?-1:1),X=Math.max(D,Math.floor(B-H*K/F+Q)),le=Math.min(T,Math.floor(B+(F-H)*K/F+Q));re(k,B,X,le,O)}var we=k[B],be=D,xe=T;for(h(k,D,B),O(k[T],we)>0&&h(k,D,T);be<xe;){for(h(k,be,xe),be++,xe--;O(k[be],we)<0;)be++;for(;O(k[xe],we)>0;)xe--}O(k[D],we)===0?h(k,D,xe):h(k,++xe,T),xe<=B&&(D=xe+1),B<=xe&&(T=xe-1)}})(z,Z,q||0,ne||z.length-1,Y||d)}function h(z,Z,q){var ne=z[Z];z[Z]=z[q],z[q]=ne}function d(z,Z){return z<Z?-1:z>Z?1:0}var m=function(z){z===void 0&&(z=9),this._maxEntries=Math.max(4,z),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function v(z,Z,q){if(!q)return Z.indexOf(z);for(var ne=0;ne<Z.length;ne++)if(q(z,Z[ne]))return ne;return-1}function C(z,Z){b(z,0,z.children.length,Z,z)}function b(z,Z,q,ne,Y){Y||(Y=Le(null)),Y.minX=1/0,Y.minY=1/0,Y.maxX=-1/0,Y.maxY=-1/0;for(var re=Z;re<q;re++){var k=z.children[re];M(Y,z.leaf?ne(k):k)}return Y}function M(z,Z){return z.minX=Math.min(z.minX,Z.minX),z.minY=Math.min(z.minY,Z.minY),z.maxX=Math.max(z.maxX,Z.maxX),z.maxY=Math.max(z.maxY,Z.maxY),z}function N(z,Z){return z.minX-Z.minX}function R(z,Z){return z.minY-Z.minY}function ee(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function ie(z){return z.maxX-z.minX+(z.maxY-z.minY)}function he(z,Z){return z.minX<=Z.minX&&z.minY<=Z.minY&&Z.maxX<=z.maxX&&Z.maxY<=z.maxY}function me(z,Z){return Z.minX<=z.maxX&&Z.minY<=z.maxY&&Z.maxX>=z.minX&&Z.maxY>=z.minY}function Le(z){return{children:z,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ue(z,Z,q,ne,Y){for(var re=[Z,q];re.length;)if(!((q=re.pop())-(Z=re.pop())<=ne)){var k=Z+Math.ceil((q-Z)/ne/2)*ne;c(z,k,Z,q,Y),re.push(Z,k,k,q)}}return m.prototype.all=function(){return this._all(this.data,[])},m.prototype.search=function(z){var Z=this.data,q=[];if(!me(z,Z))return q;for(var ne=this.toBBox,Y=[];Z;){for(var re=0;re<Z.children.length;re++){var k=Z.children[re],B=Z.leaf?ne(k):k;me(z,B)&&(Z.leaf?q.push(k):he(z,B)?this._all(k,q):Y.push(k))}Z=Y.pop()}return q},m.prototype.collides=function(z){var Z=this.data;if(!me(z,Z))return!1;for(var q=[];Z;){for(var ne=0;ne<Z.children.length;ne++){var Y=Z.children[ne],re=Z.leaf?this.toBBox(Y):Y;if(me(z,re)){if(Z.leaf||he(z,re))return!0;q.push(Y)}}Z=q.pop()}return!1},m.prototype.load=function(z){if(!z||!z.length)return this;if(z.length<this._minEntries){for(var Z=0;Z<z.length;Z++)this.insert(z[Z]);return this}var q=this._build(z.slice(),0,z.length-1,0);if(this.data.children.length)if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){var ne=this.data;this.data=q,q=ne}this._insert(q,this.data.height-q.height-1,!0)}else this.data=q;return this},m.prototype.insert=function(z){return z&&this._insert(z,this.data.height-1),this},m.prototype.clear=function(){return this.data=Le([]),this},m.prototype.remove=function(z,Z){if(!z)return this;for(var q,ne,Y,re=this.data,k=this.toBBox(z),B=[],D=[];re||B.length;){if(re||(re=B.pop(),ne=B[B.length-1],q=D.pop(),Y=!0),re.leaf){var T=v(z,re.children,Z);if(T!==-1)return re.children.splice(T,1),B.push(re),this._condense(B),this}Y||re.leaf||!he(re,k)?ne?(q++,re=ne.children[q],Y=!1):re=null:(B.push(re),D.push(q),q=0,ne=re,re=re.children[0])}return this},m.prototype.toBBox=function(z){return z},m.prototype.compareMinX=function(z,Z){return z.minX-Z.minX},m.prototype.compareMinY=function(z,Z){return z.minY-Z.minY},m.prototype.toJSON=function(){return this.data},m.prototype.fromJSON=function(z){return this.data=z,this},m.prototype._all=function(z,Z){for(var q=[];z;)z.leaf?Z.push.apply(Z,z.children):q.push.apply(q,z.children),z=q.pop();return Z},m.prototype._build=function(z,Z,q,ne){var Y,re=q-Z+1,k=this._maxEntries;if(re<=k)return C(Y=Le(z.slice(Z,q+1)),this.toBBox),Y;ne||(ne=Math.ceil(Math.log(re)/Math.log(k)),k=Math.ceil(re/Math.pow(k,ne-1))),(Y=Le([])).leaf=!1,Y.height=ne;var B=Math.ceil(re/k),D=B*Math.ceil(Math.sqrt(k));Ue(z,Z,q,D,this.compareMinX);for(var T=Z;T<=q;T+=D){var O=Math.min(T+D-1,q);Ue(z,T,O,B,this.compareMinY);for(var F=T;F<=O;F+=B){var H=Math.min(F+B-1,O);Y.children.push(this._build(z,F,H,ne-1))}}return C(Y,this.toBBox),Y},m.prototype._chooseSubtree=function(z,Z,q,ne){for(;ne.push(Z),!Z.leaf&&ne.length-1!==q;){for(var Y=1/0,re=1/0,k=void 0,B=0;B<Z.children.length;B++){var D=Z.children[B],T=ee(D),O=(F=z,H=D,(Math.max(H.maxX,F.maxX)-Math.min(H.minX,F.minX))*(Math.max(H.maxY,F.maxY)-Math.min(H.minY,F.minY))-T);O<re?(re=O,Y=T<Y?T:Y,k=D):O===re&&T<Y&&(Y=T,k=D)}Z=k||Z.children[0]}var F,H;return Z},m.prototype._insert=function(z,Z,q){var ne=q?z:this.toBBox(z),Y=[],re=this._chooseSubtree(ne,this.data,Z,Y);for(re.children.push(z),M(re,ne);Z>=0&&Y[Z].children.length>this._maxEntries;)this._split(Y,Z),Z--;this._adjustParentBBoxes(ne,Y,Z)},m.prototype._split=function(z,Z){var q=z[Z],ne=q.children.length,Y=this._minEntries;this._chooseSplitAxis(q,Y,ne);var re=this._chooseSplitIndex(q,Y,ne),k=Le(q.children.splice(re,q.children.length-re));k.height=q.height,k.leaf=q.leaf,C(q,this.toBBox),C(k,this.toBBox),Z?z[Z-1].children.push(k):this._splitRoot(q,k)},m.prototype._splitRoot=function(z,Z){this.data=Le([z,Z]),this.data.height=z.height+1,this.data.leaf=!1,C(this.data,this.toBBox)},m.prototype._chooseSplitIndex=function(z,Z,q){for(var ne,Y,re,k,B,D,T,O=1/0,F=1/0,H=Z;H<=q-Z;H++){var V=b(z,0,H,this.toBBox),K=b(z,H,q,this.toBBox),Q=(Y=V,re=K,k=void 0,B=void 0,D=void 0,T=void 0,k=Math.max(Y.minX,re.minX),B=Math.max(Y.minY,re.minY),D=Math.min(Y.maxX,re.maxX),T=Math.min(Y.maxY,re.maxY),Math.max(0,D-k)*Math.max(0,T-B)),X=ee(V)+ee(K);Q<O?(O=Q,ne=H,F=X<F?X:F):Q===O&&X<F&&(F=X,ne=H)}return ne||q-Z},m.prototype._chooseSplitAxis=function(z,Z,q){var ne=z.leaf?this.compareMinX:N,Y=z.leaf?this.compareMinY:R;this._allDistMargin(z,Z,q,ne)<this._allDistMargin(z,Z,q,Y)&&z.children.sort(ne)},m.prototype._allDistMargin=function(z,Z,q,ne){z.children.sort(ne);for(var Y=this.toBBox,re=b(z,0,Z,Y),k=b(z,q-Z,q,Y),B=ie(re)+ie(k),D=Z;D<q-Z;D++){var T=z.children[D];M(re,z.leaf?Y(T):T),B+=ie(re)}for(var O=q-Z-1;O>=Z;O--){var F=z.children[O];M(k,z.leaf?Y(F):F),B+=ie(k)}return B},m.prototype._adjustParentBBoxes=function(z,Z,q){for(var ne=q;ne>=0;ne--)M(Z[ne],z)},m.prototype._condense=function(z){for(var Z=z.length-1,q=void 0;Z>=0;Z--)z[Z].children.length===0?Z>0?(q=z[Z-1].children).splice(q.indexOf(z[Z]),1):this.clear():C(z[Z],this.toBBox)},m})}),lt=p(o=>{Object.defineProperty(o,"__esModule",{value:!0}),o.earthRadius=63710088e-1,o.factors={centimeters:o.earthRadius*100,centimetres:o.earthRadius*100,degrees:o.earthRadius/111325,feet:o.earthRadius*3.28084,inches:o.earthRadius*39.37,kilometers:o.earthRadius/1e3,kilometres:o.earthRadius/1e3,meters:o.earthRadius,metres:o.earthRadius,miles:o.earthRadius/1609.344,millimeters:o.earthRadius*1e3,millimetres:o.earthRadius*1e3,nauticalmiles:o.earthRadius/1852,radians:1,yards:o.earthRadius*1.0936},o.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/o.earthRadius,yards:1.0936133},o.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(T,O,F){F===void 0&&(F={});var H={type:"Feature"};return(F.id===0||F.id)&&(H.id=F.id),F.bbox&&(H.bbox=F.bbox),H.properties=O||{},H.geometry=T,H}o.feature=a;function c(T,O,F){switch(T){case"Point":return h(O).geometry;case"LineString":return C(O).geometry;case"Polygon":return m(O).geometry;case"MultiPoint":return R(O).geometry;case"MultiLineString":return N(O).geometry;case"MultiPolygon":return ee(O).geometry;default:throw new Error(T+" is invalid")}}o.geometry=c;function h(T,O,F){if(F===void 0&&(F={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!re(T[0])||!re(T[1]))throw new Error("coordinates must contain numbers");var H={type:"Point",coordinates:T};return a(H,O,F)}o.point=h;function d(T,O,F){return F===void 0&&(F={}),M(T.map(function(H){return h(H,O)}),F)}o.points=d;function m(T,O,F){F===void 0&&(F={});for(var H=0,V=T;H<V.length;H++){var K=V[H];if(K.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<K[K.length-1].length;Q++)if(K[K.length-1][Q]!==K[0][Q])throw new Error("First and last Position are not equivalent.")}var X={type:"Polygon",coordinates:T};return a(X,O,F)}o.polygon=m;function v(T,O,F){return F===void 0&&(F={}),M(T.map(function(H){return m(H,O)}),F)}o.polygons=v;function C(T,O,F){if(F===void 0&&(F={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var H={type:"LineString",coordinates:T};return a(H,O,F)}o.lineString=C;function b(T,O,F){return F===void 0&&(F={}),M(T.map(function(H){return C(H,O)}),F)}o.lineStrings=b;function M(T,O){O===void 0&&(O={});var F={type:"FeatureCollection"};return O.id&&(F.id=O.id),O.bbox&&(F.bbox=O.bbox),F.features=T,F}o.featureCollection=M;function N(T,O,F){F===void 0&&(F={});var H={type:"MultiLineString",coordinates:T};return a(H,O,F)}o.multiLineString=N;function R(T,O,F){F===void 0&&(F={});var H={type:"MultiPoint",coordinates:T};return a(H,O,F)}o.multiPoint=R;function ee(T,O,F){F===void 0&&(F={});var H={type:"MultiPolygon",coordinates:T};return a(H,O,F)}o.multiPolygon=ee;function ie(T,O,F){F===void 0&&(F={});var H={type:"GeometryCollection",geometries:T};return a(H,O,F)}o.geometryCollection=ie;function he(T,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,O||0);return Math.round(T*F)/F}o.round=he;function me(T,O){O===void 0&&(O="kilometers");var F=o.factors[O];if(!F)throw new Error(O+" units is invalid");return T*F}o.radiansToLength=me;function Le(T,O){O===void 0&&(O="kilometers");var F=o.factors[O];if(!F)throw new Error(O+" units is invalid");return T/F}o.lengthToRadians=Le;function Ue(T,O){return Z(Le(T,O))}o.lengthToDegrees=Ue;function z(T){var O=T%360;return O<0&&(O+=360),O}o.bearingToAzimuth=z;function Z(T){var O=T%(2*Math.PI);return O*180/Math.PI}o.radiansToDegrees=Z;function q(T){var O=T%360;return O*Math.PI/180}o.degreesToRadians=q;function ne(T,O,F){if(O===void 0&&(O="kilometers"),F===void 0&&(F="kilometers"),!(T>=0))throw new Error("length must be a positive number");return me(Le(T,O),F)}o.convertLength=ne;function Y(T,O,F){if(O===void 0&&(O="meters"),F===void 0&&(F="kilometers"),!(T>=0))throw new Error("area must be a positive number");var H=o.areaFactors[O];if(!H)throw new Error("invalid original units");var V=o.areaFactors[F];if(!V)throw new Error("invalid final units");return T/H*V}o.convertArea=Y;function re(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}o.isNumber=re;function k(T){return!!T&&T.constructor===Object}o.isObject=k;function B(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(O){if(!re(O))throw new Error("bbox must only contain numbers")})}o.validateBBox=B;function D(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}o.validateId=D}),uo=p(o=>{Object.defineProperty(o,"__esModule",{value:!0});var a=lt();function c(Z,q,ne){if(Z!==null)for(var Y,re,k,B,D,T,O,F=0,H=0,V,K=Z.type,Q=K==="FeatureCollection",X=K==="Feature",le=Q?Z.features.length:1,we=0;we<le;we++){O=Q?Z.features[we].geometry:X?Z.geometry:Z,V=O?O.type==="GeometryCollection":!1,D=V?O.geometries.length:1;for(var be=0;be<D;be++){var xe=0,Je=0;if(B=V?O.geometries[be]:O,B!==null){T=B.coordinates;var at=B.type;switch(F=ne&&(at==="Polygon"||at==="MultiPolygon")?1:0,at){case null:break;case"Point":if(q(T,H,we,xe,Je)===!1)return!1;H++,xe++;break;case"LineString":case"MultiPoint":for(Y=0;Y<T.length;Y++){if(q(T[Y],H,we,xe,Je)===!1)return!1;H++,at==="MultiPoint"&&xe++}at==="LineString"&&xe++;break;case"Polygon":case"MultiLineString":for(Y=0;Y<T.length;Y++){for(re=0;re<T[Y].length-F;re++){if(q(T[Y][re],H,we,xe,Je)===!1)return!1;H++}at==="MultiLineString"&&xe++,at==="Polygon"&&Je++}at==="Polygon"&&xe++;break;case"MultiPolygon":for(Y=0;Y<T.length;Y++){for(Je=0,re=0;re<T[Y].length;re++){for(k=0;k<T[Y][re].length-F;k++){if(q(T[Y][re][k],H,we,xe,Je)===!1)return!1;H++}Je++}xe++}break;case"GeometryCollection":for(Y=0;Y<B.geometries.length;Y++)if(c(B.geometries[Y],q,ne)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function h(Z,q,ne,Y){var re=ne;return c(Z,function(k,B,D,T,O){B===0&&ne===void 0?re=k:re=q(re,k,B,D,T,O)},Y),re}function d(Z,q){var ne;switch(Z.type){case"FeatureCollection":for(ne=0;ne<Z.features.length&&q(Z.features[ne].properties,ne)!==!1;ne++);break;case"Feature":q(Z.properties,0);break}}function m(Z,q,ne){var Y=ne;return d(Z,function(re,k){k===0&&ne===void 0?Y=re:Y=q(Y,re,k)}),Y}function v(Z,q){if(Z.type==="Feature")q(Z,0);else if(Z.type==="FeatureCollection")for(var ne=0;ne<Z.features.length&&q(Z.features[ne],ne)!==!1;ne++);}function C(Z,q,ne){var Y=ne;return v(Z,function(re,k){k===0&&ne===void 0?Y=re:Y=q(Y,re,k)}),Y}function b(Z){var q=[];return c(Z,function(ne){q.push(ne)}),q}function M(Z,q){var ne,Y,re,k,B,D,T,O,F,H,V=0,K=Z.type==="FeatureCollection",Q=Z.type==="Feature",X=K?Z.features.length:1;for(ne=0;ne<X;ne++){for(D=K?Z.features[ne].geometry:Q?Z.geometry:Z,O=K?Z.features[ne].properties:Q?Z.properties:{},F=K?Z.features[ne].bbox:Q?Z.bbox:void 0,H=K?Z.features[ne].id:Q?Z.id:void 0,T=D?D.type==="GeometryCollection":!1,B=T?D.geometries.length:1,re=0;re<B;re++){if(k=T?D.geometries[re]:D,k===null){if(q(null,V,O,F,H)===!1)return!1;continue}switch(k.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(q(k,V,O,F,H)===!1)return!1;break}case"GeometryCollection":{for(Y=0;Y<k.geometries.length;Y++)if(q(k.geometries[Y],V,O,F,H)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}V++}}function N(Z,q,ne){var Y=ne;return M(Z,function(re,k,B,D,T){k===0&&ne===void 0?Y=re:Y=q(Y,re,k,B,D,T)}),Y}function R(Z,q){M(Z,function(ne,Y,re,k,B){var D=ne===null?null:ne.type;switch(D){case null:case"Point":case"LineString":case"Polygon":return q(a.feature(ne,re,{bbox:k,id:B}),Y,0)===!1?!1:void 0}var T;switch(D){case"MultiPoint":T="Point";break;case"MultiLineString":T="LineString";break;case"MultiPolygon":T="Polygon";break}for(var O=0;O<ne.coordinates.length;O++){var F=ne.coordinates[O],H={type:T,coordinates:F};if(q(a.feature(H,re),Y,O)===!1)return!1}})}function ee(Z,q,ne){var Y=ne;return R(Z,function(re,k,B){k===0&&B===0&&ne===void 0?Y=re:Y=q(Y,re,k,B)}),Y}function ie(Z,q){R(Z,function(ne,Y,re){var k=0;if(ne.geometry){var B=ne.geometry.type;if(!(B==="Point"||B==="MultiPoint")){var D,T=0,O=0,F=0;if(c(ne,function(H,V,K,Q,X){if(D===void 0||Y>T||Q>O||X>F){D=H,T=Y,O=Q,F=X,k=0;return}var le=a.lineString([D,H],ne.properties);if(q(le,Y,re,X,k)===!1)return!1;k++,D=H})===!1)return!1}}})}function he(Z,q,ne){var Y=ne,re=!1;return ie(Z,function(k,B,D,T,O){re===!1&&ne===void 0?Y=k:Y=q(Y,k,B,D,T,O),re=!0}),Y}function me(Z,q){if(!Z)throw new Error("geojson is required");R(Z,function(ne,Y,re){if(ne.geometry!==null){var k=ne.geometry.type,B=ne.geometry.coordinates;switch(k){case"LineString":if(q(ne,Y,re,0,0)===!1)return!1;break;case"Polygon":for(var D=0;D<B.length;D++)if(q(a.lineString(B[D],ne.properties),Y,re,D)===!1)return!1;break}}})}function Le(Z,q,ne){var Y=ne;return me(Z,function(re,k,B,D){k===0&&ne===void 0?Y=re:Y=q(Y,re,k,B,D)}),Y}function Ue(Z,q){if(q=q||{},!a.isObject(q))throw new Error("options is invalid");var ne=q.featureIndex||0,Y=q.multiFeatureIndex||0,re=q.geometryIndex||0,k=q.segmentIndex||0,B=q.properties,D;switch(Z.type){case"FeatureCollection":ne<0&&(ne=Z.features.length+ne),B=B||Z.features[ne].properties,D=Z.features[ne].geometry;break;case"Feature":B=B||Z.properties,D=Z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":D=Z;break;default:throw new Error("geojson is invalid")}if(D===null)return null;var T=D.coordinates;switch(D.type){case"Point":case"MultiPoint":return null;case"LineString":return k<0&&(k=T.length+k-1),a.lineString([T[k],T[k+1]],B,q);case"Polygon":return re<0&&(re=T.length+re),k<0&&(k=T[re].length+k-1),a.lineString([T[re][k],T[re][k+1]],B,q);case"MultiLineString":return Y<0&&(Y=T.length+Y),k<0&&(k=T[Y].length+k-1),a.lineString([T[Y][k],T[Y][k+1]],B,q);case"MultiPolygon":return Y<0&&(Y=T.length+Y),re<0&&(re=T[Y].length+re),k<0&&(k=T[Y][re].length-k-1),a.lineString([T[Y][re][k],T[Y][re][k+1]],B,q)}throw new Error("geojson is invalid")}function z(Z,q){if(q=q||{},!a.isObject(q))throw new Error("options is invalid");var ne=q.featureIndex||0,Y=q.multiFeatureIndex||0,re=q.geometryIndex||0,k=q.coordIndex||0,B=q.properties,D;switch(Z.type){case"FeatureCollection":ne<0&&(ne=Z.features.length+ne),B=B||Z.features[ne].properties,D=Z.features[ne].geometry;break;case"Feature":B=B||Z.properties,D=Z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":D=Z;break;default:throw new Error("geojson is invalid")}if(D===null)return null;var T=D.coordinates;switch(D.type){case"Point":return a.point(T,B,q);case"MultiPoint":return Y<0&&(Y=T.length+Y),a.point(T[Y],B,q);case"LineString":return k<0&&(k=T.length+k),a.point(T[k],B,q);case"Polygon":return re<0&&(re=T.length+re),k<0&&(k=T[re].length+k),a.point(T[re][k],B,q);case"MultiLineString":return Y<0&&(Y=T.length+Y),k<0&&(k=T[Y].length+k),a.point(T[Y][k],B,q);case"MultiPolygon":return Y<0&&(Y=T.length+Y),re<0&&(re=T[Y].length+re),k<0&&(k=T[Y][re].length-k),a.point(T[Y][re][k],B,q)}throw new Error("geojson is invalid")}o.coordAll=b,o.coordEach=c,o.coordReduce=h,o.featureEach=v,o.featureReduce=C,o.findPoint=z,o.findSegment=Ue,o.flattenEach=R,o.flattenReduce=ee,o.geomEach=M,o.geomReduce=N,o.lineEach=me,o.lineReduce=Le,o.propEach=d,o.propReduce=m,o.segmentEach=ie,o.segmentReduce=he}),wi=p(o=>{Object.defineProperty(o,"__esModule",{value:!0});var a=uo();function c(h){var d=[1/0,1/0,-1/0,-1/0];return a.coordEach(h,function(m){d[0]>m[0]&&(d[0]=m[0]),d[1]>m[1]&&(d[1]=m[1]),d[2]<m[0]&&(d[2]=m[0]),d[3]<m[1]&&(d[3]=m[1])}),d}c.default=c,o.default=c}),$n=p((o,a)=>{var c=He(),h=lt(),d=uo(),m=wi().default,v=d.featureEach;d.coordEach,h.polygon;var C=h.featureCollection;function b(M){var N=new c(M);return N.insert=function(R){if(R.type!=="Feature")throw new Error("invalid feature");return R.bbox=R.bbox?R.bbox:m(R),c.prototype.insert.call(this,R)},N.load=function(R){var ee=[];return Array.isArray(R)?R.forEach(function(ie){if(ie.type!=="Feature")throw new Error("invalid features");ie.bbox=ie.bbox?ie.bbox:m(ie),ee.push(ie)}):v(R,function(ie){if(ie.type!=="Feature")throw new Error("invalid features");ie.bbox=ie.bbox?ie.bbox:m(ie),ee.push(ie)}),c.prototype.load.call(this,ee)},N.remove=function(R,ee){if(R.type!=="Feature")throw new Error("invalid feature");return R.bbox=R.bbox?R.bbox:m(R),c.prototype.remove.call(this,R,ee)},N.clear=function(){return c.prototype.clear.call(this)},N.search=function(R){var ee=c.prototype.search.call(this,this.toBBox(R));return C(ee)},N.collides=function(R){return c.prototype.collides.call(this,this.toBBox(R))},N.all=function(){var R=c.prototype.all.call(this);return C(R)},N.toJSON=function(){return c.prototype.toJSON.call(this)},N.fromJSON=function(R){return c.prototype.fromJSON.call(this,R)},N.toBBox=function(R){var ee;if(R.bbox)ee=R.bbox;else if(Array.isArray(R)&&R.length===4)ee=R;else if(Array.isArray(R)&&R.length===6)ee=[R[0],R[1],R[3],R[4]];else if(R.type==="Feature")ee=m(R);else if(R.type==="FeatureCollection")ee=m(R);else throw new Error("invalid geojson");return{minX:ee[0],minY:ee[1],maxX:ee[2],maxY:ee[3]}},N}a.exports=b,a.exports.default=b});Array.prototype.findIndex=Array.prototype.findIndex||function(o){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var a=Object(this),c=a.length>>>0,h=arguments[1],d=0;d<c;d++)if(o.call(h,a[d],d,a))return d;return-1},Array.prototype.find=Array.prototype.find||function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var a=Object(this),c=a.length>>>0,h=arguments[1],d=0;d<c;d++){var m=a[d];if(o.call(h,m,d,a))return m}},typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");o=Object(o);for(var a=1;a<arguments.length;a++){var c=arguments[a];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(o[h]=c[h])}return o}),function(o){o.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,a){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),h=c.length>>>0;if(h===0)return!1;var d=a|0,m=Math.max(d>=0?d:h-Math.abs(d),0);function v(C,b){return C===b||typeof C=="number"&&typeof b=="number"&&isNaN(C)&&isNaN(b)}for(;m<h;){if(v(c[m],o))return!0;m++}return!1}});var Cs={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},Fe=y(Vo()),gt={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},bs={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Wo={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},mr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Zf={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Ko={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},Gn={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Ct={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},jn={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},lo={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},co={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Es={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},ho={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},ks={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},xs={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},qo={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},Ms={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},Ps={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Jo={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Fl={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Ss={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Vf={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},Oe={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Gr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},ot={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},Rl={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Bs={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Un={en:gt,de:bs,it:Wo,id:mr,ro:Zf,ru:Ko,es:Gn,nl:Ct,fr:jn,pt_br:Es,pt_pt:ho,zh:lo,zh_tw:co,pl:ks,sv:xs,el:qo,hu:Ms,da:Ps,no:Jo,fa:Fl,ua:Ss,tr:Vf,cz:Oe,ja:Gr,fi:ot,ko:Rl,ky:Bs},As={_globalEditModeEnabled:!1,enableGlobalEditMode(o){let a={...o};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(c=>{this._isRelevantForEdit(c)&&c.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(o=>{o.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(o=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(o)},handleLayerAdditionInGlobalEditMode(){let o=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let a in o){let c=o[a];this._isRelevantForEdit(c)&&c.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:o}){this._addedLayersEdit[L.stamp(o)]=o},_isRelevantForEdit(o){return o.pm&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.allowEditing}},Zn=As,Ts={_globalDragModeEnabled:!1,enableGlobalDragMode(){let o=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},o.forEach(a=>{this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let o=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,o.forEach(a=>{a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let o=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let a in o){let c=o[a];this._isRelevantForDrag(c)&&c.pm.enableLayerDrag()}},_layerAddedDrag({layer:o}){this._addedLayersDrag[L.stamp(o)]=o},_isRelevantForDrag(o){return o.pm&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.draggable}},fo=Ts,Ot={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(o=>{this._isRelevantForRemoval(o)&&(o.pm.enabled()&&o.pm.disable(),o.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(o=>{o.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(o){let a=o.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval(o){return o.pm&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let o=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let a in o){let c=o[a];this._isRelevantForRemoval(c)&&(c.pm.enabled()&&c.pm.disable(),c.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:o}){this._addedLayersRemoval[L.stamp(o)]=o}},Vn=Ot,Il={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(o=>o instanceof L.Polyline).forEach(o=>{this._isRelevantForRotate(o)&&o.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(o=>o instanceof L.Polyline).forEach(o=>{o.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(o){return o.pm&&o instanceof L.Polyline&&!(o instanceof L.LayerGroup)&&(!L.PM.optIn&&!o.options.pmIgnore||L.PM.optIn&&o.options.pmIgnore===!1)&&!o._pmTempLayer&&o.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let o=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let a in o){let c=o[a];this._isRelevantForRemoval(c)&&c.pm.enableRotate()}},_layerAddedRotate({layer:o}){this._addedLayersRotate[L.stamp(o)]=o}},zl=Il,Hf=y(Vo()),Nl={_fireDrawStart(o="Draw",a={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},o,a)},_fireDrawEnd(o="Draw",a={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},o,a)},_fireCreate(o,a="Draw",c={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:o,layer:o},a,c)},_fireCenterPlaced(o="Draw",a={}){let c=o==="Draw"?this._layer:void 0,h=o!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:c,layer:h,latlng:this._layer.getLatLng()},o,a)},_fireCut(o,a,c,h="Draw",d={}){this.__fire(o,"pm:cut",{shape:this._shape,layer:a,originalLayer:c},h,d)},_fireEdit(o=this._layer,a="Edit",c={}){this.__fire(o,"pm:edit",{layer:this._layer,shape:this.getShape()},a,c)},_fireEnable(o="Edit",a={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},o,a)},_fireDisable(o="Edit",a={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},o,a)},_fireUpdate(o="Edit",a={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},o,a)},_fireMarkerDragStart(o,a=void 0,c="Edit",h={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:o,shape:this.getShape(),indexPath:a},c,h)},_fireMarkerDrag(o,a=void 0,c="Edit",h={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:o,shape:this.getShape(),indexPath:a},c,h)},_fireMarkerDragEnd(o,a=void 0,c=void 0,h="Edit",d={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:o,shape:this.getShape(),indexPath:a,intersectionReset:c},h,d)},_fireDragStart(o="Edit",a={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},o,a)},_fireDrag(o,a="Edit",c={}){this.__fire(this._layer,"pm:drag",{...o,shape:this.getShape()},a,c)},_fireDragEnd(o="Edit",a={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},o,a)},_fireDragEnable(o="Edit",a={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},o,a)},_fireDragDisable(o="Edit",a={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},o,a)},_fireRemove(o,a=o,c="Edit",h={}){this.__fire(o,"pm:remove",{layer:a,shape:this.getShape()},c,h)},_fireVertexAdded(o,a,c,h="Edit",d={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:o,indexPath:a,latlng:c,shape:this.getShape()},h,d)},_fireVertexRemoved(o,a,c="Edit",h={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:o,indexPath:a,shape:this.getShape()},c,h)},_fireVertexClick(o,a,c="Edit",h={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:o,indexPath:a,shape:this.getShape()},c,h)},_fireIntersect(o,a=this._layer,c="Edit",h={}){this.__fire(a,"pm:intersect",{layer:this._layer,intersection:o,shape:this.getShape()},c,h)},_fireLayerReset(o,a,c="Edit",h={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:o,indexPath:a,shape:this.getShape()},c,h)},_fireChange(o,a="Edit",c={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:o,shape:this.getShape()},a,c)},_fireTextChange(o,a="Edit",c={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:o,shape:this.getShape()},a,c)},_fireTextFocus(o="Edit",a={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},o,a)},_fireTextBlur(o="Edit",a={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},o,a)},_fireSnapDrag(o,a,c="Snapping",h={}){this.__fire(o,"pm:snapdrag",a,c,h)},_fireSnap(o,a,c="Snapping",h={}){this.__fire(o,"pm:snap",a,c,h)},_fireUnsnap(o,a,c="Snapping",h={}){this.__fire(o,"pm:unsnap",a,c,h)},_fireRotationEnable(o,a,c="Rotation",h={}){this.__fire(o,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},c,h)},_fireRotationDisable(o,a="Rotation",c={}){this.__fire(o,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,c)},_fireRotationStart(o,a,c="Rotation",h={}){this.__fire(o,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},c,h)},_fireRotation(o,a,c,h=this._rotationLayer,d="Rotation",m={}){this.__fire(o,"pm:rotate",{layer:h,helpLayer:this._layer,startAngle:this._startAngle,angle:h.pm.getAngle(),angleDiff:a,oldLatLngs:c,newLatLngs:h.getLatLngs()},d,m)},_fireRotationEnd(o,a,c,h="Rotation",d={}){this.__fire(o,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:c,newLatLngs:this._rotationLayer.getLatLngs()},h,d)},_fireActionClick(o,a,c,h="Toolbar",d={}){this.__fire(this._map,"pm:actionclick",{text:o.text,action:o,btnName:a,button:c},h,d)},_fireButtonClick(o,a,c="Toolbar",h={}){this.__fire(this._map,"pm:buttonclick",{btnName:o,button:a},c,h)},_fireLangChange(o,a,c,h,d="Global",m={}){this.__fire(this.map,"pm:langchange",{oldLang:o,activeLang:a,fallback:c,translations:h},d,m)},_fireGlobalDragModeToggled(o,a="Global",c={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:o,map:this.map},a,c)},_fireGlobalEditModeToggled(o,a="Global",c={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:o,map:this.map},a,c)},_fireGlobalRemovalModeToggled(o,a="Global",c={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:o,map:this.map},a,c)},_fireGlobalCutModeToggled(o="Global",a={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},o,a)},_fireGlobalDrawModeToggled(o="Global",a={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},o,a)},_fireGlobalRotateModeToggled(o="Global",a={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},o,a)},_fireRemoveLayerGroup(o,a=o,c="Edit",h={}){this.__fire(o,"pm:remove",{layer:a,shape:void 0},c,h)},_fireKeyeventEvent(o,a,c,h="Global",d={}){this.__fire(this.map,"pm:keyevent",{event:o,eventType:a,focusOn:c},h,d)},__fire(o,a,c,h,d={}){c=(0,Hf.default)(c,d,{source:h}),L.PM.Utils._fireEvent(o,a,c)}},Li=Nl,Wf=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(o){this.map=o,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),o.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(o){let a="document";this.map.getContainer().contains(o.target)&&(a="map");let c={event:o,eventType:o.type,focusOn:a};this._lastEvents[o.type]=c,this._lastEvents.current=c,this.map.pm._fireKeyeventEvent(o,o.type,a)},_onBlur(o){o.altKey=!1;let a={event:o,eventType:o.type,focusOn:"document"};this._lastEvents[o.type]=a,this._lastEvents.current=a},getLastKeyEvent(o="current"){return this._lastEvents[o]},isShiftKeyPressed(){var o;return(o=this._lastEvents.current)==null?void 0:o.event.shiftKey},isAltKeyPressed(){var o;return(o=this._lastEvents.current)==null?void 0:o.event.altKey},isCtrlKeyPressed(){var o;return(o=this._lastEvents.current)==null?void 0:o.event.ctrlKey},isMetaKeyPressed(){var o;return(o=this._lastEvents.current)==null?void 0:o.event.metaKey},getPressedKey(){var o;return(o=this._lastEvents.current)==null?void 0:o.event.key}}),$l=Wf,Ie=y(vn());function je(o){let a=L.PM.activeLang;return(0,Ie.default)(Un[a],o)||(0,Ie.default)(Un.en,o)||o}function ur(o){for(let a=0;a<o.length;a+=1){let c=o[a];if(Array.isArray(c)){if(ur(c))return!0}else if(c!=null&&c!=="")return!0}return!1}function wn(o){return o.reduce((a,c)=>{if(c.length!==0){let h=Array.isArray(c)?wn(c):c;Array.isArray(h)?h.length!==0&&a.push(h):a.push(h)}return a},[])}function Gl(o,a,c){let h={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:d,b:m,f:v}=h,C=o.lng,b=o.lat,M=c,N=Math.PI,R=a*N/180,ee=Math.sin(R),ie=Math.cos(R),he=(1-v)*Math.tan(b*N/180),me=1/Math.sqrt(1+he*he),Le=he*me,Ue=Math.atan2(he,ie),z=me*ee,Z=1-z*z,q=Z*(d*d-m*m)/(m*m),ne=1+q/16384*(4096+q*(-768+q*(320-175*q))),Y=q/1024*(256+q*(-128+q*(74-47*q))),re=M/(m*ne),k=2*Math.PI,B,D,T;for(;Math.abs(re-k)>1e-12;){B=Math.cos(2*Ue+re),D=Math.sin(re),T=Math.cos(re);let le=Y*D*(B+Y/4*(T*(-1+2*B*B)-Y/6*B*(-3+4*D*D)*(-3+4*B*B)));k=re,re=M/(m*ne)+le}let O=Le*D-me*T*ie,F=Math.atan2(Le*T+me*D*ie,(1-v)*Math.sqrt(z*z+O*O)),H=Math.atan2(D*ee,me*T-Le*D*ie),V=v/16*Z*(4+v*(4-3*Z)),K=H-(1-V)*v*z*(re+V*D*(B+V*T*(-1+2*B*B))),Q=C+K*180/N,X=F*180/N;return L.latLng(Q,X)}function jl(o,a,c,h,d=!0){let m,v,C,b=[];for(let M=0;M<c;M+=1){if(d)m=M*360/c+h,v=Gl(o,m,a),C=L.latLng(v.lng,v.lat);else{let N=o.lat+Math.cos(2*M*Math.PI/c)*a,R=o.lng+Math.sin(2*M*Math.PI/c)*a;C=L.latLng(N,R)}b.push(C)}return b}function Ds(o,a,c){a=(a+360)%360;let h=Math.PI/180,d=180/Math.PI,{R:m}=L.CRS.Earth,v=o.lng*h,C=o.lat*h,b=a*h,M=Math.sin(C),N=Math.cos(C),R=Math.cos(c/m),ee=Math.sin(c/m),ie=Math.asin(M*R+N*ee*Math.cos(b)),he=v+Math.atan2(Math.sin(b)*ee*N,R-M*Math.sin(ie));he*=d;let me=he-360,Le=he<-180?he+360:he;return he=he>180?me:Le,L.latLng([ie*d,he])}function Os(o,a,c){let h=o.latLngToContainerPoint(a),d=o.latLngToContainerPoint(c),m=Math.atan2(d.y-h.y,d.x-h.x)*180/Math.PI+90;return m+=m<0?360:0,m}function po(o,a,c,h){let d=Os(o,a,c);return Ds(a,d,h)}function Kf(o,a,c="asc"){if(!a||Object.keys(a).length===0)return(b,M)=>b-M;let h=Object.keys(a),d,m=h.length-1,v={};for(;m>=0;)d=h[m],v[d.toLowerCase()]=a[d],m-=1;function C(b){if(b instanceof L.Marker)return"Marker";if(b instanceof L.Circle)return"Circle";if(b instanceof L.CircleMarker)return"CircleMarker";if(b instanceof L.Rectangle)return"Rectangle";if(b instanceof L.Polygon)return"Polygon";if(b instanceof L.Polyline)return"Line"}return(b,M)=>{let N,R;if(N=C(b.layer).toLowerCase(),R=C(M.layer).toLowerCase(),!N||!R)return 0;let ee=N in v?v[N]:Number.MAX_SAFE_INTEGER,ie=R in v?v[R]:Number.MAX_SAFE_INTEGER,he=0;return ee<ie?he=-1:ee>ie&&(he=1),c==="desc"?he*-1:he}}function Ln(o,a=o.getLatLngs()){return o instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function Yo(o,a){var c,h,d,m;if((h=(c=a.options.crs)==null?void 0:c.projection)!=null&&h.MAX_LATITUDE){let v=(m=(d=a.options.crs)==null?void 0:d.projection)==null?void 0:m.MAX_LATITUDE;o.lat=Math.max(Math.min(v,o.lat),-v)}return o}function Ci(o){return o.options.renderer||o._map&&(o._map._getPaneRenderer(o.options.pane)||o._map.options.renderer||o._map._renderer)||o._renderer}var jr=L.Class.extend({includes:[Zn,fo,Vn,zl,Li],initialize(o){this.map=o,this.Draw=new L.PM.Draw(o),this.Toolbar=new L.PM.Toolbar(o),this.Keyboard=$l(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(o)},setLang(o="en",a,c="en"){let h=L.PM.activeLang;a&&(Un[o]=(0,Fe.default)(Un[c],a)),L.PM.activeLang=o,this.map.pm.Toolbar.reinit(),this._fireLangChange(h,o,c,Un[o])},addControls(o){this.Toolbar.addControls(o)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(o="Polygon",a){o==="Poly"&&(o="Polygon"),this.Draw.enable(o,a)},disableDraw(o="Polygon"){o==="Poly"&&(o="Polygon"),this.Draw.disable(o)},setPathOptions(o,a={}){let c=a.ignoreShapes||[],h=a.merge||!1;this.map.pm.Draw.shapes.forEach(d=>{c.indexOf(d)===-1&&this.map.pm.Draw[d].setPathOptions(o,h)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(o){let a=(0,Fe.default)(this.globalOptions,o);a.editable&&(a.resizeableCircleMarker=a.editable,delete a.editable);let c=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!a.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),c=!0);let h=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!a.resizableCircle&&(this.map.pm.Draw.Circle.disable(),h=!0),this.map.pm.Draw.shapes.forEach(d=>{this.map.pm.Draw[d].setOptions(a)}),c&&this.map.pm.Draw.CircleMarker.enable(),h&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(d=>{d.pm.setOptions(a)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=a,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(o=>{o.pm.enabled()&&o.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(o){return this.Draw.Cut.enable(o)},toggleGlobalCutMode(o){return this.Draw.Cut.toggle(o)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(o=!1){let a=L.PM.Utils.findLayers(this.map);if(!o)return a;let c=L.featureGroup();return c._pmTempLayer=!0,a.forEach(h=>{c.addLayer(h)}),c},getGeomanDrawLayers(o=!1){let a=L.PM.Utils.findLayers(this.map).filter(h=>h._drawnByGeoman===!0);if(!o)return a;let c=L.featureGroup();return c._pmTempLayer=!0,a.forEach(h=>{c.addLayer(h)}),c},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(o){this._touchEventCounter===0&&(L.DomEvent.on(o,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(o,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(o){this._touchEventCounter===1&&(L.DomEvent.off(o,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(o,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(o){Ci(this.map)._onMouseMove(this._createMouseEvent("mousemove",o))},_canvasTouchClick(o){let a="";o.type==="touchstart"||o.type==="pointerdown"?a="mousedown":(o.type==="touchend"||o.type==="pointerup"||o.type==="touchcancel"||o.type==="pointercancel")&&(a="mouseup"),a&&Ci(this.map)._onClick(this._createMouseEvent(a,o))},_createMouseEvent(o,a){let c,h=a.touches[0]||a.changedTouches[0];try{c=new MouseEvent(o,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:h.detail,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{c=document.createEvent("MouseEvents"),c.initMouseEvent(o,a.bubbles,a.cancelable,a.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return c}}),qf=jr,Ul=L.Control.extend({includes:[Li],options:{position:"topleft",disableByOtherButtons:!0},initialize(o){this._button=L.Util.extend({},this.options,o)},onAdd(o){return this._map=o,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let o=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),o?o.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(o){return typeof o=="boolean"?this._button.toggleStatus=o:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(o){o&&o.preventDefault(),!this._button.disabled&&(this._button.onClick(o,{button:this,event:o}),this._clicked(o),this._button.afterClick(o,{button:this,event:o}))},_makeButton(o){let a=this.options.position.indexOf("right")>-1?"pos-right":"",c=L.DomUtil.create("div",`button-container  ${a}`,this._container);o.title&&c.setAttribute("title",o.title);let h=L.DomUtil.create("a","leaflet-buttons-control-button",c);h.setAttribute("role","button"),h.setAttribute("tabindex","0"),h.href="#";let d=L.DomUtil.create("div",`leaflet-pm-actions-container ${a}`,c),m=o.actions,v={cancel:{text:je("actions.cancel"),title:je("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:je("actions.finish"),title:je("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:je("actions.removeLastVertex"),title:je("actions.removeLastVertex"),onClick(){this._map.pm.Draw[o.jsClass]._removeLastVertex()}},finish:{text:je("actions.finish"),title:je("actions.finish"),onClick(b){this._map.pm.Draw[o.jsClass]._finishShape(b)}}};m.forEach(b=>{let M=typeof b=="string"?b:b.name,N;if(v[M])N=v[M];else if(b.text)N=b;else return;let R=L.DomUtil.create("a",`leaflet-pm-action ${a} action-${M}`,d);if(R.setAttribute("role","button"),R.setAttribute("tabindex","0"),R.href="#",N.title&&(R.title=N.title),R.innerHTML=N.text,L.DomEvent.disableClickPropagation(R),L.DomEvent.on(R,"click",L.DomEvent.stop),!o.disabled&&N.onClick){let ee=ie=>{ie.preventDefault();let he="",{buttons:me}=this._map.pm.Toolbar;for(let Le in me)if(me[Le]._button===o){he=Le;break}this._fireActionClick(N,he,o)};L.DomEvent.addListener(R,"click",ee,this),L.DomEvent.addListener(R,"click",N.onClick,this)}}),o.toggleStatus&&L.DomUtil.addClass(c,"active");let C=L.DomUtil.create("div","control-icon",h);return o.iconUrl&&C.setAttribute("src",o.iconUrl),o.className&&L.DomUtil.addClass(C,o.className),L.DomEvent.disableClickPropagation(h),L.DomEvent.on(h,"click",L.DomEvent.stop),o.disabled||(L.DomEvent.addListener(h,"click",this._onBtnClick,this),L.DomEvent.addListener(h,"click",this._triggerClick,this)),o.disabled&&(L.DomUtil.addClass(h,"pm-disabled"),h.setAttribute("aria-disabled","true")),c},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let o="",{buttons:a}=this._map.pm.Toolbar;for(let c in a)if(a[c]._button===this._button){o=c;break}this._fireButtonClick(o,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let o="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,o),a.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(a,o),a.setAttribute("aria-disabled","false"))}}),Cn=Ul;L.Control.PMButton=Cn;var Zl=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(o){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(o)},reinit(){let o=this.isVisible;this.removeControls(),this._defineButtons(),o&&this.addControls()},init(o){this.map=o,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(o){let a=`${o}Container`;return this[a]||(this[a]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${o} leaflet-bar leaflet-control`)),this[a]},getButtons(){return this.buttons},addControls(o=this.options){typeof o.editPolygon<"u"&&(o.editMode=o.editPolygon),typeof o.deleteLayer<"u"&&(o.removalMode=o.deleteLayer),L.Util.setOptions(this,o),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let o=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let c in o){let h=o[c];L.Util.setOptions(h,{className:a.geomanIcons[c]})}},removeControls(){let o=this.getButtons();for(let a in o)o[a].remove();this.isVisible=!1},toggleControls(o=this.options){this.isVisible?this.removeControls():this.addControls(o)},_addButton(o,a){return this.buttons[o]=a,this.options[o]=!!this.options[o]||!1,this.buttons[o]},triggerClickOnToggledButtons(o){for(let a in this.buttons){let c=this.buttons[a];c._button.disableByOtherButtons&&c!==o&&c.toggled()&&c._triggerClick()}},toggleButton(o,a,c=!0){return o==="editPolygon"&&(o="editMode"),o==="deleteLayer"&&(o="removalMode"),c&&this.triggerClickOnToggledButtons(this.buttons[o]),this.buttons[o]?this.buttons[o].toggle(a):!1},_defineButtons(){let o={className:"control-icon leaflet-pm-icon-marker",title:je("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:je("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},c={className:"control-icon leaflet-pm-icon-polyline",title:je("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},h={title:je("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},d={title:je("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},m={title:je("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},v={title:je("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},C={title:je("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},b={title:je("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},M={title:je("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},N={title:je("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},R={className:"control-icon leaflet-pm-icon-text",title:je("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ee,ie)=>{this.map.pm.Draw[ie.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(o)),this._addButton("drawPolyline",new L.Control.PMButton(c)),this._addButton("drawRectangle",new L.Control.PMButton(m)),this._addButton("drawPolygon",new L.Control.PMButton(a)),this._addButton("drawCircle",new L.Control.PMButton(h)),this._addButton("drawCircleMarker",new L.Control.PMButton(d)),this._addButton("drawText",new L.Control.PMButton(R)),this._addButton("editMode",new L.Control.PMButton(v)),this._addButton("dragMode",new L.Control.PMButton(C)),this._addButton("cutPolygon",new L.Control.PMButton(b)),this._addButton("removalMode",new L.Control.PMButton(M)),this._addButton("rotateMode",new L.Control.PMButton(N))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let o=this.getButtons(),a=[];this.options.drawControls===!1&&(a=a.concat(Object.keys(o).filter(c=>!o[c]._button.tool))),this.options.editControls===!1&&(a=a.concat(Object.keys(o).filter(c=>o[c]._button.tool==="edit"))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(o).filter(c=>o[c]._button.tool==="options"))),this.options.customControls===!1&&(a=a.concat(Object.keys(o).filter(c=>o[c]._button.tool==="custom")));for(let c in o)if(this.options[c]&&a.indexOf(c)===-1){let h=o[c]._button.tool;h||(h="draw"),o[c].setPosition(this._getBtnPosition(h)),o[c].addTo(this.map)}},_getBtnPosition(o){return this.options.positions&&this.options.positions[o]?this.options.positions[o]:this.options.position},setBlockPosition(o,a){this.options.positions[o]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(o,a){if(a)typeof a!="object"&&(a={name:a});else throw new TypeError("Button has no name");let c=this._btnNameMapping(o);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");let h=this.map.pm.Draw.createNewDrawInstance(a.name,c);a={...this.buttons[c]._button,...a};let d=this.createCustomControl(a);return{drawInstance:h,control:d}},createCustomControl(o){if(!o.name)throw new TypeError("Button has no name");if(this.buttons[o.name])throw new TypeError("Button with this name already exists");o.onClick||(o.onClick=()=>{}),o.afterClick||(o.afterClick=()=>{}),o.toggle!==!1&&(o.toggle=!0),o.block&&(o.block=o.block.toLowerCase()),(!o.block||o.block==="draw")&&(o.block=""),o.className?o.className.indexOf("control-icon")===-1&&(o.className=`control-icon ${o.className}`):o.className="control-icon";let a={tool:o.block,className:o.className,title:o.title||"",jsClass:o.name,onClick:o.onClick,afterClick:o.afterClick,doToggle:o.toggle,toggleStatus:!1,disableOtherButtons:o.disableOtherButtons??!0,disableByOtherButtons:o.disableByOtherButtons??!0,cssToggle:o.toggle,position:this.options.position,actions:o.actions||[],disabled:!!o.disabled};this.options[o.name]!==!1&&(this.options[o.name]=!0);let c=this._addButton(o.name,new L.Control.PMButton(a));return this.changeControlOrder(),c},controlExists(o){return!!this.getButton(o)},getButton(o){return this.getButtons()[o]},getButtonsInBlock(o){let a={};if(o)for(let c in this.getButtons()){let h=this.getButtons()[c];(h._button.tool===o||o==="draw"&&!h._button.tool)&&(a[c]=h)}return a},changeControlOrder(o=[]){let a=this._shapeMapping(),c=[];o.forEach(m=>{a[m]?c.push(a[m]):c.push(m)});let h=this.getButtons(),d={};c.forEach(m=>{h[m]&&(d[m]=h[m])}),Object.keys(h).filter(m=>!h[m]._button.tool).forEach(m=>{c.indexOf(m)===-1&&(d[m]=h[m])}),Object.keys(h).filter(m=>h[m]._button.tool==="edit").forEach(m=>{c.indexOf(m)===-1&&(d[m]=h[m])}),Object.keys(h).filter(m=>h[m]._button.tool==="options").forEach(m=>{c.indexOf(m)===-1&&(d[m]=h[m])}),Object.keys(h).filter(m=>h[m]._button.tool==="custom").forEach(m=>{c.indexOf(m)===-1&&(d[m]=h[m])}),Object.keys(h).forEach(m=>{c.indexOf(m)===-1&&(d[m]=h[m])}),this.map.pm.Toolbar.buttons=d,this._showHideButtons()},getControlOrder(){let o=this.getButtons(),a=[];for(let c in o)a.push(c);return a},changeActionsOfControl(o,a){let c=this._btnNameMapping(o);if(!c)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[c])throw new TypeError("Button with this name not exists");this.buttons[c]._button.actions=a,this.changeControlOrder()},setButtonDisabled(o,a){let c=this._btnNameMapping(o);a?this.buttons[c].disable():this.buttons[c].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(o){let a=this._shapeMapping();return a[o]?a[o]:o}}),Vl=Zl,Fs=y(Vo()),Jf={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(o){o.forEach(a=>{if(Array.isArray(a)){this._assignEvents(a);return}a.off("drag",this._handleSnapping,this),a.on("drag",this._handleSnapping,this),a.off("dragend",this._cleanupSnapping,this),a.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(o){if(o){let a=o.target;a._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(a=>{a.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(o){var C,b,M;let a=o.target;if(a._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((C=o==null?void 0:o.originalEvent)==null?void 0:C.altKey)||((M=(b=this._map)==null?void 0:b.pm)==null?void 0:M.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let c=this._calcClosestLayer(a.getLatLng(),this._snapList);if(Object.keys(c).length===0)return!1;let h=c.layer instanceof L.Marker||c.layer instanceof L.CircleMarker||!this.options.snapSegment,d;h?d=c.latlng:d=this._checkPrioritiySnapping(c);let m=this.options.snapDistance,v={marker:a,shape:this._shape,snapLatLng:d,segment:c.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:c.layer,distance:c.distance};if(this._fireSnapDrag(v.marker,v),this._fireSnapDrag(this._layer,v),c.distance<m){a._orgLatLng=a.getLatLng(),a.setLatLng(d),a._snapped=!0,a._snapInfo=v;let N=()=>{this._snapLatLng=d,this._fireSnap(a,v),this._fireSnap(this._layer,v)},R=this._snapLatLng||{},ee=d||{};(R.lat!==ee.lat||R.lng!==ee.lng)&&N()}else this._snapLatLng&&(this._unsnap(v),a._snapped=!1,a._snapInfo=void 0,this._fireUnsnap(v.marker,v),this._fireUnsnap(this._layer,v));return!0},_createSnapList(){let o=[],a=[],c=this._map;c.off("layerremove",this._handleSnapLayerRemoval,this),c.on("layerremove",this._handleSnapLayerRemoval,this),c.eachLayer(h=>{if((h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&h.options.snapIgnore!==!0){if(h.options.snapIgnore===void 0&&(!L.PM.optIn&&h.options.pmIgnore===!0||L.PM.optIn&&h.options.pmIgnore!==!1))return;(h instanceof L.Circle||h instanceof L.CircleMarker)&&h.pm&&h.pm._hiddenPolyCircle?o.push(h.pm._hiddenPolyCircle):h instanceof L.ImageOverlay&&(h=L.rectangle(h.getBounds())),o.push(h);let d=L.polyline([],{color:"red",pmIgnore:!0});d._pmTempLayer=!0,a.push(d),(h instanceof L.Circle||h instanceof L.CircleMarker)&&a.push(d)}}),o=o.filter(h=>this._layer!==h),o=o.filter(h=>h._latlng||h._latlngs&&ur(h._latlngs)),o=o.filter(h=>!h._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let h=L.polyline([],{color:"red",pmIgnore:!0});h._pmTempLayer=!0,a.push(h)}),this._snapList=o.concat(this._otherSnapLayers)):this._snapList=o,this.debugIndicatorLines=a},_handleSnapLayerRemoval({layer:o}){if(!o._leaflet_id)return;let a=this._snapList.findIndex(c=>c._leaflet_id===o._leaflet_id);a>-1&&this._snapList.splice(a,1)},_calcClosestLayer(o,a){return this._calcClosestLayers(o,a,1)[0]},_calcClosestLayers(o,a,c=1){let h=[],d={};a.forEach((v,C)=>{if(v._parentCopy&&v._parentCopy===this._layer)return;let b=this._calcLayerDistances(o,v);if(b.distance=Math.floor(b.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[C]){let M=L.polyline([],{color:"red",pmIgnore:!0});M._pmTempLayer=!0,this.debugIndicatorLines[C]=M}this.debugIndicatorLines[C].setLatLngs([o,b.latlng])}c===1&&(d.distance===void 0||b.distance-5<=d.distance)?(b.distance+5<d.distance&&(h=[]),d=b,d.layer=v,h.push(d)):c!==1&&(d={},d=b,d.layer=v,h.push(d))}),c!==1&&(h=h.sort((v,C)=>v.distance-C.distance)),c===-1&&(c=h.length);let m=this._getClosestLayerByPriority(h,c);return L.Util.isArray(m)?m:[m]},_calcLayerDistances(o,a){let c=this._map,h=a instanceof L.Marker||a instanceof L.CircleMarker,d=a instanceof L.Polygon,m=o;if(h){let v=a.getLatLng();return{latlng:{...v},distance:this._getDistance(c,v,m)}}return this._calcLatLngDistances(m,a.getLatLngs(),c,d)},_calcLatLngDistances(o,a,c,h=!1){let d,m,v,C=b=>{b.forEach((M,N)=>{if(Array.isArray(M)){C(M);return}if(this.options.snapSegment){let R=M,ee;h?ee=N+1===b.length?0:N+1:ee=N+1===b.length?void 0:N+1;let ie=b[ee];if(ie){let he=this._getDistanceToSegment(c,o,R,ie);(m===void 0||he<m)&&(m=he,v=[R,ie])}}else{let R=this._getDistance(c,o,M);(m===void 0||R<m)&&(m=R,d=M)}})};return C(a),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(c,o,v[0],v[1])},segment:v,distance:m}:{latlng:d,distance:m}},_getClosestLayerByPriority(o,a=1){o=o.sort((v,C)=>v._leaflet_id-C._leaflet_id);let c=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],h=this._map.pm.globalOptions.snappingOrder||[],d=0,m={};return h.concat(c).forEach(v=>{m[v]||(d+=1,m[v]=d)}),o.sort(Kf("instanceofShape",m)),a===1?o[0]||{}:o.slice(0,a)},_checkPrioritiySnapping(o){let a=this._map,c=o.segment[0],h=o.segment[1],d=o.latlng,m=this._getDistance(a,c,d),v=this._getDistance(a,h,d),C=m<v?c:h,b=m<v?m:v;if(this.options.snapMiddle){let R=L.PM.Utils.calcMiddleLatLng(a,c,h),ee=this._getDistance(a,R,d);ee<m&&ee<v&&(C=R,b=ee)}let M=this.options.snapDistance,N;return b<M?N=C:N=d,{...N}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(o,a,c,h){let d=o.getMaxZoom();d===1/0&&(d=o.getZoom());let m=o.project(a,d),v=o.project(c,d),C=o.project(h,d),b=L.LineUtil.closestPointOnSegment(m,v,C);return o.unproject(b,d)},_getDistanceToSegment(o,a,c,h){let d=o.latLngToLayerPoint(a),m=o.latLngToLayerPoint(c),v=o.latLngToLayerPoint(h);return L.LineUtil.pointToSegmentDistance(d,m,v)},_getDistance(o,a,c){return o.latLngToLayerPoint(a).distanceTo(o.latLngToLayerPoint(c))}},Rs=Jf,Hl=L.Class.extend({includes:[Rs,Li],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(o){L.Util.setOptions(this,o),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(o){let a=new L.Icon.Default;a.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=a,this._map=o,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(c=>{this[c]=new L.PM.Draw[c](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(o,a=!1){a?this.options.pathOptions=(0,Fs.default)(this.options.pathOptions,o):this.options.pathOptions=o},getShapes(){return this.shapes},getShape(){return this._shape},enable(o,a){if(!o)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[o].enable(a)},disable(){this.shapes.forEach(o=>{this[o].disable()})},addControls(){this.shapes.forEach(o=>{this[o].addButton()})},getActiveShape(){let o;return this.shapes.forEach(a=>{this[a]._enabled&&(o=a)}),o},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let o=[];this._map.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&(a._pmTempLayer||o.push(a))}),this._enabled?o.forEach(a=>{L.PM.Utils.disablePopup(a)}):o.forEach(a=>{L.PM.Utils.enablePopup(a)})},createNewDrawInstance(o,a){let c=this._getShapeFromBtnName(a);if(this[o])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[c])throw new TypeError(`There is no class L.PM.Draw.${c}`);return this[o]=new L.PM.Draw[c](this._map),this[o].toolbarButtonName=o,this[o]._shape=o,this.shapes.push(o),this[a]&&this[o].setOptions(this[a].options),this[o].setOptions(this[o].options),this[o]},_getShapeFromBtnName(o){let a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[o]?a[o]:this[o]?this[o]._shape:o},_finishLayer(o){o.pm&&(o.pm.setOptions(this.options),o.pm._shape=this._shape,o.pm._map=this._map),this._addDrawnLayerProp(o)},_addDrawnLayerProp(o){o._drawnByGeoman=!0},_setPane(o,a){a==="layerPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Ft=Hl;Ft.Marker=Ft.extend({initialize(o){this._map=o,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(o){L.Util.setOptions(this,o),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(a=>{this.isRelevantMarker(a)&&a.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(o=>{this.isRelevantMarker(o)&&o.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},isRelevantMarker(o){return o instanceof L.Marker&&o.pm&&!o._pmTempLayer&&!o.pm._initTextMarker},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let a=o;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(o){if(!o.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._hintMarker.getLatLng(),c=new L.Marker(a,this.options.markerStyle);this._setPane(c,"markerPane"),this._finishLayer(c),c.pm||(c.options.draggable=!1),c.addTo(this._map.pm._getContainingLayer()),c.pm&&this.options.markerEditable?c.pm.enable():c.dragging&&c.dragging.disable(),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var o,a;(o=this.options.markerStyle)!=null&&o.icon&&((a=this._hintMarker)==null||a.setIcon(this.options.markerStyle.icon))}});var Qt=63710088e-1,Xo={centimeters:Qt*100,centimetres:Qt*100,degrees:Qt/111325,feet:Qt*3.28084,inches:Qt*39.37,kilometers:Qt/1e3,kilometres:Qt/1e3,meters:Qt,metres:Qt,miles:Qt/1609.344,millimeters:Qt*1e3,millimetres:Qt*1e3,nauticalmiles:Qt/1852,radians:1,yards:Qt*1.0936};function bi(o,a,c){c===void 0&&(c={});var h={type:"Feature"};return(c.id===0||c.id)&&(h.id=c.id),c.bbox&&(h.bbox=c.bbox),h.properties=a||{},h.geometry=o,h}function Hn(o,a,c){if(c===void 0&&(c={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Is(o[0])||!Is(o[1]))throw new Error("coordinates must contain numbers");var h={type:"Point",coordinates:o};return bi(h,a,c)}function Ei(o,a,c){if(c===void 0&&(c={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");var h={type:"LineString",coordinates:o};return bi(h,a,c)}function xr(o,a){a===void 0&&(a={});var c={type:"FeatureCollection"};return a.id&&(c.id=a.id),a.bbox&&(c.bbox=a.bbox),c.features=o,c}function Wn(o,a){a===void 0&&(a="kilometers");var c=Xo[a];if(!c)throw new Error(a+" units is invalid");return o*c}function Yf(o,a){a===void 0&&(a="kilometers");var c=Xo[a];if(!c)throw new Error(a+" units is invalid");return o/c}function Kn(o){var a=o%(2*Math.PI);return a*180/Math.PI}function dt(o){var a=o%360;return a*Math.PI/180}function Is(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)}function mo(o){var a,c,h={type:"FeatureCollection",features:[]};if(o.type==="Feature"?c=o.geometry:c=o,c.type==="LineString")a=[c.coordinates];else if(c.type==="MultiLineString")a=c.coordinates;else if(c.type==="MultiPolygon")a=[].concat.apply([],c.coordinates);else if(c.type==="Polygon")a=c.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return a.forEach(function(d){a.forEach(function(m){for(var v=0;v<d.length-1;v++)for(var C=v;C<m.length-1;C++)if(!(d===m&&(Math.abs(v-C)===1||v===0&&C===d.length-2&&d[v][0]===d[d.length-1][0]&&d[v][1]===d[d.length-1][1]))){var b=Xf(d[v][0],d[v][1],d[v+1][0],d[v+1][1],m[C][0],m[C][1],m[C+1][0],m[C+1][1]);b&&h.features.push(Hn([b[0],b[1]]))}})}),h}function Xf(o,a,c,h,d,m,v,C){var b,M,N,R,ee,ie={x:null,y:null,onLine1:!1,onLine2:!1};return b=(C-m)*(c-o)-(v-d)*(h-a),b===0?ie.x!==null&&ie.y!==null?ie:!1:(M=a-m,N=o-d,R=(v-d)*M-(C-m)*N,ee=(c-o)*M-(h-a)*N,M=R/b,N=ee/b,ie.x=o+M*(c-o),ie.y=a+M*(h-a),M>=0&&M<=1&&(ie.onLine1=!0),N>=0&&N<=1&&(ie.onLine2=!0),ie.onLine1&&ie.onLine2?[ie.x,ie.y]:!1)}Ft.Line=Ft.extend({initialize(o){this._map=o,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(o){L.Util.setOptions(this,o),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_syncHintLine(){let o=this._layer.getLatLngs();if(o.length>0){let a=o[o.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let c=o;c.target=this._hintMarker,this._handleSnapping(c)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let a=this._layer._defaultShape().slice();a.push(this._hintMarker.getLatLng()),this._change(a)},hasSelfIntersection(){return mo(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(o,a){let c=L.polyline(this._layer.getLatLngs());o&&(a||(a=this._hintMarker.getLatLng()),c.addLatLng(a));let h=mo(c.toGeoJSON(15));this._doesSelfIntersect=h.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(h,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(o){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,o.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._hintMarker.getLatLng(),c=this._layer.getLatLngs(),h=c[c.length-1];if(a.equals(c[0])||c.length>0&&a.equals(h)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);let d=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(d,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(o)},_setHintLineAfterNewVertex(o){this._hintline.setLatLngs([o,o])},_removeLastVertex(){let o=this._markers;if(o.length<=1){this.disable();return}let a=this._layer.getLatLngs(),c=o[o.length-1],{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(o,c);o.pop(),this._layerGroup.removeLayer(c);let d=o[o.length-1],m=a.indexOf(d.getLatLng());a=a.slice(0,m+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(c,h,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let o=this._layer.getLatLngs();if(o.length<=1)return;let a=L.polyline(o,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(o){let a=new L.Marker(o,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText(){let{length:o}=this._layer.getLatLngs().flat(),a="";o<=1?a=je("tooltips.continueLine"):a=je("tooltips.finishLine"),this._hintMarker.setTooltipContent(a)},_change(o){this._fireChange(o,"Draw")},setStyle(){var o,a;(o=this._layer)==null||o.setStyle(this.options.templineStyle),(a=this._hintline)==null||a.setStyle(this.options.hintlineStyle)}}),Ft.Polygon=Ft.Line.extend({initialize(o){this._map=o,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(o){L.PM.Draw.Line.prototype.enable.call(this,o),this._layer.pm._shape="Polygon"},_createMarker(o){let a=new L.Marker(o,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",()=>1),a},_setTooltipText(){let{length:o}=this._layer.getLatLngs().flat(),a="";o<=2?a=je("tooltips.continueLine"):a=je("tooltips.finishPoly"),this._hintMarker.setTooltipContent(a)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let o=this._layer.getLatLngs();if(o.length<=2)return;let a=L.polygon(o,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),Ft.Rectangle=Ft.extend({initialize(o){this._map=o,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(o){if(L.Util.setOptions(this,o),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let a=0;a<2;a+=1){let c=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._styleMarkers.push(c)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_placeStartingMarkers(o){this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(c=>{L.DomUtil.addClass(c._icon,"visible"),c.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(je("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let o=this._startMarker.getLatLng();o&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([o,o]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let c=o;c.target=this._hintMarker,this._handleSnapping(c)}let a=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(a,"Draw")},_syncRectangleSize(){let o=Yo(this._startMarker.getLatLng(),this._map),a=Yo(this._hintMarker.getLatLng(),this._map),c=L.PM.Utils._getRotatedRectangle(o,a,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(c),this.options.cursorMarker&&this._styleMarkers){let h=[];c.forEach(d=>{!d.equals(o,1e-8)&&!d.equals(a,1e-8)&&h.push(d)}),h.forEach((d,m)=>{try{this._styleMarkers[m].setLatLng(d)}catch{}})}},_findCorners(){let o=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(o[0],o[2],this.options.rectangleAngle||0,this._map)},_finishShape(o){this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._hintMarker.getLatLng(),c=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||c.equals(a))return;let h=L.rectangle([c,a],this.options.pathOptions);if(this.options.rectangleAngle){let d=L.PM.Utils._getRotatedRectangle(c,a,this.options.rectangleAngle||0,this._map);h.setLatLngs(d),h.pm&&h.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){var o;(o=this._layer)==null||o.setStyle(this.options.pathOptions)}}),Ft.CircleMarker=Ft.extend({initialize(o){this._map=o,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(o){if(L.Util.setOptions(this,o),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let a={};L.extend(a,this.options.templineStyle),a.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),a),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(o=>{this.isRelevantMarker(o)&&o.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(o=>{this.isRelevantMarker(o)&&o.pm.disable()})},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_placeCenterMarker(o){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let o=this._centerMarker.getLatLng();o&&(this._layer.setLatLng(o),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(je("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let o=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([o,a])},_syncCircleRadius(){let o=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=this._distanceCalculation(o,a);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(c)},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let c=o;c.target=this._hintMarker,this._handleSnapping(c)}this._handleHintMarkerSnapping();let a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},isRelevantMarker(o){return o instanceof L.CircleMarker&&!(o instanceof L.Circle)&&o.pm&&!o._pmTempLayer},_createMarker(o){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!o.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._hintMarker.getLatLng(),c=new this._BaseCircleClass(a,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(c),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(o){o.pm&&this.options.markerEditable&&o.pm.enable()},_finishShape(o){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._centerMarker.getLatLng(),c=this._defaultRadius;if(this.options[this._editableOption]){let m=this._hintMarker.getLatLng();c=this._distanceCalculation(a,m),this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?c=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&(c=this.options[this._maxRadiusOption])}let h={...this.options.pathOptions,radius:c},d=new this._BaseCircleClass(a,h);this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),d.pm&&d.pm._updateHiddenPolyCircle(),this._fireCreate(d),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let o=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return o;let a=this._centerMarker.getLatLng(),c=this._distanceCalculation(a,o);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?o=po(this._map,a,o,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&(o=po(this._map,a,o,this._getMaxDistanceInMeter()))}return o},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let o=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=this._distanceCalculation(o,a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var a,c;let o={};L.extend(o,this.options.templineStyle),this.options[this._editableOption]&&(o.radius=0),(a=this._layer)==null||a.setStyle(o),(c=this._hintline)==null||c.setStyle(this.options.hintlineStyle)},_distanceCalculation(o,a){return this._map.project(o).distanceTo(this._map.project(a))}}),Ft.Circle=Ft.CircleMarker.extend({initialize(o){this._map=o,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(o,a){return this._map.distance(o,a)}});function gr(o){if(!o)throw new Error("coord is required");if(!Array.isArray(o)){if(o.type==="Feature"&&o.geometry!==null&&o.geometry.type==="Point")return o.geometry.coordinates;if(o.type==="Point")return o.coordinates}if(Array.isArray(o)&&o.length>=2&&!Array.isArray(o[0])&&!Array.isArray(o[1]))return o;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function yr(o){if(Array.isArray(o))return o;if(o.type==="Feature"){if(o.geometry!==null)return o.geometry.coordinates}else if(o.coordinates)return o.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Qo(o){return o.type==="Feature"?o.geometry:o}function Wl(o,a){return o.type==="FeatureCollection"?"FeatureCollection":o.type==="GeometryCollection"?"GeometryCollection":o.type==="Feature"&&o.geometry!==null?o.geometry.type:o.type}function ea(o,a,c){if(o!==null)for(var h,d,m,v,C,b,M,N=0,R=0,ee,ie=o.type,he=ie==="FeatureCollection",me=ie==="Feature",Le=he?o.features.length:1,Ue=0;Ue<Le;Ue++){M=he?o.features[Ue].geometry:me?o.geometry:o,ee=M?M.type==="GeometryCollection":!1,C=ee?M.geometries.length:1;for(var z=0;z<C;z++){var Z=0,q=0;if(v=ee?M.geometries[z]:M,v!==null){b=v.coordinates;var ne=v.type;switch(N=0,ne){case null:break;case"Point":if(a(b,R,Ue,Z,q)===!1)return!1;R++,Z++;break;case"LineString":case"MultiPoint":for(h=0;h<b.length;h++){if(a(b[h],R,Ue,Z,q)===!1)return!1;R++,ne==="MultiPoint"&&Z++}ne==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(h=0;h<b.length;h++){for(d=0;d<b[h].length-N;d++){if(a(b[h][d],R,Ue,Z,q)===!1)return!1;R++}ne==="MultiLineString"&&Z++,ne==="Polygon"&&q++}ne==="Polygon"&&Z++;break;case"MultiPolygon":for(h=0;h<b.length;h++){for(q=0,d=0;d<b[h].length;d++){for(m=0;m<b[h][d].length-N;m++){if(a(b[h][d][m],R,Ue,Z,q)===!1)return!1;R++}q++}Z++}break;case"GeometryCollection":for(h=0;h<v.geometries.length;h++)if(ea(v.geometries[h],a)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function go(o,a){if(o.type==="Feature")a(o,0);else if(o.type==="FeatureCollection")for(var c=0;c<o.features.length&&a(o.features[c],c)!==!1;c++);}function Mr(o,a,c){var h=c;return go(o,function(d,m){m===0&&c===void 0?h=d:h=a(h,d,m)}),h}function ki(o,a){var c,h,d,m,v,C,b,M,N,R,ee=0,ie=o.type==="FeatureCollection",he=o.type==="Feature",me=ie?o.features.length:1;for(c=0;c<me;c++){for(C=ie?o.features[c].geometry:he?o.geometry:o,M=ie?o.features[c].properties:he?o.properties:{},N=ie?o.features[c].bbox:he?o.bbox:void 0,R=ie?o.features[c].id:he?o.id:void 0,b=C?C.type==="GeometryCollection":!1,v=b?C.geometries.length:1,d=0;d<v;d++){if(m=b?C.geometries[d]:C,m===null){if(a(null,ee,M,N,R)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(a(m,ee,M,N,R)===!1)return!1;break}case"GeometryCollection":{for(h=0;h<m.geometries.length;h++)if(a(m.geometries[h],ee,M,N,R)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ee++}}function zs(o,a){ki(o,function(c,h,d,m,v){var C=c===null?null:c.type;switch(C){case null:case"Point":case"LineString":case"Polygon":return a(bi(c,d,{bbox:m,id:v}),h,0)===!1?!1:void 0}var b;switch(C){case"MultiPoint":b="Point";break;case"MultiLineString":b="LineString";break;case"MultiPolygon":b="Polygon";break}for(var M=0;M<c.coordinates.length;M++){var N=c.coordinates[M],R={type:b,coordinates:N};if(a(bi(R,d),h,M)===!1)return!1}})}function rn(o){if(!o)throw new Error("geojson is required");var a=[];return zs(o,function(c){Qf(c,a)}),xr(a)}function Qf(o,a){var c=[],h=o.geometry;if(h!==null){switch(h.type){case"Polygon":c=yr(h);break;case"LineString":c=[yr(h)]}c.forEach(function(d){var m=xi(d,o.properties);m.forEach(function(v){v.id=a.length,a.push(v)})})}}function xi(o,a){var c=[];return o.reduce(function(h,d){var m=Ei([h,d],a);return m.bbox=ep(h,d),c.push(m),d}),c}function ep(o,a){var c=o[0],h=o[1],d=a[0],m=a[1],v=c<d?c:d,C=h<m?h:m,b=c>d?c:d,M=h>m?h:m;return[v,C,b,M]}var qn=rn,Kl=y($n(),1);function ta(o,a){var c={},h=[];if(o.type==="LineString"&&(o=bi(o)),a.type==="LineString"&&(a=bi(a)),o.type==="Feature"&&a.type==="Feature"&&o.geometry!==null&&a.geometry!==null&&o.geometry.type==="LineString"&&a.geometry.type==="LineString"&&o.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var d=ql(o,a);return d&&h.push(d),xr(h)}var m=(0,Kl.default)();return m.load(qn(a)),go(qn(o),function(v){go(m.search(v),function(C){var b=ql(v,C);if(b){var M=yr(b).join(",");c[M]||(c[M]=!0,h.push(b))}})}),xr(h)}function ql(o,a){var c=yr(o),h=yr(a);if(c.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(h.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var d=c[0][0],m=c[0][1],v=c[1][0],C=c[1][1],b=h[0][0],M=h[0][1],N=h[1][0],R=h[1][1],ee=(R-M)*(v-d)-(N-b)*(C-m),ie=(N-b)*(m-M)-(R-M)*(d-b),he=(v-d)*(m-M)-(C-m)*(d-b);if(ee===0)return null;var me=ie/ee,Le=he/ee;if(me>=0&&me<=1&&Le>=0&&Le<=1){var Ue=d+me*(v-d),z=m+me*(C-m);return Hn([Ue,z])}return null}var er=ta,yo=y($n(),1);function tp(o,a,c){c===void 0&&(c={});var h=gr(o),d=gr(a),m=dt(d[1]-h[1]),v=dt(d[0]-h[0]),C=dt(h[1]),b=dt(d[1]),M=Math.pow(Math.sin(m/2),2)+Math.pow(Math.sin(v/2),2)*Math.cos(C)*Math.cos(b);return Wn(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)),c.units)}var nn=tp;function rp(o){var a=o[0],c=o[1],h=o[2],d=o[3],m=nn(o.slice(0,2),[h,c]),v=nn(o.slice(0,2),[a,d]);if(m>=v){var C=(c+d)/2;return[a,C-(h-a)/2,h,C+(h-a)/2]}else{var b=(a+h)/2;return[b-(d-c)/2,c,b+(d-c)/2,d]}}var on=rp;function Ns(o){var a=[1/0,1/0,-1/0,-1/0];return ea(o,function(c){a[0]>c[0]&&(a[0]=c[0]),a[1]>c[1]&&(a[1]=c[1]),a[2]<c[0]&&(a[2]=c[0]),a[3]<c[1]&&(a[3]=c[1])}),a}Ns.default=Ns;var Ur=Ns;function np(o,a){a===void 0&&(a={});var c=a.precision,h=a.coordinates,d=a.mutate;if(c=c==null||isNaN(c)?6:c,h=h==null||isNaN(h)?3:h,!o)throw new Error("<geojson> is required");if(typeof c!="number")throw new Error("<precision> must be a number");if(typeof h!="number")throw new Error("<coordinates> must be a number");(d===!1||d===void 0)&&(o=JSON.parse(JSON.stringify(o)));var m=Math.pow(10,c);return ea(o,function(v){an(v,m,h)}),o}function an(o,a,c){o.length>c&&o.splice(c,o.length);for(var h=0;h<o.length;h++)o[h]=Math.round(o[h]*a)/a;return o}var ra=np;function $s(o,a,c){if(c===void 0&&(c={}),c.final===!0)return Gs(o,a);var h=gr(o),d=gr(a),m=dt(h[0]),v=dt(d[0]),C=dt(h[1]),b=dt(d[1]),M=Math.sin(v-m)*Math.cos(b),N=Math.cos(C)*Math.sin(b)-Math.sin(C)*Math.cos(b)*Math.cos(v-m);return Kn(Math.atan2(M,N))}function Gs(o,a){var c=$s(a,o);return c=(c+180)%360,c}function _o(o,a,c,h){h===void 0&&(h={});var d=gr(o),m=dt(d[0]),v=dt(d[1]),C=dt(c),b=Yf(a,h.units),M=Math.asin(Math.sin(v)*Math.cos(b)+Math.cos(v)*Math.sin(b)*Math.cos(C)),N=m+Math.atan2(Math.sin(C)*Math.sin(b)*Math.cos(v),Math.cos(b)-Math.sin(v)*Math.sin(M)),R=Kn(N),ee=Kn(M);return Hn([R,ee],h.properties)}function js(o,a,c){c===void 0&&(c={});var h=Hn([1/0,1/0],{dist:1/0}),d=0;return zs(o,function(m){for(var v=yr(m),C=0;C<v.length-1;C++){var b=Hn(v[C]);b.properties.dist=nn(a,b,c);var M=Hn(v[C+1]);M.properties.dist=nn(a,M,c);var N=nn(b,M,c),R=Math.max(b.properties.dist,M.properties.dist),ee=$s(b,M),ie=_o(a,R,ee+90,c),he=_o(a,R,ee-90,c),me=er(Ei([ie.geometry.coordinates,he.geometry.coordinates]),Ei([b.geometry.coordinates,M.geometry.coordinates])),Le=null;me.features.length>0&&(Le=me.features[0],Le.properties.dist=nn(a,Le,c),Le.properties.location=d+nn(b,Le,c)),b.properties.dist<h.properties.dist&&(h=b,h.properties.index=C,h.properties.location=d),M.properties.dist<h.properties.dist&&(h=M,h.properties.index=C+1,h.properties.location=d+N),Le&&Le.properties.dist<h.properties.dist&&(h=Le,h.properties.index=C),d+=N}}),h}var na=js;function Mi(o,a){if(!o)throw new Error("line is required");if(!a)throw new Error("splitter is required");var c=Wl(o),h=Wl(a);if(c!=="LineString")throw new Error("line must be LineString");if(h==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(h==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var d=ra(a,{precision:7});switch(h){case"Point":return wo(o,d);case"MultiPoint":return vo(o,d);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return vo(o,er(o,d))}}function vo(o,a){var c=[],h=(0,yo.default)();return zs(a,function(d){if(c.forEach(function(C,b){C.id=b}),!c.length)c=wo(o,d).features,c.forEach(function(C){C.bbox||(C.bbox=on(Ur(C)))}),h.load(xr(c));else{var m=h.search(d);if(m.features.length){var v=Us(d,m);c=c.filter(function(C){return C.id!==v.id}),h.remove(v),go(wo(v,d),function(C){c.push(C),h.insert(C)})}}}),xr(c)}function wo(o,a){var c=[],h=yr(o)[0],d=yr(o)[o.geometry.coordinates.length-1];if(Zs(h,gr(a))||Zs(d,gr(a)))return xr([o]);var m=(0,yo.default)(),v=qn(o);m.load(v);var C=m.search(a);if(!C.features.length)return xr([o]);var b=Us(a,C),M=[h],N=Mr(v,function(R,ee,ie){var he=yr(ee)[1],me=gr(a);return ie===b.id?(R.push(me),c.push(Ei(R)),Zs(me,he)?[me]:[me,he]):(R.push(he),R)},M);return N.length>1&&c.push(Ei(N)),xr(c)}function Us(o,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var c,h=1/0;return go(a,function(d){var m=na(d,o),v=m.properties.dist;v<h&&(c=d,h=v)}),c}function Zs(o,a){return o[0]===a[0]&&o[1]===a[1]}var ia=Mi;function oa(o,a,c){if(c===void 0&&(c={}),!o)throw new Error("point is required");if(!a)throw new Error("polygon is required");var h=gr(o),d=Qo(a),m=d.type,v=a.bbox,C=d.coordinates;if(v&&ip(h,v)===!1)return!1;m==="Polygon"&&(C=[C]);for(var b=!1,M=0;M<C.length&&!b;M++)if(Vs(h,C[M][0],c.ignoreBoundary)){for(var N=!1,R=1;R<C[M].length&&!N;)Vs(h,C[M][R],!c.ignoreBoundary)&&(N=!0),R++;N||(b=!0)}return b}function Vs(o,a,c){var h=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var d=0,m=a.length-1;d<a.length;m=d++){var v=a[d][0],C=a[d][1],b=a[m][0],M=a[m][1],N=o[1]*(v-b)+C*(b-o[0])+M*(o[0]-v)===0&&(v-o[0])*(b-o[0])<=0&&(C-o[1])*(M-o[1])<=0;if(N)return!c;var R=C>o[1]!=M>o[1]&&o[0]<(b-v)*(o[1]-C)/(M-C)+v;R&&(h=!h)}return h}function ip(o,a){return a[0]<=o[0]&&a[1]<=o[1]&&a[2]>=o[0]&&a[3]>=o[1]}function Jl(o,a,c){c===void 0&&(c={});for(var h=gr(o),d=yr(a),m=0;m<d.length-1;m++){var v=!1;if(c.ignoreEndVertices&&(m===0&&(v="start"),m===d.length-2&&(v="end"),m===0&&m+1===d.length-1&&(v="both")),op(d[m],d[m+1],h,v,typeof c.epsilon>"u"?null:c.epsilon))return!0}return!1}function op(o,a,c,h,d){var m=c[0],v=c[1],C=o[0],b=o[1],M=a[0],N=a[1],R=c[0]-C,ee=c[1]-b,ie=M-C,he=N-b,me=R*he-ee*ie;if(d!==null){if(Math.abs(me)>d)return!1}else if(me!==0)return!1;if(h){if(h==="start")return Math.abs(ie)>=Math.abs(he)?ie>0?C<m&&m<=M:M<=m&&m<C:he>0?b<v&&v<=N:N<=v&&v<b;if(h==="end")return Math.abs(ie)>=Math.abs(he)?ie>0?C<=m&&m<M:M<m&&m<=C:he>0?b<=v&&v<N:N<v&&v<=b;if(h==="both")return Math.abs(ie)>=Math.abs(he)?ie>0?C<m&&m<M:M<m&&m<C:he>0?b<v&&v<N:N<v&&v<b}else return Math.abs(ie)>=Math.abs(he)?ie>0?C<=m&&m<=M:M<=m&&m<=C:he>0?b<=v&&v<=N:N<=v&&v<=b;return!1}var tr=Jl;function aa(o,a){var c=Qo(o),h=Qo(a),d=c.type,m=h.type,v=c.coordinates,C=h.coordinates;switch(d){case"Point":switch(m){case"Point":return ua(v,C);default:throw new Error("feature2 "+m+" geometry not supported")}case"MultiPoint":switch(m){case"Point":return ap(c,h);case"MultiPoint":return sa(c,h);default:throw new Error("feature2 "+m+" geometry not supported")}case"LineString":switch(m){case"Point":return tr(h,c,{ignoreEndVertices:!0});case"LineString":return up(c,h);case"MultiPoint":return sp(c,h);default:throw new Error("feature2 "+m+" geometry not supported")}case"Polygon":switch(m){case"Point":return oa(h,c,{ignoreBoundary:!0});case"LineString":return Lo(c,h);case"Polygon":return lp(c,h);case"MultiPoint":return Yl(c,h);default:throw new Error("feature2 "+m+" geometry not supported")}default:throw new Error("feature1 "+d+" geometry not supported")}}function ap(o,a){var c,h=!1;for(c=0;c<o.coordinates.length;c++)if(ua(o.coordinates[c],a.coordinates)){h=!0;break}return h}function sa(o,a){for(var c=0,h=a.coordinates;c<h.length;c++){for(var d=h[c],m=!1,v=0,C=o.coordinates;v<C.length;v++){var b=C[v];if(ua(d,b)){m=!0;break}}if(!m)return!1}return!0}function sp(o,a){for(var c=!1,h=0,d=a.coordinates;h<d.length;h++){var m=d[h];if(tr(m,o,{ignoreEndVertices:!0})&&(c=!0),!tr(m,o))return!1}return!!c}function Yl(o,a){for(var c=0,h=a.coordinates;c<h.length;c++){var d=h[c];if(!oa(d,o,{ignoreBoundary:!0}))return!1}return!0}function up(o,a){for(var c=!1,h=0,d=a.coordinates;h<d.length;h++){var m=d[h];if(tr({type:"Point",coordinates:m},o,{ignoreEndVertices:!0})&&(c=!0),!tr({type:"Point",coordinates:m},o,{ignoreEndVertices:!1}))return!1}return c}function Lo(o,a){var c=!1,h=0,d=Ur(o),m=Ur(a);if(!Jn(d,m))return!1;for(h;h<a.coordinates.length-1;h++){var v=Xl(a.coordinates[h],a.coordinates[h+1]);if(oa({type:"Point",coordinates:v},o,{ignoreBoundary:!0})){c=!0;break}}return c}function lp(o,a){if(o.type==="Feature"&&o.geometry===null||a.type==="Feature"&&a.geometry===null)return!1;var c=Ur(o),h=Ur(a);if(!Jn(c,h))return!1;for(var d=Qo(a).coordinates,m=0,v=d;m<v.length;m++)for(var C=v[m],b=0,M=C;b<M.length;b++){var N=M[b];if(!oa(N,o))return!1}return!0}function Jn(o,a){return!(o[0]>a[0]||o[2]<a[2]||o[1]>a[1]||o[3]<a[3])}function ua(o,a){return o[0]===a[0]&&o[1]===a[1]}function Xl(o,a){return[(o[0]+a[0])/2,(o[1]+a[1])/2]}var cp=y(vn()),Zr=o=>()=>o,la=o=>{let a=o?(c,h)=>h.minus(c).abs().isLessThanOrEqualTo(o):Zr(!1);return(c,h)=>a(c,h)?0:c.comparedTo(h)};function Ql(o){let a=o?(c,h,d,m,v)=>c.exponentiatedBy(2).isLessThanOrEqualTo(m.minus(h).exponentiatedBy(2).plus(v.minus(d).exponentiatedBy(2)).times(o)):Zr(!1);return(c,h,d)=>{let m=c.x,v=c.y,C=d.x,b=d.y,M=v.minus(b).times(h.x.minus(C)).minus(m.minus(C).times(h.y.minus(b)));return a(M,m,v,C,b)?0:M.comparedTo(0)}}var Co=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Hs=Math.ceil,jt=Math.floor,Bt="[BigNumber Error] ",Ws=Bt+"Number primitive has more than 15 significant digits: ",_r=1e14,Te=14,ca=9007199254740991,ha=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],sn=1e7,Pt=1e9;function Ks(o){var a,c,h,d=z.prototype={constructor:z,toString:null,valueOf:null},m=new z(1),v=20,C=4,b=-7,M=21,N=-1e7,R=1e7,ee=!1,ie=1,he=0,me={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Le="0123456789abcdefghijklmnopqrstuvwxyz",Ue=!0;function z(k,B){var D,T,O,F,H,V,K,Q,X=this;if(!(X instanceof z))return new z(k,B);if(B==null){if(k&&k._isBigNumber===!0){X.s=k.s,!k.c||k.e>R?X.c=X.e=null:k.e<N?X.c=[X.e=0]:(X.e=k.e,X.c=k.c.slice());return}if((V=typeof k=="number")&&k*0==0){if(X.s=1/k<0?(k=-k,-1):1,k===~~k){for(F=0,H=k;H>=10;H/=10,F++);F>R?X.c=X.e=null:(X.e=F,X.c=[k]);return}Q=String(k)}else{if(!Co.test(Q=String(k)))return h(X,Q,V);X.s=Q.charCodeAt(0)==45?(Q=Q.slice(1),-1):1}(F=Q.indexOf("."))>-1&&(Q=Q.replace(".","")),(H=Q.search(/e/i))>0?(F<0&&(F=H),F+=+Q.slice(H+1),Q=Q.substring(0,H)):F<0&&(F=Q.length)}else{if(ht(B,2,Le.length,"Base"),B==10&&Ue)return X=new z(k),Y(X,v+X.e+1,C);if(Q=String(k),V=typeof k=="number"){if(k*0!=0)return h(X,Q,V,B);if(X.s=1/k<0?(Q=Q.slice(1),-1):1,z.DEBUG&&Q.replace(/^0\.0*|\./,"").length>15)throw Error(Ws+k)}else X.s=Q.charCodeAt(0)===45?(Q=Q.slice(1),-1):1;for(D=Le.slice(0,B),F=H=0,K=Q.length;H<K;H++)if(D.indexOf(T=Q.charAt(H))<0){if(T=="."){if(H>F){F=K;continue}}else if(!O&&(Q==Q.toUpperCase()&&(Q=Q.toLowerCase())||Q==Q.toLowerCase()&&(Q=Q.toUpperCase()))){O=!0,H=-1,F=0;continue}return h(X,String(k),V,B)}V=!1,Q=c(Q,B,10,X.s),(F=Q.indexOf("."))>-1?Q=Q.replace(".",""):F=Q.length}for(H=0;Q.charCodeAt(H)===48;H++);for(K=Q.length;Q.charCodeAt(--K)===48;);if(Q=Q.slice(H,++K)){if(K-=H,V&&z.DEBUG&&K>15&&(k>ca||k!==jt(k)))throw Error(Ws+X.s*k);if((F=F-H-1)>R)X.c=X.e=null;else if(F<N)X.c=[X.e=0];else{if(X.e=F,X.c=[],H=(F+1)%Te,F<0&&(H+=Te),H<K){for(H&&X.c.push(+Q.slice(0,H)),K-=Te;H<K;)X.c.push(+Q.slice(H,H+=Te));H=Te-(Q=Q.slice(H)).length}else H-=K;for(;H--;Q+="0");X.c.push(+Q)}}else X.c=[X.e=0]}z.clone=Ks,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(k){var B,D;if(k!=null)if(typeof k=="object"){if(k.hasOwnProperty(B="DECIMAL_PLACES")&&(D=k[B],ht(D,0,Pt,B),v=D),k.hasOwnProperty(B="ROUNDING_MODE")&&(D=k[B],ht(D,0,8,B),C=D),k.hasOwnProperty(B="EXPONENTIAL_AT")&&(D=k[B],D&&D.pop?(ht(D[0],-Pt,0,B),ht(D[1],0,Pt,B),b=D[0],M=D[1]):(ht(D,-Pt,Pt,B),b=-(M=D<0?-D:D))),k.hasOwnProperty(B="RANGE"))if(D=k[B],D&&D.pop)ht(D[0],-Pt,-1,B),ht(D[1],1,Pt,B),N=D[0],R=D[1];else if(ht(D,-Pt,Pt,B),D)N=-(R=D<0?-D:D);else throw Error(Bt+B+" cannot be zero: "+D);if(k.hasOwnProperty(B="CRYPTO"))if(D=k[B],D===!!D)if(D)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ee=D;else throw ee=!D,Error(Bt+"crypto unavailable");else ee=D;else throw Error(Bt+B+" not true or false: "+D);if(k.hasOwnProperty(B="MODULO_MODE")&&(D=k[B],ht(D,0,9,B),ie=D),k.hasOwnProperty(B="POW_PRECISION")&&(D=k[B],ht(D,0,Pt,B),he=D),k.hasOwnProperty(B="FORMAT"))if(D=k[B],typeof D=="object")me=D;else throw Error(Bt+B+" not an object: "+D);if(k.hasOwnProperty(B="ALPHABET"))if(D=k[B],typeof D=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(D))Ue=D.slice(0,10)=="0123456789",Le=D;else throw Error(Bt+B+" invalid: "+D)}else throw Error(Bt+"Object expected: "+k);return{DECIMAL_PLACES:v,ROUNDING_MODE:C,EXPONENTIAL_AT:[b,M],RANGE:[N,R],CRYPTO:ee,MODULO_MODE:ie,POW_PRECISION:he,FORMAT:me,ALPHABET:Le}},z.isBigNumber=function(k){if(!k||k._isBigNumber!==!0)return!1;if(!z.DEBUG)return!0;var B,D,T=k.c,O=k.e,F=k.s;e:if({}.toString.call(T)=="[object Array]"){if((F===1||F===-1)&&O>=-Pt&&O<=Pt&&O===jt(O)){if(T[0]===0){if(O===0&&T.length===1)return!0;break e}if(B=(O+1)%Te,B<1&&(B+=Te),String(T[0]).length==B){for(B=0;B<T.length;B++)if(D=T[B],D<0||D>=_r||D!==jt(D))break e;if(D!==0)return!0}}}else if(T===null&&O===null&&(F===null||F===1||F===-1))return!0;throw Error(Bt+"Invalid BigNumber: "+k)},z.maximum=z.max=function(){return q(arguments,-1)},z.minimum=z.min=function(){return q(arguments,1)},z.random=function(){var k=9007199254740992,B=Math.random()*k&2097151?function(){return jt(Math.random()*k)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(D){var T,O,F,H,V,K=0,Q=[],X=new z(m);if(D==null?D=v:ht(D,0,Pt),H=Hs(D/Te),ee)if(crypto.getRandomValues){for(T=crypto.getRandomValues(new Uint32Array(H*=2));K<H;)V=T[K]*131072+(T[K+1]>>>11),V>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),T[K]=O[0],T[K+1]=O[1]):(Q.push(V%1e14),K+=2);K=H/2}else if(crypto.randomBytes){for(T=crypto.randomBytes(H*=7);K<H;)V=(T[K]&31)*281474976710656+T[K+1]*1099511627776+T[K+2]*4294967296+T[K+3]*16777216+(T[K+4]<<16)+(T[K+5]<<8)+T[K+6],V>=9e15?crypto.randomBytes(7).copy(T,K):(Q.push(V%1e14),K+=7);K=H/7}else throw ee=!1,Error(Bt+"crypto unavailable");if(!ee)for(;K<H;)V=B(),V<9e15&&(Q[K++]=V%1e14);for(H=Q[--K],D%=Te,H&&D&&(V=ha[Te-D],Q[K]=jt(H/V)*V);Q[K]===0;Q.pop(),K--);if(K<0)Q=[F=0];else{for(F=-1;Q[0]===0;Q.splice(0,1),F-=Te);for(K=1,V=Q[0];V>=10;V/=10,K++);K<Te&&(F-=Te-K)}return X.e=F,X.c=Q,X}}(),z.sum=function(){for(var k=1,B=arguments,D=new z(B[0]);k<B.length;)D=D.plus(B[k++]);return D},c=function(){var k="0123456789";function B(D,T,O,F){for(var H,V=[0],K,Q=0,X=D.length;Q<X;){for(K=V.length;K--;V[K]*=T);for(V[0]+=F.indexOf(D.charAt(Q++)),H=0;H<V.length;H++)V[H]>O-1&&(V[H+1]==null&&(V[H+1]=0),V[H+1]+=V[H]/O|0,V[H]%=O)}return V.reverse()}return function(D,T,O,F,H){var V,K,Q,X,le,we,be,xe,Je=D.indexOf("."),at=v,We=C;for(Je>=0&&(X=he,he=0,D=D.replace(".",""),xe=new z(T),we=xe.pow(D.length-Je),he=X,xe.c=B(f(lr(we.c),we.e,"0"),10,O,k),xe.e=xe.c.length),be=B(D,T,O,H?(V=Le,k):(V=k,Le)),Q=X=be.length;be[--X]==0;be.pop());if(!be[0])return V.charAt(0);if(Je<0?--Q:(we.c=be,we.e=Q,we.s=F,we=a(we,xe,at,We,O),be=we.c,le=we.r,Q=we.e),K=Q+at+1,Je=be[K],X=O/2,le=le||K<0||be[K+1]!=null,le=We<4?(Je!=null||le)&&(We==0||We==(we.s<0?3:2)):Je>X||Je==X&&(We==4||le||We==6&&be[K-1]&1||We==(we.s<0?8:7)),K<1||!be[0])D=le?f(V.charAt(1),-at,V.charAt(0)):V.charAt(0);else{if(be.length=K,le)for(--O;++be[--K]>O;)be[K]=0,K||(++Q,be=[1].concat(be));for(X=be.length;!be[--X];);for(Je=0,D="";Je<=X;D+=V.charAt(be[Je++]));D=f(D,Q,V.charAt(0))}return D}}(),a=function(){function k(T,O,F){var H,V,K,Q,X=0,le=T.length,we=O%sn,be=O/sn|0;for(T=T.slice();le--;)K=T[le]%sn,Q=T[le]/sn|0,H=be*K+Q*we,V=we*K+H%sn*sn+X,X=(V/F|0)+(H/sn|0)+be*Q,T[le]=V%F;return X&&(T=[X].concat(T)),T}function B(T,O,F,H){var V,K;if(F!=H)K=F>H?1:-1;else for(V=K=0;V<F;V++)if(T[V]!=O[V]){K=T[V]>O[V]?1:-1;break}return K}function D(T,O,F,H){for(var V=0;F--;)T[F]-=V,V=T[F]<O[F]?1:0,T[F]=V*H+T[F]-O[F];for(;!T[0]&&T.length>1;T.splice(0,1));}return function(T,O,F,H,V){var K,Q,X,le,we,be,xe,Je,at,We,st,rr,uc,dp,mp,kn,Ys,Hr=T.s==O.s?1:-1,cr=T.c,kt=O.c;if(!cr||!cr[0]||!kt||!kt[0])return new z(!T.s||!O.s||(cr?kt&&cr[0]==kt[0]:!kt)?NaN:cr&&cr[0]==0||!kt?Hr*0:Hr/0);for(Je=new z(Hr),at=Je.c=[],Q=T.e-O.e,Hr=F+Q+1,V||(V=_r,Q=vr(T.e/Te)-vr(O.e/Te),Hr=Hr/Te|0),X=0;kt[X]==(cr[X]||0);X++);if(kt[X]>(cr[X]||0)&&Q--,Hr<0)at.push(1),le=!0;else{for(dp=cr.length,kn=kt.length,X=0,Hr+=2,we=jt(V/(kt[0]+1)),we>1&&(kt=k(kt,we,V),cr=k(cr,we,V),kn=kt.length,dp=cr.length),uc=kn,We=cr.slice(0,kn),st=We.length;st<kn;We[st++]=0);Ys=kt.slice(),Ys=[0].concat(Ys),mp=kt[0],kt[1]>=V/2&&mp++;do{if(we=0,K=B(kt,We,kn,st),K<0){if(rr=We[0],kn!=st&&(rr=rr*V+(We[1]||0)),we=jt(rr/mp),we>1)for(we>=V&&(we=V-1),be=k(kt,we,V),xe=be.length,st=We.length;B(be,We,xe,st)==1;)we--,D(be,kn<xe?Ys:kt,xe,V),xe=be.length,K=1;else we==0&&(K=we=1),be=kt.slice(),xe=be.length;if(xe<st&&(be=[0].concat(be)),D(We,be,st,V),st=We.length,K==-1)for(;B(kt,We,kn,st)<1;)we++,D(We,kn<st?Ys:kt,st,V),st=We.length}else K===0&&(we++,We=[0]);at[X++]=we,We[0]?We[st++]=cr[uc]||0:(We=[cr[uc]],st=1)}while((uc++<dp||We[0]!=null)&&Hr--);le=We[0]!=null,at[0]||at.splice(0,1)}if(V==_r){for(X=1,Hr=at[0];Hr>=10;Hr/=10,X++);Y(Je,F+(Je.e=X+Q*Te-1)+1,H,le)}else Je.e=Q,Je.r=+le;return Je}}();function Z(k,B,D,T){var O,F,H,V,K;if(D==null?D=C:ht(D,0,8),!k.c)return k.toString();if(O=k.c[0],H=k.e,B==null)K=lr(k.c),K=T==1||T==2&&(H<=b||H>=M)?u(K,H):f(K,H,"0");else if(k=Y(new z(k),B,D),F=k.e,K=lr(k.c),V=K.length,T==1||T==2&&(B<=F||F<=b)){for(;V<B;K+="0",V++);K=u(K,F)}else if(B-=H,K=f(K,F,"0"),F+1>V){if(--B>0)for(K+=".";B--;K+="0");}else if(B+=F-V,B>0)for(F+1==V&&(K+=".");B--;K+="0");return k.s<0&&O?"-"+K:K}function q(k,B){for(var D,T,O=1,F=new z(k[0]);O<k.length;O++)T=new z(k[O]),(!T.s||(D=bn(F,T))===B||D===0&&F.s===B)&&(F=T);return F}function ne(k,B,D){for(var T=1,O=B.length;!B[--O];B.pop());for(O=B[0];O>=10;O/=10,T++);return(D=T+D*Te-1)>R?k.c=k.e=null:D<N?k.c=[k.e=0]:(k.e=D,k.c=B),k}h=function(){var k=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,D=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(F,H,V,K){var Q,X=V?H:H.replace(O,"");if(T.test(X))F.s=isNaN(X)?null:X<0?-1:1;else{if(!V&&(X=X.replace(k,function(le,we,be){return Q=(be=be.toLowerCase())=="x"?16:be=="b"?2:8,!K||K==Q?we:le}),K&&(Q=K,X=X.replace(B,"$1").replace(D,"0.$1")),H!=X))return new z(X,Q);if(z.DEBUG)throw Error(Bt+"Not a"+(K?" base "+K:"")+" number: "+H);F.s=null}F.c=F.e=null}}();function Y(k,B,D,T){var O,F,H,V,K,Q,X,le=k.c,we=ha;if(le){e:{for(O=1,V=le[0];V>=10;V/=10,O++);if(F=B-O,F<0)F+=Te,H=B,K=le[Q=0],X=jt(K/we[O-H-1]%10);else if(Q=Hs((F+1)/Te),Q>=le.length)if(T){for(;le.length<=Q;le.push(0));K=X=0,O=1,F%=Te,H=F-Te+1}else break e;else{for(K=V=le[Q],O=1;V>=10;V/=10,O++);F%=Te,H=F-Te+O,X=H<0?0:jt(K/we[O-H-1]%10)}if(T=T||B<0||le[Q+1]!=null||(H<0?K:K%we[O-H-1]),T=D<4?(X||T)&&(D==0||D==(k.s<0?3:2)):X>5||X==5&&(D==4||T||D==6&&(F>0?H>0?K/we[O-H]:0:le[Q-1])%10&1||D==(k.s<0?8:7)),B<1||!le[0])return le.length=0,T?(B-=k.e+1,le[0]=we[(Te-B%Te)%Te],k.e=-B||0):le[0]=k.e=0,k;if(F==0?(le.length=Q,V=1,Q--):(le.length=Q+1,V=we[Te-F],le[Q]=H>0?jt(K/we[O-H]%we[H])*V:0),T)for(;;)if(Q==0){for(F=1,H=le[0];H>=10;H/=10,F++);for(H=le[0]+=V,V=1;H>=10;H/=10,V++);F!=V&&(k.e++,le[0]==_r&&(le[0]=1));break}else{if(le[Q]+=V,le[Q]!=_r)break;le[Q--]=0,V=1}for(F=le.length;le[--F]===0;le.pop());}k.e>R?k.c=k.e=null:k.e<N&&(k.c=[k.e=0])}return k}function re(k){var B,D=k.e;return D===null?k.toString():(B=lr(k.c),B=D<=b||D>=M?u(B,D):f(B,D,"0"),k.s<0?"-"+B:B)}return d.absoluteValue=d.abs=function(){var k=new z(this);return k.s<0&&(k.s=1),k},d.comparedTo=function(k,B){return bn(this,new z(k,B))},d.decimalPlaces=d.dp=function(k,B){var D,T,O,F=this;if(k!=null)return ht(k,0,Pt),B==null?B=C:ht(B,0,8),Y(new z(F),k+F.e+1,B);if(!(D=F.c))return null;if(T=((O=D.length-1)-vr(this.e/Te))*Te,O=D[O])for(;O%10==0;O/=10,T--);return T<0&&(T=0),T},d.dividedBy=d.div=function(k,B){return a(this,new z(k,B),v,C)},d.dividedToIntegerBy=d.idiv=function(k,B){return a(this,new z(k,B),0,1)},d.exponentiatedBy=d.pow=function(k,B){var D,T,O,F,H,V,K,Q,X,le=this;if(k=new z(k),k.c&&!k.isInteger())throw Error(Bt+"Exponent not an integer: "+re(k));if(B!=null&&(B=new z(B)),V=k.e>14,!le.c||!le.c[0]||le.c[0]==1&&!le.e&&le.c.length==1||!k.c||!k.c[0])return X=new z(Math.pow(+re(le),V?k.s*(2-n(k)):+re(k))),B?X.mod(B):X;if(K=k.s<0,B){if(B.c?!B.c[0]:!B.s)return new z(NaN);T=!K&&le.isInteger()&&B.isInteger(),T&&(le=le.mod(B))}else{if(k.e>9&&(le.e>0||le.e<-1||(le.e==0?le.c[0]>1||V&&le.c[1]>=24e7:le.c[0]<8e13||V&&le.c[0]<=9999975e7)))return F=le.s<0&&n(k)?-0:0,le.e>-1&&(F=1/F),new z(K?1/F:F);he&&(F=Hs(he/Te+2))}for(V?(D=new z(.5),K&&(k.s=1),Q=n(k)):(O=Math.abs(+re(k)),Q=O%2),X=new z(m);;){if(Q){if(X=X.times(le),!X.c)break;F?X.c.length>F&&(X.c.length=F):T&&(X=X.mod(B))}if(O){if(O=jt(O/2),O===0)break;Q=O%2}else if(k=k.times(D),Y(k,k.e+1,1),k.e>14)Q=n(k);else{if(O=+re(k),O===0)break;Q=O%2}le=le.times(le),F?le.c&&le.c.length>F&&(le.c.length=F):T&&(le=le.mod(B))}return T?X:(K&&(X=m.div(X)),B?X.mod(B):F?Y(X,he,C,H):X)},d.integerValue=function(k){var B=new z(this);return k==null?k=C:ht(k,0,8),Y(B,B.e+1,k)},d.isEqualTo=d.eq=function(k,B){return bn(this,new z(k,B))===0},d.isFinite=function(){return!!this.c},d.isGreaterThan=d.gt=function(k,B){return bn(this,new z(k,B))>0},d.isGreaterThanOrEqualTo=d.gte=function(k,B){return(B=bn(this,new z(k,B)))===1||B===0},d.isInteger=function(){return!!this.c&&vr(this.e/Te)>this.c.length-2},d.isLessThan=d.lt=function(k,B){return bn(this,new z(k,B))<0},d.isLessThanOrEqualTo=d.lte=function(k,B){return(B=bn(this,new z(k,B)))===-1||B===0},d.isNaN=function(){return!this.s},d.isNegative=function(){return this.s<0},d.isPositive=function(){return this.s>0},d.isZero=function(){return!!this.c&&this.c[0]==0},d.minus=function(k,B){var D,T,O,F,H=this,V=H.s;if(k=new z(k,B),B=k.s,!V||!B)return new z(NaN);if(V!=B)return k.s=-B,H.plus(k);var K=H.e/Te,Q=k.e/Te,X=H.c,le=k.c;if(!K||!Q){if(!X||!le)return X?(k.s=-B,k):new z(le?H:NaN);if(!X[0]||!le[0])return le[0]?(k.s=-B,k):new z(X[0]?H:C==3?-0:0)}if(K=vr(K),Q=vr(Q),X=X.slice(),V=K-Q){for((F=V<0)?(V=-V,O=X):(Q=K,O=le),O.reverse(),B=V;B--;O.push(0));O.reverse()}else for(T=(F=(V=X.length)<(B=le.length))?V:B,V=B=0;B<T;B++)if(X[B]!=le[B]){F=X[B]<le[B];break}if(F&&(O=X,X=le,le=O,k.s=-k.s),B=(T=le.length)-(D=X.length),B>0)for(;B--;X[D++]=0);for(B=_r-1;T>V;){if(X[--T]<le[T]){for(D=T;D&&!X[--D];X[D]=B);--X[D],X[T]+=_r}X[T]-=le[T]}for(;X[0]==0;X.splice(0,1),--Q);return X[0]?ne(k,X,Q):(k.s=C==3?-1:1,k.c=[k.e=0],k)},d.modulo=d.mod=function(k,B){var D,T,O=this;return k=new z(k,B),!O.c||!k.s||k.c&&!k.c[0]?new z(NaN):!k.c||O.c&&!O.c[0]?new z(O):(ie==9?(T=k.s,k.s=1,D=a(O,k,0,3),k.s=T,D.s*=T):D=a(O,k,0,ie),k=O.minus(D.times(k)),!k.c[0]&&ie==1&&(k.s=O.s),k)},d.multipliedBy=d.times=function(k,B){var D,T,O,F,H,V,K,Q,X,le,we,be,xe,Je,at,We=this,st=We.c,rr=(k=new z(k,B)).c;if(!st||!rr||!st[0]||!rr[0])return!We.s||!k.s||st&&!st[0]&&!rr||rr&&!rr[0]&&!st?k.c=k.e=k.s=null:(k.s*=We.s,!st||!rr?k.c=k.e=null:(k.c=[0],k.e=0)),k;for(T=vr(We.e/Te)+vr(k.e/Te),k.s*=We.s,K=st.length,le=rr.length,K<le&&(xe=st,st=rr,rr=xe,O=K,K=le,le=O),O=K+le,xe=[];O--;xe.push(0));for(Je=_r,at=sn,O=le;--O>=0;){for(D=0,we=rr[O]%at,be=rr[O]/at|0,H=K,F=O+H;F>O;)Q=st[--H]%at,X=st[H]/at|0,V=be*Q+X*we,Q=we*Q+V%at*at+xe[F]+D,D=(Q/Je|0)+(V/at|0)+be*X,xe[F--]=Q%Je;xe[F]=D}return D?++T:xe.splice(0,1),ne(k,xe,T)},d.negated=function(){var k=new z(this);return k.s=-k.s||null,k},d.plus=function(k,B){var D,T=this,O=T.s;if(k=new z(k,B),B=k.s,!O||!B)return new z(NaN);if(O!=B)return k.s=-B,T.minus(k);var F=T.e/Te,H=k.e/Te,V=T.c,K=k.c;if(!F||!H){if(!V||!K)return new z(O/0);if(!V[0]||!K[0])return K[0]?k:new z(V[0]?T:O*0)}if(F=vr(F),H=vr(H),V=V.slice(),O=F-H){for(O>0?(H=F,D=K):(O=-O,D=V),D.reverse();O--;D.push(0));D.reverse()}for(O=V.length,B=K.length,O-B<0&&(D=K,K=V,V=D,B=O),O=0;B;)O=(V[--B]=V[B]+K[B]+O)/_r|0,V[B]=_r===V[B]?0:V[B]%_r;return O&&(V=[O].concat(V),++H),ne(k,V,H)},d.precision=d.sd=function(k,B){var D,T,O,F=this;if(k!=null&&k!==!!k)return ht(k,1,Pt),B==null?B=C:ht(B,0,8),Y(new z(F),k,B);if(!(D=F.c))return null;if(O=D.length-1,T=O*Te+1,O=D[O]){for(;O%10==0;O/=10,T--);for(O=D[0];O>=10;O/=10,T++);}return k&&F.e+1>T&&(T=F.e+1),T},d.shiftedBy=function(k){return ht(k,-ca,ca),this.times("1e"+k)},d.squareRoot=d.sqrt=function(){var k,B,D,T,O,F=this,H=F.c,V=F.s,K=F.e,Q=v+4,X=new z("0.5");if(V!==1||!H||!H[0])return new z(!V||V<0&&(!H||H[0])?NaN:H?F:1/0);if(V=Math.sqrt(+re(F)),V==0||V==1/0?(B=lr(H),(B.length+K)%2==0&&(B+="0"),V=Math.sqrt(+B),K=vr((K+1)/2)-(K<0||K%2),V==1/0?B="5e"+K:(B=V.toExponential(),B=B.slice(0,B.indexOf("e")+1)+K),D=new z(B)):D=new z(V+""),D.c[0]){for(K=D.e,V=K+Q,V<3&&(V=0);;)if(O=D,D=X.times(O.plus(a(F,O,Q,1))),lr(O.c).slice(0,V)===(B=lr(D.c)).slice(0,V))if(D.e<K&&--V,B=B.slice(V-3,V+1),B=="9999"||!T&&B=="4999"){if(!T&&(Y(O,O.e+v+2,0),O.times(O).eq(F))){D=O;break}Q+=4,V+=4,T=1}else{(!+B||!+B.slice(1)&&B.charAt(0)=="5")&&(Y(D,D.e+v+2,1),k=!D.times(D).eq(F));break}}return Y(D,D.e+v+1,C,k)},d.toExponential=function(k,B){return k!=null&&(ht(k,0,Pt),k++),Z(this,k,B,1)},d.toFixed=function(k,B){return k!=null&&(ht(k,0,Pt),k=k+this.e+1),Z(this,k,B)},d.toFormat=function(k,B,D){var T,O=this;if(D==null)k!=null&&B&&typeof B=="object"?(D=B,B=null):k&&typeof k=="object"?(D=k,k=B=null):D=me;else if(typeof D!="object")throw Error(Bt+"Argument not an object: "+D);if(T=O.toFixed(k,B),O.c){var F,H=T.split("."),V=+D.groupSize,K=+D.secondaryGroupSize,Q=D.groupSeparator||"",X=H[0],le=H[1],we=O.s<0,be=we?X.slice(1):X,xe=be.length;if(K&&(F=V,V=K,K=F,xe-=F),V>0&&xe>0){for(F=xe%V||V,X=be.substr(0,F);F<xe;F+=V)X+=Q+be.substr(F,V);K>0&&(X+=Q+be.slice(F)),we&&(X="-"+X)}T=le?X+(D.decimalSeparator||"")+((K=+D.fractionGroupSize)?le.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(D.fractionGroupSeparator||"")):le):X}return(D.prefix||"")+T+(D.suffix||"")},d.toFraction=function(k){var B,D,T,O,F,H,V,K,Q,X,le,we,be=this,xe=be.c;if(k!=null&&(V=new z(k),!V.isInteger()&&(V.c||V.s!==1)||V.lt(m)))throw Error(Bt+"Argument "+(V.isInteger()?"out of range: ":"not an integer: ")+re(V));if(!xe)return new z(be);for(B=new z(m),Q=D=new z(m),T=K=new z(m),we=lr(xe),F=B.e=we.length-be.e-1,B.c[0]=ha[(H=F%Te)<0?Te+H:H],k=!k||V.comparedTo(B)>0?F>0?B:Q:V,H=R,R=1/0,V=new z(we),K.c[0]=0;X=a(V,B,0,1),O=D.plus(X.times(T)),O.comparedTo(k)!=1;)D=T,T=O,Q=K.plus(X.times(O=Q)),K=O,B=V.minus(X.times(O=B)),V=O;return O=a(k.minus(D),T,0,1),K=K.plus(O.times(Q)),D=D.plus(O.times(T)),K.s=Q.s=be.s,F=F*2,le=a(Q,T,F,C).minus(be).abs().comparedTo(a(K,D,F,C).minus(be).abs())<1?[Q,T]:[K,D],R=H,le},d.toNumber=function(){return+re(this)},d.toPrecision=function(k,B){return k!=null&&ht(k,1,Pt),Z(this,k,B,2)},d.toString=function(k){var B,D=this,T=D.s,O=D.e;return O===null?T?(B="Infinity",T<0&&(B="-"+B)):B="NaN":(k==null?B=O<=b||O>=M?u(lr(D.c),O):f(lr(D.c),O,"0"):k===10&&Ue?(D=Y(new z(D),v+O+1,C),B=f(lr(D.c),D.e,"0")):(ht(k,2,Le.length,"Base"),B=c(f(lr(D.c),O,"0"),10,k,T,!0)),T<0&&D.c[0]&&(B="-"+B)),B},d.valueOf=d.toJSON=function(){return re(this)},d._isBigNumber=!0,d[Symbol.toStringTag]="BigNumber",d[Symbol.for("nodejs.util.inspect.custom")]=d.valueOf,o!=null&&z.set(o),z}function vr(o){var a=o|0;return o>0||o===a?a:a-1}function lr(o){for(var a,c,h=1,d=o.length,m=o[0]+"";h<d;){for(a=o[h++]+"",c=Te-a.length;c--;a="0"+a);m+=a}for(d=m.length;m.charCodeAt(--d)===48;);return m.slice(0,d+1||1)}function bn(o,a){var c,h,d=o.c,m=a.c,v=o.s,C=a.s,b=o.e,M=a.e;if(!v||!C)return null;if(c=d&&!d[0],h=m&&!m[0],c||h)return c?h?0:-C:v;if(v!=C)return v;if(c=v<0,h=b==M,!d||!m)return h?0:!d^c?1:-1;if(!h)return b>M^c?1:-1;for(C=(b=d.length)<(M=m.length)?b:M,v=0;v<C;v++)if(d[v]!=m[v])return d[v]>m[v]^c?1:-1;return b==M?0:b>M^c?1:-1}function ht(o,a,c,h){if(o<a||o>c||o!==jt(o))throw Error(Bt+(h||"Argument")+(typeof o=="number"?o<a||o>c?" out of range: ":" not an integer: ":" not a primitive number: ")+String(o))}function n(o){var a=o.c.length-1;return vr(o.e/Te)==a&&o.c[a]%2!=0}function u(o,a){return(o.length>1?o.charAt(0)+"."+o.slice(1):o)+(a<0?"e":"e+")+a}function f(o,a,c){var h,d;if(a<0){for(d=c+".";++a;d+=c);o=d+o}else if(h=o.length,++a>h){for(d=c,a-=h;--a;d+=c);o+=d}else a<h&&(o=o.slice(0,a)+"."+o.slice(a));return o}var g=Ks(),w=g,S=class{constructor(o){ke(this,"key");ke(this,"left",null);ke(this,"right",null);this.key=o}},U=class extends S{constructor(o){super(o)}},te=class{constructor(){ke(this,"size",0);ke(this,"modificationCount",0);ke(this,"splayCount",0)}splay(o){let a=this.root;if(a==null)return this.compare(o,o),-1;let c=null,h=null,d=null,m=null,v=a,C=this.compare,b;for(;;)if(b=C(v.key,o),b>0){let M=v.left;if(M==null||(b=C(M.key,o),b>0&&(v.left=M.right,M.right=v,v=M,M=v.left,M==null)))break;c==null?h=v:c.left=v,c=v,v=M}else if(b<0){let M=v.right;if(M==null||(b=C(M.key,o),b<0&&(v.right=M.left,M.left=v,v=M,M=v.right,M==null)))break;d==null?m=v:d.right=v,d=v,v=M}else break;return d!=null&&(d.right=v.left,v.left=m),c!=null&&(c.left=v.right,v.right=h),this.root!==v&&(this.root=v,this.splayCount++),b}splayMin(o){let a=o,c=a.left;for(;c!=null;){let h=c;a.left=h.right,h.right=a,a=h,c=a.left}return a}splayMax(o){let a=o,c=a.right;for(;c!=null;){let h=c;a.right=h.left,h.left=a,a=h,c=a.right}return a}_delete(o){if(this.root==null||this.splay(o)!=0)return null;let a=this.root,c=a,h=a.left;if(this.size--,h==null)this.root=a.right;else{let d=a.right;a=this.splayMax(h),a.right=d,this.root=a}return this.modificationCount++,c}addNewRoot(o,a){this.size++,this.modificationCount++;let c=this.root;if(c==null){this.root=o;return}a<0?(o.left=c,o.right=c.right,c.right=null):(o.right=c,o.left=c.left,c.left=null),this.root=o}_first(){let o=this.root;return o==null?null:(this.root=this.splayMin(o),this.root)}_last(){let o=this.root;return o==null?null:(this.root=this.splayMax(o),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(o){return this.validKey(o)&&this.splay(o)==0}defaultCompare(){return(o,a)=>o<a?-1:o>a?1:0}wrap(){return{getRoot:()=>this.root,setRoot:o=>{this.root=o},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:o=>{this.splayCount=o},splay:o=>this.splay(o),has:o=>this.has(o)}}},oe=class pu extends te{constructor(c,h){super();ke(this,"root",null);ke(this,"compare");ke(this,"validKey");ke(this,Sg,"[object Set]");this.compare=c??this.defaultCompare(),this.validKey=h??(d=>d!=null&&d!=null)}delete(c){return this.validKey(c)?this._delete(c)!=null:!1}deleteAll(c){for(let h of c)this.delete(h)}forEach(c){let h=this[Symbol.iterator](),d;for(;d=h.next(),!d.done;)c(d.value,d.value,this)}add(c){let h=this.splay(c);return h!=0&&this.addNewRoot(new U(c),h),this}addAndReturn(c){let h=this.splay(c);return h!=0&&this.addNewRoot(new U(c),h),this.root.key}addAll(c){for(let h of c)this.add(h)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(c){if(c==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(c)<0)return this.root.key;let h=this.root.left;if(h==null)return null;let d=h.right;for(;d!=null;)h=d,d=h.right;return h.key}firstAfter(c){if(c==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(c)>0)return this.root.key;let h=this.root.right;if(h==null)return null;let d=h.left;for(;d!=null;)h=d,d=h.left;return h.key}retainAll(c){let h=new pu(this.compare,this.validKey),d=this.modificationCount;for(let m of c){if(d!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(m)&&this.splay(m)==0&&h.add(this.root.key)}h.size!=this.size&&(this.root=h.root,this.size=h.size,this.modificationCount++)}lookup(c){return!this.validKey(c)||this.splay(c)!=0?null:this.root.key}intersection(c){let h=new pu(this.compare,this.validKey);for(let d of this)c.has(d)&&h.add(d);return h}difference(c){let h=new pu(this.compare,this.validKey);for(let d of this)c.has(d)||h.add(d);return h}union(c){let h=this.clone();return h.addAll(c),h}clone(){let c=new pu(this.compare,this.validKey);return c.size=this.size,c.root=this.copyNode(this.root),c}copyNode(c){if(c==null)return null;function h(m,v){let C,b;do{if(C=m.left,b=m.right,C!=null){let M=new U(C.key);v.left=M,h(C,M)}if(b!=null){let M=new U(b.key);v.right=M,m=b,v=M}}while(b!=null)}let d=new U(c.key);return h(c,d),d}toSet(){return this.clone()}entries(){return new Me(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(Bg=Symbol.iterator,Sg=Symbol.toStringTag,Bg)](){return new _e(this.wrap())}},ce=class{constructor(o){ke(this,"tree");ke(this,"path",new Array);ke(this,"modificationCount",null);ke(this,"splayCount");this.tree=o,this.splayCount=o.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let o=this.path[this.path.length-1];return this.getValue(o)}rebuildPath(o){this.path.splice(0,this.path.length),this.tree.splay(o),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(o){for(;o!=null;)this.path.push(o),o=o.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let c=this.tree.getRoot();for(;c!=null;)this.path.push(c),c=c.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let o=this.path[this.path.length-1],a=o.right;if(a!=null){for(;a!=null;)this.path.push(a),a=a.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===o;)o=this.path.pop();return this.path.length>0}},_e=class extends ce{getValue(o){return o.key}},Me=class extends ce{getValue(o){return[o.key,o.key]}},Re=o=>o,Ut=o=>{if(o){let a=new oe(la(o)),c=new oe(la(o)),h=(m,v)=>v.addAndReturn(m),d=m=>({x:h(m.x,a),y:h(m.y,c)});return d({x:new w(0),y:new w(0)}),d}return Re},bt=o=>({set:a=>{Et=bt(a)},reset:()=>bt(o),compare:la(o),snap:Ut(o),orient:Ql(o)}),Et=bt(),At=(o,a)=>o.ll.x.isLessThanOrEqualTo(a.x)&&a.x.isLessThanOrEqualTo(o.ur.x)&&o.ll.y.isLessThanOrEqualTo(a.y)&&a.y.isLessThanOrEqualTo(o.ur.y),En=(o,a)=>{if(a.ur.x.isLessThan(o.ll.x)||o.ur.x.isLessThan(a.ll.x)||a.ur.y.isLessThan(o.ll.y)||o.ur.y.isLessThan(a.ll.y))return null;let c=o.ll.x.isLessThan(a.ll.x)?a.ll.x:o.ll.x,h=o.ur.x.isLessThan(a.ur.x)?o.ur.x:a.ur.x,d=o.ll.y.isLessThan(a.ll.y)?a.ll.y:o.ll.y,m=o.ur.y.isLessThan(a.ur.y)?o.ur.y:a.ur.y;return{ll:{x:c,y:d},ur:{x:h,y:m}}},fa=(o,a)=>o.x.times(a.y).minus(o.y.times(a.x)),ec=(o,a)=>o.x.times(a.x).plus(o.y.times(a.y)),pa=o=>ec(o,o).sqrt(),tc=(o,a,c)=>{let h={x:a.x.minus(o.x),y:a.y.minus(o.y)},d={x:c.x.minus(o.x),y:c.y.minus(o.y)};return fa(d,h).div(pa(d)).div(pa(h))},hp=(o,a,c)=>{let h={x:a.x.minus(o.x),y:a.y.minus(o.y)},d={x:c.x.minus(o.x),y:c.y.minus(o.y)};return ec(d,h).div(pa(d)).div(pa(h))},qs=(o,a,c)=>a.y.isZero()?null:{x:o.x.plus(a.x.div(a.y).times(c.minus(o.y))),y:c},yt=(o,a,c)=>a.x.isZero()?null:{x:c,y:o.y.plus(a.y.div(a.x).times(c.minus(o.x)))},da=(o,a,c,h)=>{if(a.x.isZero())return yt(c,h,o.x);if(h.x.isZero())return yt(o,a,c.x);if(a.y.isZero())return qs(c,h,o.y);if(h.y.isZero())return qs(o,a,c.y);let d=fa(a,h);if(d.isZero())return null;let m={x:c.x.minus(o.x),y:c.y.minus(o.y)},v=fa(m,a).div(d),C=fa(m,h).div(d),b=o.x.plus(C.times(a.x)),M=c.x.plus(v.times(h.x)),N=o.y.plus(C.times(a.y)),R=c.y.plus(v.times(h.y)),ee=b.plus(M).div(2),ie=N.plus(R).div(2);return{x:ee,y:ie}},Vr=class j4{constructor(a,c){ke(this,"point");ke(this,"isLeft");ke(this,"segment");ke(this,"otherSE");ke(this,"consumedBy");a.events===void 0?a.events=[this]:a.events.push(this),this.point=a,this.isLeft=c}static compare(a,c){let h=j4.comparePoints(a.point,c.point);return h!==0?h:(a.point!==c.point&&a.link(c),a.isLeft!==c.isLeft?a.isLeft?1:-1:ma.compare(a.segment,c.segment))}static comparePoints(a,c){return a.x.isLessThan(c.x)?-1:a.x.isGreaterThan(c.x)?1:a.y.isLessThan(c.y)?-1:a.y.isGreaterThan(c.y)?1:0}link(a){if(a.point===this.point)throw new Error("Tried to link already linked events");let c=a.point.events;for(let h=0,d=c.length;h<d;h++){let m=c[h];this.point.events.push(m),m.point=this.point}this.checkForConsuming()}checkForConsuming(){let a=this.point.events.length;for(let c=0;c<a;c++){let h=this.point.events[c];if(h.segment.consumedBy===void 0)for(let d=c+1;d<a;d++){let m=this.point.events[d];m.consumedBy===void 0&&h.otherSE.point.events===m.otherSE.point.events&&h.segment.consume(m.segment)}}}getAvailableLinkedEvents(){let a=[];for(let c=0,h=this.point.events.length;c<h;c++){let d=this.point.events[c];d!==this&&!d.segment.ringOut&&d.segment.isInResult()&&a.push(d)}return a}getLeftmostComparator(a){let c=new Map,h=d=>{let m=d.otherSE;c.set(d,{sine:tc(this.point,a.point,m.point),cosine:hp(this.point,a.point,m.point)})};return(d,m)=>{c.has(d)||h(d),c.has(m)||h(m);let{sine:v,cosine:C}=c.get(d),{sine:b,cosine:M}=c.get(m);return v.isGreaterThanOrEqualTo(0)&&b.isGreaterThanOrEqualTo(0)?C.isLessThan(M)?1:C.isGreaterThan(M)?-1:0:v.isLessThan(0)&&b.isLessThan(0)?C.isLessThan(M)?-1:C.isGreaterThan(M)?1:0:b.isLessThan(v)?-1:b.isGreaterThan(v)?1:0}}},fp=0,ma=class Gc{constructor(a,c,h,d){ke(this,"id");ke(this,"leftSE");ke(this,"rightSE");ke(this,"rings");ke(this,"windings");ke(this,"ringOut");ke(this,"consumedBy");ke(this,"prev");ke(this,"_prevInResult");ke(this,"_beforeState");ke(this,"_afterState");ke(this,"_isInResult");this.id=++fp,this.leftSE=a,a.segment=this,a.otherSE=c,this.rightSE=c,c.segment=this,c.otherSE=a,this.rings=h,this.windings=d}static compare(a,c){let h=a.leftSE.point.x,d=c.leftSE.point.x,m=a.rightSE.point.x,v=c.rightSE.point.x;if(v.isLessThan(h))return 1;if(m.isLessThan(d))return-1;let C=a.leftSE.point.y,b=c.leftSE.point.y,M=a.rightSE.point.y,N=c.rightSE.point.y;if(h.isLessThan(d)){if(b.isLessThan(C)&&b.isLessThan(M))return 1;if(b.isGreaterThan(C)&&b.isGreaterThan(M))return-1;let R=a.comparePoint(c.leftSE.point);if(R<0)return 1;if(R>0)return-1;let ee=c.comparePoint(a.rightSE.point);return ee!==0?ee:-1}if(h.isGreaterThan(d)){if(C.isLessThan(b)&&C.isLessThan(N))return-1;if(C.isGreaterThan(b)&&C.isGreaterThan(N))return 1;let R=c.comparePoint(a.leftSE.point);if(R!==0)return R;let ee=a.comparePoint(c.rightSE.point);return ee<0?1:ee>0?-1:1}if(C.isLessThan(b))return-1;if(C.isGreaterThan(b))return 1;if(m.isLessThan(v)){let R=c.comparePoint(a.rightSE.point);if(R!==0)return R}if(m.isGreaterThan(v)){let R=a.comparePoint(c.rightSE.point);if(R<0)return 1;if(R>0)return-1}if(!m.eq(v)){let R=M.minus(C),ee=m.minus(h),ie=N.minus(b),he=v.minus(d);if(R.isGreaterThan(ee)&&ie.isLessThan(he))return 1;if(R.isLessThan(ee)&&ie.isGreaterThan(he))return-1}return m.isGreaterThan(v)?1:m.isLessThan(v)||M.isLessThan(N)?-1:M.isGreaterThan(N)?1:a.id<c.id?-1:a.id>c.id?1:0}static fromRing(a,c,h){let d,m,v,C=Vr.comparePoints(a,c);if(C<0)d=a,m=c,v=1;else if(C>0)d=c,m=a,v=-1;else throw new Error(`Tried to create degenerate segment at [${a.x}, ${a.y}]`);let b=new Vr(d,!0),M=new Vr(m,!1);return new Gc(b,M,[h],[v])}replaceRightSE(a){this.rightSE=a,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let a=this.leftSE.point.y,c=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:a.isLessThan(c)?a:c},ur:{x:this.rightSE.point.x,y:a.isGreaterThan(c)?a:c}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(a){return a.x.eq(this.leftSE.point.x)&&a.y.eq(this.leftSE.point.y)||a.x.eq(this.rightSE.point.x)&&a.y.eq(this.rightSE.point.y)}comparePoint(a){return Et.orient(this.leftSE.point,a,this.rightSE.point)}getIntersection(a){let c=this.bbox(),h=a.bbox(),d=En(c,h);if(d===null)return null;let m=this.leftSE.point,v=this.rightSE.point,C=a.leftSE.point,b=a.rightSE.point,M=At(c,C)&&this.comparePoint(C)===0,N=At(h,m)&&a.comparePoint(m)===0,R=At(c,b)&&this.comparePoint(b)===0,ee=At(h,v)&&a.comparePoint(v)===0;if(N&&M)return ee&&!R?v:!ee&&R?b:null;if(N)return R&&m.x.eq(b.x)&&m.y.eq(b.y)?null:m;if(M)return ee&&v.x.eq(C.x)&&v.y.eq(C.y)?null:C;if(ee&&R)return null;if(ee)return v;if(R)return b;let ie=da(m,this.vector(),C,a.vector());return ie===null||!At(d,ie)?null:Et.snap(ie)}split(a){let c=[],h=a.events!==void 0,d=new Vr(a,!0),m=new Vr(a,!1),v=this.rightSE;this.replaceRightSE(m),c.push(m),c.push(d);let C=new Gc(d,v,this.rings.slice(),this.windings.slice());return Vr.comparePoints(C.leftSE.point,C.rightSE.point)>0&&C.swapEvents(),Vr.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),h&&(d.checkForConsuming(),m.checkForConsuming()),c}swapEvents(){let a=this.rightSE;this.rightSE=this.leftSE,this.leftSE=a,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let c=0,h=this.windings.length;c<h;c++)this.windings[c]*=-1}consume(a){let c=this,h=a;for(;c.consumedBy;)c=c.consumedBy;for(;h.consumedBy;)h=h.consumedBy;let d=Gc.compare(c,h);if(d!==0){if(d>0){let m=c;c=h,h=m}if(c.prev===h){let m=c;c=h,h=m}for(let m=0,v=h.rings.length;m<v;m++){let C=h.rings[m],b=h.windings[m],M=c.rings.indexOf(C);M===-1?(c.rings.push(C),c.windings.push(b)):c.windings[M]+=b}h.rings=null,h.windings=null,h.consumedBy=c,h.leftSE.consumedBy=c.leftSE,h.rightSE.consumedBy=c.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let a=this.prev.consumedBy||this.prev;this._beforeState=a.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let a=this.beforeState();this._afterState={rings:a.rings.slice(0),windings:a.windings.slice(0),multiPolys:[]};let c=this._afterState.rings,h=this._afterState.windings,d=this._afterState.multiPolys;for(let C=0,b=this.rings.length;C<b;C++){let M=this.rings[C],N=this.windings[C],R=c.indexOf(M);R===-1?(c.push(M),h.push(N)):h[R]+=N}let m=[],v=[];for(let C=0,b=c.length;C<b;C++){if(h[C]===0)continue;let M=c[C],N=M.poly;if(v.indexOf(N)===-1)if(M.isExterior)m.push(N);else{v.indexOf(N)===-1&&v.push(N);let R=m.indexOf(M.poly);R!==-1&&m.splice(R,1)}}for(let C=0,b=m.length;C<b;C++){let M=m[C].multiPoly;d.indexOf(M)===-1&&d.push(M)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let a=this.beforeState().multiPolys,c=this.afterState().multiPolys;switch(ic.type){case"union":{let h=a.length===0,d=c.length===0;this._isInResult=h!==d;break}case"intersection":{let h,d;a.length<c.length?(h=a.length,d=c.length):(h=c.length,d=a.length),this._isInResult=d===ic.numMultiPolys&&h<d;break}case"xor":{let h=Math.abs(a.length-c.length);this._isInResult=h%2===1;break}case"difference":{let h=d=>d.length===1&&d[0].isSubject;this._isInResult=h(a)!==h(c);break}}return this._isInResult}},ga=class{constructor(o,a,c){ke(this,"poly");ke(this,"isExterior");ke(this,"segments");ke(this,"bbox");if(!Array.isArray(o)||o.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=a,this.isExterior=c,this.segments=[],typeof o[0][0]!="number"||typeof o[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let h=Et.snap({x:new w(o[0][0]),y:new w(o[0][1])});this.bbox={ll:{x:h.x,y:h.y},ur:{x:h.x,y:h.y}};let d=h;for(let m=1,v=o.length;m<v;m++){if(typeof o[m][0]!="number"||typeof o[m][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let C=Et.snap({x:new w(o[m][0]),y:new w(o[m][1])});C.x.eq(d.x)&&C.y.eq(d.y)||(this.segments.push(ma.fromRing(d,C,this)),C.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=C.x),C.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=C.y),C.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=C.x),C.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=C.y),d=C)}(!h.x.eq(d.x)||!h.y.eq(d.y))&&this.segments.push(ma.fromRing(d,h,this))}getSweepEvents(){let o=[];for(let a=0,c=this.segments.length;a<c;a++){let h=this.segments[a];o.push(h.leftSE),o.push(h.rightSE)}return o}},rc=class{constructor(o,a){ke(this,"multiPoly");ke(this,"exteriorRing");ke(this,"interiorRings");ke(this,"bbox");if(!Array.isArray(o))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ga(o[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let c=1,h=o.length;c<h;c++){let d=new ga(o[c],this,!1);d.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=d.bbox.ll.x),d.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=d.bbox.ll.y),d.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=d.bbox.ur.x),d.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=d.bbox.ur.y),this.interiorRings.push(d)}this.multiPoly=a}getSweepEvents(){let o=this.exteriorRing.getSweepEvents();for(let a=0,c=this.interiorRings.length;a<c;a++){let h=this.interiorRings[a].getSweepEvents();for(let d=0,m=h.length;d<m;d++)o.push(h[d])}return o}},nc=class{constructor(o,a){ke(this,"isSubject");ke(this,"polys");ke(this,"bbox");if(!Array.isArray(o))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof o[0][0][0]=="number"&&(o=[o])}catch{}this.polys=[],this.bbox={ll:{x:new w(Number.POSITIVE_INFINITY),y:new w(Number.POSITIVE_INFINITY)},ur:{x:new w(Number.NEGATIVE_INFINITY),y:new w(Number.NEGATIVE_INFINITY)}};for(let c=0,h=o.length;c<h;c++){let d=new rc(o[c],this);d.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=d.bbox.ll.x),d.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=d.bbox.ll.y),d.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=d.bbox.ur.x),d.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=d.bbox.ur.y),this.polys.push(d)}this.isSubject=a}getSweepEvents(){let o=[];for(let a=0,c=this.polys.length;a<c;a++){let h=this.polys[a].getSweepEvents();for(let d=0,m=h.length;d<m;d++)o.push(h[d])}return o}},rL=class tm{constructor(a){ke(this,"events");ke(this,"poly");ke(this,"_isExteriorRing");ke(this,"_enclosingRing");this.events=a;for(let c=0,h=a.length;c<h;c++)a[c].segment.ringOut=this;this.poly=null}static factory(a){let c=[];for(let h=0,d=a.length;h<d;h++){let m=a[h];if(!m.isInResult()||m.ringOut)continue;let v=null,C=m.leftSE,b=m.rightSE,M=[C],N=C.point,R=[];for(;v=C,C=b,M.push(C),C.point!==N;)for(;;){let ee=C.getAvailableLinkedEvents();if(ee.length===0){let me=M[0].point,Le=M[M.length-1].point;throw new Error(`Unable to complete output ring starting at [${me.x}, ${me.y}]. Last matching segment found ends at [${Le.x}, ${Le.y}].`)}if(ee.length===1){b=ee[0].otherSE;break}let ie=null;for(let me=0,Le=R.length;me<Le;me++)if(R[me].point===C.point){ie=me;break}if(ie!==null){let me=R.splice(ie)[0],Le=M.splice(me.index);Le.unshift(Le[0].otherSE),c.push(new tm(Le.reverse()));continue}R.push({index:M.length,point:C.point});let he=C.getLeftmostComparator(v);b=ee.sort(he)[0].otherSE;break}c.push(new tm(M))}return c}getGeom(){let a=this.events[0].point,c=[a];for(let M=1,N=this.events.length-1;M<N;M++){let R=this.events[M].point,ee=this.events[M+1].point;Et.orient(R,a,ee)!==0&&(c.push(R),a=R)}if(c.length===1)return null;let h=c[0],d=c[1];Et.orient(h,a,d)===0&&c.shift(),c.push(c[0]);let m=this.isExteriorRing()?1:-1,v=this.isExteriorRing()?0:c.length-1,C=this.isExteriorRing()?c.length:-1,b=[];for(let M=v;M!=C;M+=m)b.push([c[M].x.toNumber(),c[M].y.toNumber()]);return b}isExteriorRing(){if(this._isExteriorRing===void 0){let a=this.enclosingRing();this._isExteriorRing=a?!a.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var d,m;let a=this.events[0];for(let v=1,C=this.events.length;v<C;v++){let b=this.events[v];Vr.compare(a,b)>0&&(a=b)}let c=a.segment.prevInResult(),h=c?c.prevInResult():null;for(;;){if(!c)return null;if(!h)return c.ringOut;if(h.ringOut!==c.ringOut)return((d=h.ringOut)==null?void 0:d.enclosingRing())!==c.ringOut?c.ringOut:(m=c.ringOut)==null?void 0:m.enclosingRing();c=h.prevInResult(),h=c?c.prevInResult():null}}},bg=class{constructor(o){ke(this,"exteriorRing");ke(this,"interiorRings");this.exteriorRing=o,o.poly=this,this.interiorRings=[]}addInterior(o){this.interiorRings.push(o),o.poly=this}getGeom(){let o=this.exteriorRing.getGeom();if(o===null)return null;let a=[o];for(let c=0,h=this.interiorRings.length;c<h;c++){let d=this.interiorRings[c].getGeom();d!==null&&a.push(d)}return a}},nL=class{constructor(o){ke(this,"rings");ke(this,"polys");this.rings=o,this.polys=this._composePolys(o)}getGeom(){let o=[];for(let a=0,c=this.polys.length;a<c;a++){let h=this.polys[a].getGeom();h!==null&&o.push(h)}return o}_composePolys(o){var c;let a=[];for(let h=0,d=o.length;h<d;h++){let m=o[h];if(!m.poly)if(m.isExteriorRing())a.push(new bg(m));else{let v=m.enclosingRing();v!=null&&v.poly||a.push(new bg(v)),(c=v==null?void 0:v.poly)==null||c.addInterior(m)}}return a}},iL=class{constructor(o,a=ma.compare){ke(this,"queue");ke(this,"tree");ke(this,"segments");this.queue=o,this.tree=new oe(a),this.segments=[]}process(o){let a=o.segment,c=[];if(o.consumedBy)return o.isLeft?this.queue.delete(o.otherSE):this.tree.delete(a),c;o.isLeft&&this.tree.add(a);let h=a,d=a;do h=this.tree.lastBefore(h);while(h!=null&&h.consumedBy!=null);do d=this.tree.firstAfter(d);while(d!=null&&d.consumedBy!=null);if(o.isLeft){let m=null;if(h){let C=h.getIntersection(a);if(C!==null&&(a.isAnEndpoint(C)||(m=C),!h.isAnEndpoint(C))){let b=this._splitSafely(h,C);for(let M=0,N=b.length;M<N;M++)c.push(b[M])}}let v=null;if(d){let C=d.getIntersection(a);if(C!==null&&(a.isAnEndpoint(C)||(v=C),!d.isAnEndpoint(C))){let b=this._splitSafely(d,C);for(let M=0,N=b.length;M<N;M++)c.push(b[M])}}if(m!==null||v!==null){let C=null;m===null?C=v:v===null?C=m:C=Vr.comparePoints(m,v)<=0?m:v,this.queue.delete(a.rightSE),c.push(a.rightSE);let b=a.split(C);for(let M=0,N=b.length;M<N;M++)c.push(b[M])}c.length>0?(this.tree.delete(a),c.push(o)):(this.segments.push(a),a.prev=h)}else{if(h&&d){let m=h.getIntersection(d);if(m!==null){if(!h.isAnEndpoint(m)){let v=this._splitSafely(h,m);for(let C=0,b=v.length;C<b;C++)c.push(v[C])}if(!d.isAnEndpoint(m)){let v=this._splitSafely(d,m);for(let C=0,b=v.length;C<b;C++)c.push(v[C])}}}this.tree.delete(a)}return c}_splitSafely(o,a){this.tree.delete(o);let c=o.rightSE;this.queue.delete(c);let h=o.split(a);return h.push(c),o.consumedBy===void 0&&this.tree.add(o),h}},oL=class{constructor(){ke(this,"type");ke(this,"numMultiPolys")}run(o,a,c){Js.type=o;let h=[new nc(a,!0)];for(let b=0,M=c.length;b<M;b++)h.push(new nc(c[b],!1));if(Js.numMultiPolys=h.length,Js.type==="difference"){let b=h[0],M=1;for(;M<h.length;)En(h[M].bbox,b.bbox)!==null?M++:h.splice(M,1)}if(Js.type==="intersection")for(let b=0,M=h.length;b<M;b++){let N=h[b];for(let R=b+1,ee=h.length;R<ee;R++)if(En(N.bbox,h[R].bbox)===null)return[]}let d=new oe(Vr.compare);for(let b=0,M=h.length;b<M;b++){let N=h[b].getSweepEvents();for(let R=0,ee=N.length;R<ee;R++)d.add(N[R])}let m=new iL(d),v=null;for(d.size!=0&&(v=d.first(),d.delete(v));v;){let b=m.process(v);for(let M=0,N=b.length;M<N;M++){let R=b[M];R.consumedBy===void 0&&d.add(R)}d.size!=0?(v=d.first(),d.delete(v)):v=null}Et.reset();let C=rL.factory(m.segments);return new nL(C).getGeom()}},Js=new oL,ic=Js,aL=(o,...a)=>ic.run("intersection",o,a),sL=(o,...a)=>ic.run("difference",o,a);Et.set;function oc(o){let a={type:"Feature"};return a.geometry=o,a}function ac(o){return o.type==="Feature"?o.geometry:o}function Eg(o){return o&&o.geometry&&o.geometry.coordinates?o.geometry.coordinates:o}function uL(o){return oc({type:"LineString",coordinates:o})}function lL(o){return oc({type:"MultiLineString",coordinates:o})}function kg(o){return oc({type:"Polygon",coordinates:o})}function xg(o){return oc({type:"MultiPolygon",coordinates:o})}function cL(o,a){let c=ac(o),h=ac(a),d=aL(c.coordinates,h.coordinates);return d.length===0?null:d.length===1?kg(d[0]):xg(d)}function hL(o,a){let c=ac(o),h=ac(a),d=sL(c.coordinates,h.coordinates);return d.length===0?null:d.length===1?kg(d[0]):xg(d)}function Mg(o){return Array.isArray(o)?1+Mg(o[0]):-1}function fL(o){o instanceof L.Polyline&&(o=o.toGeoJSON(15));let a=Eg(o),c=Mg(a),h=[];return c>1?a.forEach(d=>{h.push(uL(d))}):h.push(o),h}function pL(o){let a=[];return o.eachLayer(c=>{a.push(Eg(c.toGeoJSON(15)))}),lL(a)}Ft.Cut=Ft.Polygon.extend({initialize(o){this._map=o,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let o=this._layer.getLatLngs();if(o.length<=2)return;let a=L.polygon(o,this.options.pathOptions);a._latlngInfos=this._layer._latlngInfo,this.cut(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:c,originalLayer:h})=>{this._fireCut(h,c,h),this._fireCut(this._map,c,h),h.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(o){let a=this._map._layers,c=o._latlngInfos||[];Object.keys(a).map(h=>a[h]).filter(h=>h.pm).filter(h=>!h._pmTempLayer).filter(h=>!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1).filter(h=>h instanceof L.Polyline).filter(h=>h!==o).filter(h=>h.pm.options.allowCutting).filter(h=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(h)>-1:!0).filter(h=>!this._layerGroup.hasLayer(h)).filter(h=>{try{let d=!!er(o.toGeoJSON(15),h.toGeoJSON(15)).features.length>0;return d||h instanceof L.Polyline&&!(h instanceof L.Polygon)?d:!!cL(o.toGeoJSON(15),h.toGeoJSON(15))}catch{return h instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(h=>{let d;if(h instanceof L.Polygon){d=L.polygon(h.getLatLngs());let b=d.getLatLngs();c.forEach(M=>{if(M&&M.snapInfo){let{latlng:N}=M,R=this._calcClosestLayer(N,[d]);if(R&&R.segment&&R.distance<this.options.snapDistance){let{segment:ee}=R;if(ee&&ee.length===2){let{indexPath:ie,parentPath:he,newIndex:me}=L.PM.Utils._getIndexFromSegment(b,ee);(ie.length>1?(0,cp.default)(b,he):b).splice(me,0,N)}}}})}else d=h;let m=this._cutLayer(o,d),v=L.geoJSON(m,h.options);v.getLayers().length===1&&([v]=v.getLayers()),this._setPane(v,"layerPane");let C=v.addTo(this._map.pm._getContainingLayer());if(C.pm.enable(h.pm.options),C.pm.disable(),h._pmTempLayer=!0,o._pmTempLayer=!0,h.remove(),h.removeFrom(this._map.pm._getContainingLayer()),o.remove(),o.removeFrom(this._map.pm._getContainingLayer()),C.getLayers&&C.getLayers().length===0&&this._map.pm.removeLayer({target:C}),C instanceof L.LayerGroup?(C.eachLayer(b=>{this._addDrawnLayerProp(b)}),this._addDrawnLayerProp(C)):this._addDrawnLayerProp(C),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let b=this.options.layersToCut.indexOf(h);b>-1&&this.options.layersToCut.splice(b,1)}this._editedLayers.push({layer:C,originalLayer:h})})},_cutLayer(o,a){let c=L.geoJSON(),h;if(a instanceof L.Polygon)h=hL(a.toGeoJSON(15),o.toGeoJSON(15));else{let d=fL(a);d.forEach(m=>{let v=ia(m,o.toGeoJSON(15)),C;v&&v.features.length>0?C=L.geoJSON(v):C=L.geoJSON(m),C.getLayers().forEach(b=>{aa(o.toGeoJSON(15),b.toGeoJSON(15))||b.addTo(c)})}),d.length>1?h=pL(c):h=c.toGeoJSON(15)}return h},_change:L.Util.falseFn}),Ft.Text=Ft.extend({initialize(o){this._map=o,this._shape="Text",this.toolbarButtonName="drawText"},enable(o){L.Util.setOptions(this,o),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(je("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var o;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(o=this._hintMarker)==null||o.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(o){this.enabled()?this.disable():this.enable(o)},_syncHintMarker(o){if(this._hintMarker.setLatLng(o.latlng),this.options.snappable){let a=o;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker(o){var d,m,v,C;if(!o.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(o.latlng);let a=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(d=this.options.textOptions)==null?void 0:d.className){let b=this.options.textOptions.className.split(" ");this.textArea.classList.add(...b)}let c=this._createTextIcon(this.textArea),h=new L.Marker(a,{textMarker:!0,_textMarkerOverPM:!0,icon:c});if(this._setPane(h,"markerPane"),this._finishLayer(h),h.pm||(h.options.draggable=!1),h.addTo(this._map.pm._getContainingLayer()),h.pm){h.pm.textArea=this.textArea,L.setOptions(h.pm,{removeIfEmpty:((m=this.options.textOptions)==null?void 0:m.removeIfEmpty)??!0});let b=((v=this.options.textOptions)==null?void 0:v.focusAfterDraw)??!0;h.pm._createTextMarker(b),(C=this.options.textOptions)!=null&&C.text&&h.pm.setText(this.options.textOptions.text)}this._fireCreate(h),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let o=document.createElement("textarea");return o.readOnly=!0,o.classList.add("pm-textarea","pm-disabled"),o},_createTextIcon(o){return L.divIcon({className:"pm-text-marker",html:o})}});var dL={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Ci(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let o=this._getDOMElem();o&&(Ci(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(o)):L.DomEvent.on(o,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Ci(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let o=this._getDOMElem();o&&(Ci(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(o)):L.DomEvent.off(o,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(o){let a=o.touches?o.touches[0]:o,c={originalEvent:a,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseDown(c),!1},_simulateMouseMoveEvent(o){let a=o.touches?o.touches[0]:o,c={originalEvent:a,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseMove(c),!1},_simulateMouseUpEvent(o){let a={originalEvent:o.touches?o.touches[0]:o,target:this._layer};return o.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(o),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown(o){if(o.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(o);let a=o._fromLayerSync,c=this._syncLayers("_dragMixinOnMouseDown",o);if(this._layer instanceof L.Marker&&(this.options.snappable&&!a&&!c?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let h="resizeableCircleMarker";this._layer instanceof L.Circle&&(h="resizableCircle"),this.options.snappable&&!a&&!c?this._layer.pm.options[h]||this._initSnappableMarkersDrag():this._layer.pm.options[h]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=o.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(o){this._overwriteEventIfItComesFromMarker(o);let a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",o),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=o.latlng),this._onLayerDrag(o),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(o){let a=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",o),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,a&&L.DomUtil.removeClass(a,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(o){let{latlng:a}=o,c={lat:a.lat-this._tempDragCoord.lat,lng:a.lng-this._tempDragCoord.lng},h=d=>d.map(m=>{if(Array.isArray(m))return h(m);let v={lat:m.lat+c.lat,lng:m.lng+c.lng};return(m.alt||m.alt===0)&&(v.alt=m.alt),v});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let d=h([this._layer.getLatLng()]);this._layer.setLatLng(d[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let d=this._layer.getLatLng();this._layer._snapped&&(d=this._layer._orgLatLng);let m=h([d]);this._layer.setLatLng(m[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let d=h([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(d),this._fireChange(this._layer.getBounds(),"Edit")}else{let d=h(this._layer.getLatLngs());this._layer.setLatLngs(d),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,o.layer=this._layer,this._fireDrag(o)},addDraggingClass(){let o=this._getDOMElem();o&&L.DomUtil.addClass(o,"leaflet-pm-draggable")},removeDraggingClass(){let o=this._getDOMElem();o&&L.DomUtil.removeClass(o,"leaflet-pm-draggable")},_getDOMElem(){let o=null;return this._layer._path?o=this._layer._path:this._layer._renderer&&this._layer._renderer._container?o=this._layer._renderer._container:this._layer._image?o=this._layer._image:this._layer._icon&&(o=this._layer._icon),o},_overwriteEventIfItComesFromMarker(o){o.target.getLatLng&&(!o.target._radius||o.target._radius<=10)&&(o.containerPoint=this._map.mouseEventToContainerPoint(o.originalEvent),o.latlng=this._map.containerPointToLatLng(o.containerPoint))},_syncLayers(o,a){if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;let c=[];if(L.Util.isArray(this.options.syncLayersOnDrag))c=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(h=>{h instanceof L.LayerGroup&&(c=c.concat(h.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let h in this._parentLayerGroup){let d=this._parentLayerGroup[h];d.pm&&(c=d.pm.getLayers(!0))}return L.Util.isArray(c)&&c.length>0&&(c=c.filter(h=>!!h.pm).filter(h=>!!h.pm.options.draggable),c.forEach(h=>{h!==this._layer&&h.pm[o]&&(h._snapped=!1,h.pm[o](a))})),c.length>0}return!1},_stopDOMImageDrag(o){return o.preventDefault(),!1}},mL=dL,gL=y(vn());function yL(o,a,c,h){return c.unproject(a.transform(c.project(o,h)),h)}function Pg(o,a,c){let h=c.getMaxZoom();if(h===1/0&&(h=c.getZoom()),L.Util.isArray(o)){let d=[];return o.forEach(m=>{d.push(Pg(m,a,c))}),d}return o instanceof L.LatLng?yL(o,a,c,h):null}function ya(o,a){a instanceof L.Layer&&(a=a.getLatLng());let c=o.getMaxZoom();return c===1/0&&(c=o.getZoom()),o.project(a,c)}function sc(o,a){let c=o.getMaxZoom();return c===1/0&&(c=o.getZoom()),o.unproject(a,c)}var _L={_onRotateStart(o){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=ya(this._map,this._rotationOriginLatLng),this._rotationStartPoint=ya(this._map,o.target.getLatLng()),this._initialRotateLatLng=Ln(this._layer),this._startAngle=this.getAngle();let a=Ln(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate(o){let a=ya(this._map,o.target.getLatLng()),c=this._rotationStartPoint,h=this._rotationOriginPoint,d=Math.atan2(a.y-h.y,a.x-h.x)-Math.atan2(c.y-h.y,c.x-h.x);this._layer.setLatLngs(this._rotateLayer(d,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let m=this;function v(N,R=[],ee=-1){if(ee>-1&&R.push(ee),L.Util.isArray(N[0]))N.forEach((ie,he)=>v(ie,R.slice(),he));else{let ie=(0,gL.default)(m._markers,R);N.forEach((he,me)=>{ie[me].setLatLng(he)})}}v(this._layer.getLatLngs());let C=Ln(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(d,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let b=d*180/Math.PI;b=b<0?b+360:b;let M=b+this._startAngle;this._setAngle(M),this._rotationLayer.pm._setAngle(M),this._fireRotation(this._rotationLayer,b,C),this._fireRotation(this._map,b,C),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let o=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let a=Ln(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Ln(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,o,a),this._fireRotationEnd(this._map,o,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(o,a,c,h,d){let m=ya(d,c);return this._matrix=h.clone().rotate(o,m).flip(),Pg(a,this._matrix,d)},_setAngle(o){o=o<0?o+360:o,this._angle=o%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let o=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=o.getCenter();return o.removeFrom(this._layer._map),a},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Os(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let o={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),o),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Ln(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(o){let a=this.getAngle(),c=this._layer.getLatLngs(),h=o*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(h,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+o),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(h,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let d=this.getAngle()-a;d=d<0?d+360:d,this._startAngle=a,this._fireRotation(this._layer,d,c,this._layer),this._fireRotation(this._map||this._layer._map,d,c,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(o){let a=o-this.getAngle();this.rotateLayer(a)},getAngle(){return this._angle||0},setInitAngle(o){this._setAngle(o)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(o){this._rotationCenter=o,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(o)}},vL=_L,wL=L.Class.extend({includes:[mL,Rs,vL,Li],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(o){L.Util.setOptions(this,o)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(o,a){a==="layerPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(o.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(o,a){let c=a.target,h={layer:this._layer,marker:c,event:a},d="";return o==="move"?d="moveVertexValidation":o==="add"?d="addVertexValidation":o==="remove"&&(d="removeVertexValidation"),this.options[d]&&typeof this.options[d]=="function"&&!this.options[d](h)?(o==="move"&&(c._cancelDragEventChain=c.getLatLng()),!1):(c._cancelDragEventChain=null,!0)},_vertexValidationDrag(o){return o._cancelDragEventChain?(o._latlng=o._cancelDragEventChain,o.update(),!1):!0},_vertexValidationDragEnd(o){return o._cancelDragEventChain?(o._cancelDragEventChain=null,!1):!0}}),zt=wL;zt.LayerGroup=L.Class.extend({initialize(o){this._layerGroup=o,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(h=>this._initLayer(h));let a=h=>{if(h.layer._pmTempLayer)return;this._layers=this.getLayers();let d=this._layers.filter(m=>!m.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in m.pm._parentLayerGroup));d.forEach(m=>{this._initLayer(m)}),d.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(a,100,this),this),this._layerGroup.on("layerremove",h=>{this._removeLayerFromGroup(h.target)},this);let c=h=>{h.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(c,100,this),this)},enable(o,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=o,this._layers.forEach(c=>{c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.enable(o,a)):c.pm.enable(o)})},disable(o=[]){o.length===0&&(this._layers=this.getLayers()),this._layers.forEach(a=>{a instanceof L.LayerGroup?o.indexOf(a._leaflet_id)===-1&&(o.push(a._leaflet_id),a.pm.disable(o)):a.pm.disable()})},enabled(o=[]){return o.length===0&&(this._layers=this.getLayers()),!!this._layers.find(a=>a instanceof L.LayerGroup?o.indexOf(a._leaflet_id)===-1?(o.push(a._leaflet_id),a.pm.enabled(o)):!1:a.pm.enabled())},toggleEdit(o,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=o,this._layers.forEach(c=>{c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.toggleEdit(o,a)):c.pm.toggleEdit(o)})},_initLayer(o){let a=L.Util.stamp(this._layerGroup);o.pm._parentLayerGroup||(o.pm._parentLayerGroup={}),o.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup(o){if(o.pm&&o.pm._layerGroup){let a=L.Util.stamp(this._layerGroup);delete o.pm._layerGroup[a]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(o=>o.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var o;return this._map||((o=this._layers.find(a=>!!a._map))==null?void 0:o._map)||null},getLayers(o=!1,a=!0,c=!0,h=[]){let d=[];return o?this._layerGroup.getLayers().forEach(m=>{d.push(m),m instanceof L.LayerGroup&&h.indexOf(m._leaflet_id)===-1&&(h.push(m._leaflet_id),d=d.concat(m.pm.getLayers(!0,!0,!0,h)))}):d=this._layerGroup.getLayers(),c&&(d=d.filter(m=>!(m instanceof L.LayerGroup))),a&&(d=d.filter(m=>!!m.pm),d=d.filter(m=>!m._pmTempLayer),d=d.filter(m=>!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&m.options.pmIgnore===!1)),d},setOptions(o,a=[]){a.length===0&&(this._layers=this.getLayers()),this.options=o,this._layers.forEach(c=>{c.pm&&(c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.setOptions(o,a)):c.pm.setOptions(o))})}}),zt.Marker=zt.extend({_shape:"Marker",initialize(o){this._layer=o,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(o={draggable:!0}){if(L.Util.setOptions(this,o),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(o){let a=o.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let o=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,o.off("pm:drag",this._handleSnapping,this),o.on("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.on("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this),o.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let o=this._layer;o.off("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this)}});var Pi=y(vn()),LL={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let o=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=o.filter((a,c,h)=>h.indexOf(a)===c)},_removeFromCache(o){let a=this.markerCache.indexOf(o);a>-1&&this.markerCache.splice(a,1)},renderLimits(o){this.markerCache.forEach(a=>{o.includes(a)?this._markerGroup.addLayer(a):this._markerGroup.removeLayer(a)})},applyLimitFilters({latlng:o={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let a=[...this._filterClosestMarkers(o)];this.renderLimits(a)},_filterClosestMarkers(o){let a=[...this.markerCache],c=this.options.limitMarkersToCount;return c===-1?a:(a.sort((h,d)=>{let m=h._latlng.distanceTo(o),v=d._latlng.distanceTo(o);return m-v}),a.filter((h,d)=>c>-1?d<c:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(o){this._preventRenderMarkers=!!o}},CL=LL;zt.Line=zt.extend({includes:[CL],_shape:"Line",initialize(o){this._layer=o,this._enabled=!1},enable(o){if(L.Util.setOptions(this,o),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let o=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(o,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(o){return this.enabled()?this.disable():this.enable(o),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let o=this._map,a=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let c=h=>{if(Array.isArray(h[0]))return h.map(c,this);let d=h.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&h.map((m,v)=>{let C=this.isPolygon()?(v+1)%h.length:v+1;return this._createMiddleMarker(d[v],d[C])}),d};this._markers=c(a),this.filterMarkerGroup(),o.addLayer(this._markerGroup)},_createMarker(o){let a=new L.Marker(o,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker(o,a){if(!o||!a)return!1;let c=L.PM.Utils.calcMiddleLatLng(this._map,o.getLatLng(),a.getLatLng()),h=this._createMarker(c),d=L.divIcon({className:"marker-icon marker-icon-middle"});return h.setIcon(d),h.leftM=o,h.rightM=a,o._middleMarkerNext=h,a._middleMarkerPrev=h,h.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),h.on("movestart",this._onMiddleMarkerMoveStart,this),h},_onMiddleMarkerClick(o){let a=o.target;if(!this._vertexValidation("add",o))return;let c=L.divIcon({className:"marker-icon"});a.setIcon(c),this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMoveStart(o){let a=o.target;if(a.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",o)){a.on("move",this._onMiddleMarkerMovePrevent,this);return}a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMovePrevent(o){let a=o.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd(o){let a=o.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(a))return;let c=L.divIcon({className:"marker-icon"});a.setIcon(c),setTimeout(()=>{delete a._dragging},100)},_addMarker(o,a,c){o.off("movestart",this._onMiddleMarkerMoveStart,this),o.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let h=o.getLatLng(),d=this._layer._latlngs;delete o.leftM,delete o.rightM;let{indexPath:m,index:v,parentPath:C}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),b=m.length>1?(0,Pi.default)(d,C):d,M=m.length>1?(0,Pi.default)(this._markers,C):this._markers;b.splice(v+1,0,h),M.splice(v+1,0,o),this._layer.setLatLngs(d),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,o),this._createMiddleMarker(o,c)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(o,L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath,h),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return mo(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(o){let a=this._layer,c,h;if(this.options.allowSelfIntersection?c=!1:(h=mo(this._layer.toGeoJSON(15)),c=h.features.length>0),c){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return c;o?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(h)}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return c},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(o,a){o.forEach(c=>{Array.isArray(c)?this._updateDisabledMarkerStyle(c,a):c._icon&&(a&&!this._checkMarkerAllowedToDrag(c)?L.DomUtil.addClass(c._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(c._icon,"vertexmarker-disabled"))})},_removeMarker(o){let a=o.target;if(!this._vertexValidation("remove",o))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ln(this._layer,this._layer.getLatLngs()));let c=this._layer.getLatLngs(),{indexPath:h,index:d,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!h)return;let v=h.length>1?(0,Pi.default)(c,m):c,C=h.length>1?(0,Pi.default)(this._markers,m):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(v.length<=2||this.isPolygon()&&v.length<=3)){this._flashLayer();return}v.splice(d,1),this._layer.setLatLngs(c),this.isPolygon()&&v.length<=2&&v.splice(0,v.length);let b=!1;if(v.length<=1&&(v.splice(0,v.length),m.length>1&&h.length>1&&(c=wn(c)),this._layer.setLatLngs(c),this._initMarkers(),b=!0),ur(c)||this._layer.remove(),c=wn(c),this._layer.setLatLngs(c),this._markers=wn(this._markers),!b&&(C=h.length>1?(0,Pi.default)(this._markers,m):this._markers,a._middleMarkerPrev&&(this._markerGroup.removeLayer(a._middleMarkerPrev),this._removeFromCache(a._middleMarkerPrev)),a._middleMarkerNext&&(this._markerGroup.removeLayer(a._middleMarkerNext),this._removeFromCache(a._middleMarkerNext)),this._markerGroup.removeLayer(a),this._removeFromCache(a),C)){let M,N;if(this.isPolygon()?(M=(d+1)%C.length,N=(d+(C.length-1))%C.length):(N=d-1<0?void 0:d-1,M=d+1>=C.length?void 0:d+1),M!==N){let R=C[N],ee=C[M];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(R,ee)}C.splice(d,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,h),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(o){let a=this._layer.getLatLngs(),c=o.getLatLng(),{indexPath:h,index:d,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,o);(h.length>1?(0,Pi.default)(a,m):a).splice(d,1,c),this._layer.setLatLngs(a)},_getNeighborMarkers(o){let{indexPath:a,index:c,parentPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,o),d=a.length>1?(0,Pi.default)(this._markers,h):this._markers,m=(c+1)%d.length,v=(c+(d.length-1))%d.length,C=d[v],b=d[m];return{prevMarker:C,nextMarker:b}},_checkMarkerAllowedToDrag(o){let{prevMarker:a,nextMarker:c}=this._getNeighborMarkers(o),h=L.polyline([a.getLatLng(),o.getLatLng()]),d=L.polyline([o.getLatLng(),c.getLatLng()]),m=er(this._layer.toGeoJSON(15),h.toGeoJSON(15)).features.length,v=er(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.length;return o.getLatLng()===this._markers[0][0].getLatLng()?v+=1:o.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(m+=1),!(m<=2&&v<=2)},_onMarkerDragStart(o){let a=o.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",o))return;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(o,c),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ln(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null},_onMarkerDrag(o){let a=o.target;if(!this._vertexValidationDrag(a))return;let{indexPath:c,index:h,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!c)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(a);let m=c.length>1?(0,Pi.default)(this._markers,d):this._markers,v=(h+1)%m.length,C=(h+(m.length-1))%m.length,b=a.getLatLng(),M=m[C].getLatLng(),N=m[v].getLatLng();if(a._middleMarkerNext){let R=L.PM.Utils.calcMiddleLatLng(this._map,b,N);a._middleMarkerNext.setLatLng(R)}if(a._middleMarkerPrev){let R=L.PM.Utils.calcMiddleLatLng(this._map,b,M);a._middleMarkerPrev.setLatLng(R)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(o,c),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(o){let a=o.target;if(!this._vertexValidationDragEnd(a))return;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),h=this.hasSelfIntersection();h&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(h=!1);let d=!this.options.allowSelfIntersection&&h;if(this._fireMarkerDragEnd(o,c,d),d){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(o,c);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(o){let a=o.target;if(a._dragging)return;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireVertexClick(o,c)}}),zt.Polygon=zt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(o){let{prevMarker:a,nextMarker:c}=this._getNeighborMarkers(o),h=L.polyline([a.getLatLng(),o.getLatLng()]),d=L.polyline([o.getLatLng(),c.getLatLng()]),m=er(this._layer.toGeoJSON(15),h.toGeoJSON(15)).features.length,v=er(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.length;return!(m<=2&&v<=2)}}),zt.Rectangle=zt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let o=this._map,a=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,o.addLayer(this._markerGroup),this._markers=[],this._markers[0]=a.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((c,h)=>{let d=this._cornerMarkers.find(m=>m._index===h);d&&d.setLatLng(c)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(o,a){let c=new L.Marker(o,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=o,c._index=a,c._pmTempLayer=!0,c.on("click",this._onVertexClick,this),this._markerGroup.addLayer(c),c},_addMarkerEvents(){this._markers[0].forEach(o=>{o.on("dragstart",this._onMarkerDragStart,this),o.on("drag",this._onMarkerDrag,this),o.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||o.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(o){if(!this._vertexValidation("move",o))return;let a=o.target,c=this._cornerMarkers;a._oppositeCornerLatLng=c.find(d=>d._index===(a._index+2)%4).getLatLng(),a._snapped=!1;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(o,h)},_onMarkerDrag(o){let a=o.target;if(!this._vertexValidationDrag(a)||a._index===void 0)return;this._adjustRectangleForMarkerMove(a);let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDrag(o,c),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(o){let a=o.target;if(!this._vertexValidationDragEnd(a))return;this._cornerMarkers.forEach(h=>{delete h._oppositeCornerLatLng});let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragEnd(o,c),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(o){L.extend(o._origLatLng,o._latlng);let a=L.PM.Utils._getRotatedRectangle(o.getLatLng(),o._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let o=this._layer.getLatLngs()[0];o&&o.length!==4&&o.length>0?(o.forEach((a,c)=>{this._cornerMarkers[c].setLatLng(a)}),this._cornerMarkers.slice(o.length).forEach(a=>{a.setLatLng(o[0])})):!o||!o.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(a=>{a.setLatLng(o[a._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(Os(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let o=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(o[0],o[2],this.getAngle(),this._map||this)}}),zt.CircleMarker=zt.extend({_shape:"CircleMarker",initialize(o){this._layer=o,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(o={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,o),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let o=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(o);let a=this._layer.getLatLng(),c=this._layer._radius,h=this._getLatLngOnCircle(a,c);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(h),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(o,a){let c=this._map.project(o),h=L.point(c.x+a,c.y);return this._map.unproject(h)},_createHintLine(o,a){let c=o.getLatLng(),h=a.getLatLng();this._hintline=L.polyline([c,h],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(o){let a=this._createMarker(o);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker(o){let a=this._createMarker(o);return a.on("drag",this._resizeCircle,this),a},_createMarker(o){let a=new L.Marker(o,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=o,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),a.on("click",this._onVertexClick,this),this._helperLayers.addLayer(a),a},_moveCircle(o){if(o.target._cancelDragEventChain)return;let a=this._centerMarker.getLatLng();this._layer.setLatLng(a);let c=this._layer._radius,h=this._getLatLngOnCircle(a,c);this._outerMarker._latlng=h,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let o=this._layer.getLatLng(),a=this._layer._radius,c=this._getLatLngOnCircle(o,a);this._outerMarker.setLatLng(c),this._centerMarker.setLatLng(o),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let o=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._distanceCalculation(o,a);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(c),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let o=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([o,a])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(o){this._vertexValidation("move",o)&&this._fireMarkerDragStart(o)},_onMarkerDrag(o){let a=o.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(o)},_onMarkerDragEnd(o){this._extedingMarkerDragEnd();let a=o.target;this._vertexValidationDragEnd(a)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(o))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let o=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,o.off("pm:drag",this._handleSnapping,this),o.on("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.on("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this),o.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let o=this._layer;o.off("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let o=this._layer._map||this._map;if(o){let a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),o,this._layer.getLatLng()),c=L.circle(this._layer.getLatLng(),this._layer.options);c.setRadius(a);let h=o&&o.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(c,200,!h).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(c,200,!h),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let o=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._distanceCalculation(o,a);return this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?a=po(this._map,o,a,this._getMinDistanceInMeter(o)):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&(a=po(this._map,o,a,this._getMaxDistanceInMeter(o))),a},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let o=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._distanceCalculation(o,a);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(o,a){return this._map.project(o).distanceTo(this._map.project(a))},_getMinDistanceInMeter(o){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,o)},_getMaxDistanceInMeter(o){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,o)},_onVertexClick(o){o.target._dragging||this._fireVertexClick(o,void 0)}}),zt.Circle=zt.CircleMarker.extend({_shape:"Circle",initialize(o){this._layer=o,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(o){L.PM.Edit.CircleMarker.prototype.enable.call(this,o||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let o=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(o,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let o=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!o).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!o),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(o,a){return this._map.distance(o,a)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(o){o.target._dragging||this._fireVertexClick(o,void 0)}}),zt.ImageOverlay=zt.extend({_shape:"ImageOverlay",initialize(o){this._layer=o,this._enabled=!1},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},enabled(){return this._enabled},enable(o={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,o),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let o=this._layer.getBounds(),a=o.getNorthWest(),c=o.getNorthEast(),h=o.getSouthEast(),d=o.getSouthWest();return[a,c,h,d]}}),zt.Text=zt.extend({_shape:"Text",initialize(o){this._layer=o,this._enabled=!1},enable(o){if(L.Util.setOptions(this,o),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let o=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),o.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(o){this.enabled()?this.disable():this.enable(o)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let o=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,o.off("pm:drag",this._handleSnapping,this),o.on("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.on("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this),o.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let o=this._layer;o.off("pm:drag",this._handleSnapping,this),o.off("pm:dragend",this._cleanupSnapping,this),o.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let o=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${o}px`,this.textArea.style.width=`${a}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(o){o.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(o={}){let a=this._hasFocus;this._hasFocus=o.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(o){this.textArea.value=o,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let a=this.options.className.split(" ");this.textArea.classList.add(...a)}let o=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(o),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(o=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),o===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(o){o.preventDefault()}});var pp=function(o,a,c,h,d,m){this._matrix=[o,a,c,h,d,m]};pp.init=()=>new L.PM.Matrix(1,0,0,1,0,0),pp.prototype={transform(o){return this._transform(o.clone())},_transform(o){let a=this._matrix,{x:c,y:h}=o;return o.x=a[0]*c+a[1]*h+a[4],o.y=a[2]*c+a[3]*h+a[5],o},untransform(o){let a=this._matrix;return new L.Point((o.x/a[0]-a[4])/a[0],(o.y/a[2]-a[5])/a[2])},clone(){let o=this._matrix;return new L.PM.Matrix(o[0],o[1],o[2],o[3],o[4],o[5])},translate(o){if(o===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let a,c;return typeof o=="number"?(a=o,c=o):(a=o.x,c=o.y),this._add(1,0,0,1,a,c)},scale(o,a){if(o===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let c,h;return a=a||L.point(0,0),typeof o=="number"?(c=o,h=o):(c=o.x,h=o.y),this._add(c,0,0,h,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},rotate(o,a){let c=Math.cos(o),h=Math.sin(o);return a=a||new L.Point(0,0),this._add(c,h,-h,c,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(o,a,c,h,d,m){let v=[[],[],[]],C=this._matrix,b=[[C[0],C[2],C[4]],[C[1],C[3],C[5]],[0,0,1]],M=[[o,c,d],[a,h,m],[0,0,1]],N;o&&o instanceof L.PM.Matrix&&(C=o._matrix,M=[[C[0],C[2],C[4]],[C[1],C[3],C[5]],[0,0,1]]);for(let R=0;R<3;R+=1)for(let ee=0;ee<3;ee+=1){N=0;for(let ie=0;ie<3;ie+=1)N+=b[R][ie]*M[ie][ee];v[R][ee]=N}return this._matrix=[v[0][0],v[1][0],v[0][1],v[1][1],v[0][2],v[1][2]],this}};var bL=pp,EL={calcMiddleLatLng(o,a,c){let h=o.project(a),d=o.project(c);return o.unproject(h._add(d)._divideBy(2))},findLayers(o){let a=[];return o.eachLayer(c=>{(c instanceof L.Polyline||c instanceof L.Marker||c instanceof L.Circle||c instanceof L.CircleMarker||c instanceof L.ImageOverlay)&&a.push(c)}),a=a.filter(c=>!!c.pm),a=a.filter(c=>!c._pmTempLayer),a=a.filter(c=>!L.PM.optIn&&!c.options.pmIgnore||L.PM.optIn&&c.options.pmIgnore===!1),a},circleToPolygon(o,a=60,c=!0){let h=o.getLatLng(),d=o.getRadius(),m=jl(h,d,a,0,c),v=[];for(let C=0;C<m.length;C+=1){let b=[m[C].lat,m[C].lng];v.push(b)}return L.polygon(v,o.options)},disablePopup(o){o.getPopup()&&(o._tempPopupCopy=o.getPopup(),o.unbindPopup())},enablePopup(o){o._tempPopupCopy&&(o.bindPopup(o._tempPopupCopy),delete o._tempPopupCopy)},_fireEvent(o,a,c,h=!1){o.fire(a,c,h);let{groups:d}=this.getAllParentGroups(o);d.forEach(m=>{m.fire(a,c,h)})},getAllParentGroups(o){let a=[],c=[],h=d=>{for(let m in d._eventParents)if(a.indexOf(m)===-1){a.push(m);let v=d._eventParents[m];c.push(v),h(v)}};return!o._pmLastGroupFetch||!o._pmLastGroupFetch.time||new Date().getTime()-o._pmLastGroupFetch.time>1e3?(h(o),o._pmLastGroupFetch={time:new Date().getTime(),groups:c,groupIds:a},{groupIds:a,groups:c}):{groups:o._pmLastGroupFetch.groups,groupIds:o._pmLastGroupFetch.groupIds}},createGeodesicPolygon:jl,getTranslation:je,findDeepCoordIndex(o,a,c=!0){let h,d=v=>(C,b)=>{let M=v.concat(b);if(c){if(C.lat&&C.lat===a.lat&&C.lng===a.lng)return h=M,!0}else if(C.lat&&L.latLng(C).equals(a))return h=M,!0;return Array.isArray(C)&&C.some(d(M))};o.some(d([]));let m={};return h&&(m={indexPath:h,index:h[h.length-1],parentPath:h.slice(0,h.length-1)}),m},findDeepMarkerIndex(o,a){let c,h=m=>(v,C)=>{let b=m.concat(C);return v._leaflet_id===a._leaflet_id?(c=b,!0):Array.isArray(v)&&v.some(h(b))};o.some(h([]));let d={};return c&&(d={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),d},_getIndexFromSegment(o,a){if(a&&a.length===2){let c=this.findDeepCoordIndex(o,a[0]),h=this.findDeepCoordIndex(o,a[1]),d=Math.max(c.index,h.index);return(c.index===0||h.index===0)&&d!==1&&(d+=1),{indexA:c,indexB:h,newIndex:d,indexPath:c.indexPath,parentPath:c.parentPath}}return null},_getRotatedRectangle(o,a,c,h){let d=ya(h,o),m=ya(h,a),v=c*Math.PI/180,C=Math.cos(v),b=Math.sin(v),M=(m.x-d.x)*C+(m.y-d.y)*b,N=(m.y-d.y)*C-(m.x-d.x)*b,R=M*C+d.x,ee=M*b+d.y,ie=-N*b+d.x,he=N*C+d.y,me=sc(h,d),Le=sc(h,{x:R,y:ee}),Ue=sc(h,m),z=sc(h,{x:ie,y:he});return[me,Le,Ue,z]},pxRadiusToMeterRadius(o,a,c){let h=a.project(c),d=L.point(h.x+o,h.y);return a.distance(a.unproject(d),c)}},kL=EL;L.PM=L.PM||{version:Cs.version,Map:qf,Toolbar:Vl,Draw:Ft,Edit:zt,Utils:kL,Matrix:bL,activeLang:"en",optIn:!1,initialize(o){this.addInitHooks(o)},setOptIn(o){this.optIn=!!o},addInitHooks(){function o(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(o);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(a);function c(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(c);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(h);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(d);function m(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(m);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(v);function C(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(C);function b(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(b)},reInitLayer(o){o instanceof L.LayerGroup&&o.eachLayer(a=>{this.reInitLayer(a)}),o.pm||L.PM.optIn&&o.options.pmIgnore!==!1||o.options.pmIgnore||(o instanceof L.Map?o.pm=new L.PM.Map(o):o instanceof L.Marker?o.options.textMarker?(o.pm=new L.PM.Edit.Text(o),o.pm._initTextMarker(),o.pm._createTextMarker(!1)):o.pm=new L.PM.Edit.Marker(o):o instanceof L.Circle?o.pm=new L.PM.Edit.Circle(o):o instanceof L.CircleMarker?o.pm=new L.PM.Edit.CircleMarker(o):o instanceof L.Rectangle?o.pm=new L.PM.Edit.Rectangle(o):o instanceof L.Polygon?o.pm=new L.PM.Edit.Polygon(o):o instanceof L.Polyline?o.pm=new L.PM.Edit.Line(o):o instanceof L.LayerGroup?o.pm=new L.PM.Edit.LayerGroup(o):o instanceof L.ImageOverlay&&(o.pm=new L.PM.Edit.ImageOverlay(o)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(o){let a=this._map.mouseEventToLayerPoint(o),c,h;for(let d=this._drawFirst;d;d=d.next)c=d.layer,c.options.interactive&&c._containsPoint(a)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(c))&&(h=c);h&&(L.DomEvent.fakeStop(o),this._fireEvent([h],o))}}),L.PM.initialize()})();function $y(e,t,r){t.onGlobalCutModeToggled&&e[r]("pm:globalcutmodetoggled",t.onGlobalCutModeToggled),t.onGlobalDragModeToggled&&e[r]("pm:globaldragmodetoggled",t.onGlobalDragModeToggled),t.onGlobalDrawModeToggled&&e[r]("pm:globaldrawmodetoggled",t.onGlobalDrawModeToggled),t.onGlobalEditModeToggled&&e[r]("pm:globaleditmodetoggled",t.onGlobalEditModeToggled),t.onButtonClick&&e[r]("pm:buttonclick",t.onButtonClick),t.onActionClick&&e[r]("pm:actionclick",t.onActionClick),t.onKeyEvent&&e[r]("pm:keyevent",t.onKeyEvent),t.onLangChange&&e[r]("pm:langchange",t.onLangChange),t.onGlobalRemovalModeToggled&&e[r]("pm:globalremovalmodetoggled",t.onGlobalRemovalModeToggled),t.onGlobalRotateModeToggled&&e[r]("pm:globalrotatemodetoggled",t.onGlobalRotateModeToggled)}function Oa(e,t,r){t.onVertexAdded&&e[r]("pm:vertexadded",t.onVertexAdded),t.onSnapDrag&&e[r]("pm:snapdrag",t.onSnapDrag),t.onSnap&&e[r]("pm:snap",t.onSnap),t.onUnsnap&&e[r]("pm:unsnap",t.onUnsnap),t.onCenterPlaced&&e[r]("pm:centerplaced",t.onCenterPlaced),t.onChange&&e[r]("pm:change",t.onChange),t.onEdit&&e[r]("pm:edit",t.onEdit),t.onUpdate&&e[r]("pm:update",t.onUpdate),t.onEnable&&e[r]("pm:enable",t.onEnable),t.onDisable&&e[r]("pm:disable",t.onDisable),t.onVertexRemoved&&e[r]("pm:vertexremoved",t.onVertexRemoved),t.onVertexClick&&e[r]("pm:vertexclick",t.onVertexClick),t.onMarkerDragStart&&e[r]("pm:markerdragstart",t.onMarkerDragStart),t.onMarkerDrag&&e[r]("pm:markerdrag",t.onMarkerDrag),t.onMarkerDragEnd&&e[r]("pm:markerdragend",t.onMarkerDragEnd),t.onLayerReset&&e[r]("pm:layerreset",t.onLayerReset),t.onIntersect&&e[r]("pm:intersect",t.onIntersect),t.onDragStart&&e[r]("pm:dragstart",t.onDragStart),t.onDrag&&e[r]("pm:drag",t.onDrag),t.onDragEnd&&e[r]("pm:dragend",t.onDragEnd),t.onDragEnable&&e[r]("pm:dragenable",t.onDragEnable),t.onDragDisable&&e[r]("pm:dragdisable",t.onDragDisable),t.onLayerRemove&&e[r]("pm:remove",t.onLayerRemove),t.onLayerCut&&e[r]("pm:cut",t.onLayerCut),t.onLayerRotateEnable&&e[r]("pm:rotateenable",t.onLayerRotateEnable),t.onLayerRotateDisable&&e[r]("pm:rotatedisable",t.onLayerRotateDisable),t.onLayerRotateStart&&e[r]("pm:rotatestart",t.onLayerRotateStart),t.onLayerRotate&&e[r]("pm:rotate",t.onLayerRotate),t.onLayerRotateEnd&&e[r]("pm:rotateend",t.onLayerRotateEnd),t.onTextChange&&e[r]("pm:textchange",t.onTextChange)}function Gy(e,t,r){t.onMapCut&&e[r]("pm:cut",i=>{Oa(i.layer,t,"off"),Oa(i.layer,t,"on"),t.onMapCut&&t.onMapCut(i)}),t.onCreate&&e[r]("pm:create",i=>{Oa(i.layer,t,"off"),Oa(i.layer,t,"on"),t.onCreate&&t.onCreate(i)}),t.onDrawStart&&e[r]("pm:drawstart",t.onDrawStart),t.onDrawEnd&&e[r]("pm:drawend",t.onDrawEnd),t.onMapRemove&&e[r]("pm:remove",t.onMapRemove),t.onMapRotateEnable&&e[r]("pm:rotateenable",t.onMapRotateEnable),t.onMapRotateDisable&&e[r]("pm:rotatedisable",t.onMapRotateDisable),t.onMapRotate&&e[r]("pm:rotate",t.onMapRotate),t.onMapRotateStart&&e[r]("pm:rotatestart",t.onMapRotateStart),t.onMapRotateEnd&&e[r]("pm:rotateend",t.onMapRotateEnd)}const LE=["onMapRemove","onLayerRemove","onMapCut","onLayerCut","onMapRotateEnable","onLayerRotateEnable","onMapRotateDisable","onLayerRotateDisable","onMapRotateStart","onLayerRotateStart","onMapRotate","onLayerRotate","onMapRotateEnd","onLayerRotateEnd","onGlobalDrawModeToggled","onDrawStart","onDrawEnd","onCreate","onGlobalEditModeToggled","onGlobalDragModeToggled","onGlobalRemovalModeToggled","onGlobalCutModeToggled","onGlobalRotateModeToggled","onLangChange","onButtonClick","onActionClick","onKeyEvent","onSnapDrag","onSnap","onUnsnap","onCenterPlaced","onEdit","onUpdate","onEnable","onDisable","onVertexAdded","onVertexRemoved","onVertexClick","onMarkerDragStart","onMarkerDrag","onMarkerDragEnd","onLayerReset","onIntersect","onChange","onTextChange","onDragStart","onDrag","onDragEnd","onDragEnable","onDragDisable"];function CE({options:e={},globalOptions:t={},pathOptions:r={},lang:i="en",eventDebugFn:s,onMount:l,onUnmount:p,..._}){const[y,P]=Ae.useState(!1),[x,A]=Ae.useState({}),{map:E,layerContainer:I}=is(),J=I||E;return J?(Ae.useLayoutEffect(()=>(E.pm.controlsVisible()||(E.pm.addControls(e),l&&l(),P(!0)),()=>{E.pm.disableDraw(),E.pm.disableGlobalEditMode(),E.pm.disableGlobalRemovalMode(),E.pm.disableGlobalDragMode(),E.pm.disableGlobalCutMode(),E.pm.disableGlobalRotateMode(),E.pm.disableGlobalDragMode(),E.pm.disableGlobalCutMode(),p&&p(),E.pm.removeControls(),P(!1)}),[]),Ae.useEffect(()=>{y&&E.pm.setPathOptions(r)},[r,y]),Ae.useEffect(()=>{y&&E.pm.setGlobalOptions({layerGroup:J,...t})},[t,y]),Ae.useEffect(()=>{y&&E.pm.setLang(i)},[i,y]),Ae.useEffect(()=>{if(y){const W=Object.fromEntries(LE.map(j=>[j,_[j]??s])),ye=I?J.getLayers():E.pm.getGeomanLayers();return ye.forEach(j=>Oa(j,W,"on")),$y(E,W,"on"),Gy(E,W,"on"),()=>{$y(E,W,"off"),Gy(E,W,"off"),ye.forEach(j=>Oa(j,W,"off")),A(_)}}},[y,!0]),null):(console.warn("[GEOMAN-CONTROLS] No map or container instance found"),null)}const bE=N4(function({data:t,...r},i){const s=new Xi.GeoJSON(t,r);return al(s,af(i,{overlayContainer:s}))},function(t,r,i){r.data!==i.data&&t.clearLayers().addData(r.data),r.style!==i.style&&(r.style==null?t.resetStyle():t.setStyle(r.style))});var jy=Object.prototype.toString,U4=function(t){var r=jy.call(t),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&jy.call(t.callee)==="[object Function]"),i},jp,Uy;function EE(){if(Uy)return jp;Uy=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=U4,s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),p=s.call(function(){},"prototype"),_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],y=function(E){var I=E.constructor;return I&&I.prototype===E},P={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},x=function(){if(typeof window>"u")return!1;for(var E in window)try{if(!P["$"+E]&&t.call(window,E)&&window[E]!==null&&typeof window[E]=="object")try{y(window[E])}catch{return!0}}catch{return!0}return!1}(),A=function(E){if(typeof window>"u"||!x)return y(E);try{return y(E)}catch{return!1}};e=function(I){var J=I!==null&&typeof I=="object",W=r.call(I)==="[object Function]",ye=i(I),j=J&&r.call(I)==="[object String]",$=[];if(!J&&!W&&!ye)throw new TypeError("Object.keys called on a non-object");var G=p&&W;if(j&&I.length>0&&!t.call(I,0))for(var ae=0;ae<I.length;++ae)$.push(String(ae));if(ye&&I.length>0)for(var se=0;se<I.length;++se)$.push(String(se));else for(var de in I)!(G&&de==="prototype")&&t.call(I,de)&&$.push(String(de));if(l)for(var ge=A(I),ve=0;ve<_.length;++ve)!(ge&&_[ve]==="constructor")&&t.call(I,_[ve])&&$.push(_[ve]);return $}}return jp=e,jp}var kE=Array.prototype.slice,xE=U4,Zy=Object.keys,jc=Zy?function(t){return Zy(t)}:EE(),Vy=Object.keys;jc.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(i){return xE(i)?Vy(kE.call(i)):Vy(i)})}else Object.keys=jc;return Object.keys||jc};var M0=jc,ME=Error,PE=EvalError,SE=RangeError,BE=ReferenceError,Z4=SyntaxError,Qi=TypeError,AE=URIError,uf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;t[r]=s;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(t,r);if(p.value!==s||p.enumerable!==!0)return!1}return!0},Hy=typeof Symbol<"u"&&Symbol,TE=uf,P0=function(){return typeof Hy!="function"||typeof Symbol!="function"||typeof Hy("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:TE()},Up={__proto__:null,foo:{}},DE=Object,OE=function(){return{__proto__:Up}.foo===Up.foo&&!(Up instanceof DE)},FE="Function.prototype.bind called on incompatible ",RE=Object.prototype.toString,IE=Math.max,zE="[object Function]",Wy=function(t,r){for(var i=[],s=0;s<t.length;s+=1)i[s]=t[s];for(var l=0;l<r.length;l+=1)i[l+t.length]=r[l];return i},NE=function(t,r){for(var i=[],s=r,l=0;s<t.length;s+=1,l+=1)i[l]=t[s];return i},$E=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r},GE=function(t){var r=this;if(typeof r!="function"||RE.apply(r)!==zE)throw new TypeError(FE+r);for(var i=NE(arguments,1),s,l=function(){if(this instanceof s){var x=r.apply(this,Wy(i,arguments));return Object(x)===x?x:this}return r.apply(t,Wy(i,arguments))},p=IE(0,r.length-i.length),_=[],y=0;y<p;y++)_[y]="$"+y;if(s=Function("binder","return function ("+$E(_,",")+"){ return binder.apply(this,arguments); }")(l),r.prototype){var P=function(){};P.prototype=r.prototype,s.prototype=new P,P.prototype=null}return s},jE=GE,S0=Function.prototype.bind||jE,UE=Function.prototype.call,ZE=Object.prototype.hasOwnProperty,VE=S0,V4=VE.call(UE,ZE),$e,HE=ME,WE=PE,KE=SE,qE=BE,Ya=Z4,Ua=Qi,JE=AE,H4=Function,Zp=function(e){try{return H4('"use strict"; return ('+e+").constructor;")()}catch{}},Bo=Object.getOwnPropertyDescriptor;if(Bo)try{Bo({},"")}catch{Bo=null}var Vp=function(){throw new Ua},YE=Bo?function(){try{return arguments.callee,Vp}catch{try{return Bo(arguments,"callee").get}catch{return Vp}}}():Vp,va=P0(),XE=OE(),Nt=Object.getPrototypeOf||(XE?function(e){return e.__proto__}:null),La={},QE=typeof Uint8Array>"u"||!Nt?$e:Nt(Uint8Array),Ao={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$e:ArrayBuffer,"%ArrayIteratorPrototype%":va&&Nt?Nt([][Symbol.iterator]()):$e,"%AsyncFromSyncIteratorPrototype%":$e,"%AsyncFunction%":La,"%AsyncGenerator%":La,"%AsyncGeneratorFunction%":La,"%AsyncIteratorPrototype%":La,"%Atomics%":typeof Atomics>"u"?$e:Atomics,"%BigInt%":typeof BigInt>"u"?$e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":HE,"%eval%":eval,"%EvalError%":WE,"%Float32Array%":typeof Float32Array>"u"?$e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$e:FinalizationRegistry,"%Function%":H4,"%GeneratorFunction%":La,"%Int8Array%":typeof Int8Array>"u"?$e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":va&&Nt?Nt(Nt([][Symbol.iterator]())):$e,"%JSON%":typeof JSON=="object"?JSON:$e,"%Map%":typeof Map>"u"?$e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!va||!Nt?$e:Nt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$e:Promise,"%Proxy%":typeof Proxy>"u"?$e:Proxy,"%RangeError%":KE,"%ReferenceError%":qE,"%Reflect%":typeof Reflect>"u"?$e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!va||!Nt?$e:Nt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":va&&Nt?Nt(""[Symbol.iterator]()):$e,"%Symbol%":va?Symbol:$e,"%SyntaxError%":Ya,"%ThrowTypeError%":YE,"%TypedArray%":QE,"%TypeError%":Ua,"%Uint8Array%":typeof Uint8Array>"u"?$e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$e:Uint32Array,"%URIError%":JE,"%WeakMap%":typeof WeakMap>"u"?$e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$e:WeakSet};if(Nt)try{null.error}catch(e){var ek=Nt(Nt(e));Ao["%Error.prototype%"]=ek}var tk=function e(t){var r;if(t==="%AsyncFunction%")r=Zp("async function () {}");else if(t==="%GeneratorFunction%")r=Zp("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Zp("async function* () {}");else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var s=e("%AsyncGenerator%");s&&Nt&&(r=Nt(s.prototype))}return Ao[t]=r,r},Ky={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},sl=S0,bh=V4,rk=sl.call(Function.call,Array.prototype.concat),nk=sl.call(Function.apply,Array.prototype.splice),qy=sl.call(Function.call,String.prototype.replace),Eh=sl.call(Function.call,String.prototype.slice),ik=sl.call(Function.call,RegExp.prototype.exec),ok=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ak=/\\(\\)?/g,sk=function(t){var r=Eh(t,0,1),i=Eh(t,-1);if(r==="%"&&i!=="%")throw new Ya("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new Ya("invalid intrinsic syntax, expected opening `%`");var s=[];return qy(t,ok,function(l,p,_,y){s[s.length]=_?qy(y,ak,"$1"):p||l}),s},uk=function(t,r){var i=t,s;if(bh(Ky,i)&&(s=Ky[i],i="%"+s[0]+"%"),bh(Ao,i)){var l=Ao[i];if(l===La&&(l=tk(i)),typeof l>"u"&&!r)throw new Ua("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:s,name:i,value:l}}throw new Ya("intrinsic "+t+" does not exist!")},In=function(t,r){if(typeof t!="string"||t.length===0)throw new Ua("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ua('"allowMissing" argument must be a boolean');if(ik(/^%?[^%]*%?$/,t)===null)throw new Ya("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=sk(t),s=i.length>0?i[0]:"",l=uk("%"+s+"%",r),p=l.name,_=l.value,y=!1,P=l.alias;P&&(s=P[0],nk(i,rk([0,1],P)));for(var x=1,A=!0;x<i.length;x+=1){var E=i[x],I=Eh(E,0,1),J=Eh(E,-1);if((I==='"'||I==="'"||I==="`"||J==='"'||J==="'"||J==="`")&&I!==J)throw new Ya("property names with quotes must have matching quotes");if((E==="constructor"||!A)&&(y=!0),s+="."+E,p="%"+s+"%",bh(Ao,p))_=Ao[p];else if(_!=null){if(!(E in _)){if(!r)throw new Ua("base intrinsic for "+t+" exists, but the property is not available.");return}if(Bo&&x+1>=i.length){var W=Bo(_,E);A=!!W,A&&"get"in W&&!("originalValue"in W.get)?_=W.get:_=_[E]}else A=bh(_,E),_=_[E];A&&!y&&(Ao[p]=_)}}return _},lk=In,Uc=lk("%Object.defineProperty%",!0)||!1;if(Uc)try{Uc({},"a",{value:1})}catch{Uc=!1}var B0=Uc,ck=In,Zc=ck("%Object.getOwnPropertyDescriptor%",!0);if(Zc)try{Zc([],"length")}catch{Zc=null}var A0=Zc,Jy=B0,hk=Z4,wa=Qi,Yy=A0,T0=function(t,r,i){if(!t||typeof t!="object"&&typeof t!="function")throw new wa("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new wa("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new wa("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new wa("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new wa("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new wa("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,_=arguments.length>6?arguments[6]:!1,y=!!Yy&&Yy(t,r);if(Jy)Jy(t,r,{configurable:p===null&&y?y.configurable:!p,enumerable:s===null&&y?y.enumerable:!s,value:i,writable:l===null&&y?y.writable:!l});else if(_||!s&&!l&&!p)t[r]=i;else throw new hk("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},rm=B0,W4=function(){return!!rm};W4.hasArrayLengthDefineBug=function(){if(!rm)return null;try{return rm([],"length",{value:1}).length!==1}catch{return!0}};var D0=W4,fk=M0,pk=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",dk=Object.prototype.toString,mk=Array.prototype.concat,Xy=T0,gk=function(e){return typeof e=="function"&&dk.call(e)==="[object Function]"},K4=D0(),yk=function(e,t,r,i){if(t in e){if(i===!0){if(e[t]===r)return}else if(!gk(i)||!i())return}K4?Xy(e,t,r,!0):Xy(e,t,r)},q4=function(e,t){var r=arguments.length>2?arguments[2]:{},i=fk(t);pk&&(i=mk.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)yk(e,i[s],t[i[s]],r[i[s]])};q4.supportsDescriptors=!!K4;var $o=q4,J4={exports:{}},_k=In,Qy=T0,vk=D0(),e_=A0,t_=Qi,wk=_k("%Math.floor%"),Lk=function(t,r){if(typeof t!="function")throw new t_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||wk(r)!==r)throw new t_("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],s=!0,l=!0;if("length"in t&&e_){var p=e_(t,"length");p&&!p.configurable&&(s=!1),p&&!p.writable&&(l=!1)}return(s||l||!i)&&(vk?Qy(t,"length",r,!0,!0):Qy(t,"length",r)),t};(function(e){var t=S0,r=In,i=Lk,s=Qi,l=r("%Function.prototype.apply%"),p=r("%Function.prototype.call%"),_=r("%Reflect.apply%",!0)||t.call(p,l),y=B0,P=r("%Math.max%");e.exports=function(E){if(typeof E!="function")throw new s("a function is required");var I=_(t,p,arguments);return i(I,1+P(0,E.length-(arguments.length-1)),!0)};var x=function(){return _(t,l,arguments)};y?y(e.exports,"apply",{value:x}):e.exports.apply=x})(J4);var os=J4.exports,Y4=In,X4=os,Ck=X4(Y4("String.prototype.indexOf")),en=function(t,r){var i=Y4(t,!!r);return typeof i=="function"&&Ck(t,".prototype.")>-1?X4(i):i},bk=M0,Q4=uf(),ew=en,r_=Object,Ek=ew("Array.prototype.push"),n_=ew("Object.prototype.propertyIsEnumerable"),kk=Q4?Object.getOwnPropertySymbols:null,tw=function(t,r){if(t==null)throw new TypeError("target must be an object");var i=r_(t);if(arguments.length===1)return i;for(var s=1;s<arguments.length;++s){var l=r_(arguments[s]),p=bk(l),_=Q4&&(Object.getOwnPropertySymbols||kk);if(_)for(var y=_(l),P=0;P<y.length;++P){var x=y[P];n_(l,x)&&Ek(p,x)}for(var A=0;A<p.length;++A){var E=p[A];if(n_(l,E)){var I=l[E];i[E]=I}}}return i},Hp=tw,xk=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},i=0;i<t.length;++i)r[t[i]]=t[i];var s=Object.assign({},r),l="";for(var p in s)l+=p;return e!==l},Mk=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},rw=function(){return!Object.assign||xk()||Mk()?Hp:Object.assign},Pk=$o,Sk=rw,Bk=function(){var t=Sk();return Pk(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t},Ak=$o,Tk=os,Dk=tw,nw=rw,Ok=Bk,Fk=Tk.apply(nw()),iw=function(t,r){return Fk(Object,arguments)};Ak(iw,{getPolyfill:nw,implementation:Dk,shim:Ok});var Rk=iw,Xu=function(){return typeof(function(){}).name=="string"},Au=Object.getOwnPropertyDescriptor;if(Au)try{Au([],"length")}catch{Au=null}Xu.functionsHaveConfigurableNames=function(){if(!Xu()||!Au)return!1;var t=Au(function(){},"name");return!!t&&!!t.configurable};var Ik=Function.prototype.bind;Xu.boundFunctionsHaveNames=function(){return Xu()&&typeof Ik=="function"&&(function(){}).bind().name!==""};var zk=Xu,i_=T0,Nk=D0(),$k=zk.functionsHaveConfigurableNames(),Gk=Qi,jk=function(t,r){if(typeof t!="function")throw new Gk("`fn` is not a function");var i=arguments.length>2&&!!arguments[2];return(!i||$k)&&(Nk?i_(t,"name",r,!0,!0):i_(t,"name",r)),t},Uk=jk,Zk=Qi,Vk=Object,ow=Uk(function(){if(this==null||this!==Vk(this))throw new Zk("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0),Hk=ow,Wk=$o.supportsDescriptors,Kk=Object.getOwnPropertyDescriptor,aw=function(){if(Wk&&/a/mig.flags==="gim"){var t=Kk(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",i={};if(Object.defineProperty(i,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(i,"sticky",{get:function(){r+="y"}}),r==="dy")return t.get}}return Hk},qk=$o.supportsDescriptors,Jk=aw,Yk=Object.getOwnPropertyDescriptor,Xk=Object.defineProperty,Qk=TypeError,o_=Object.getPrototypeOf,ex=/a/,tx=function(){if(!qk||!o_)throw new Qk("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=Jk(),r=o_(ex),i=Yk(r,"flags");return(!i||i.get!==t)&&Xk(r,"flags",{configurable:!0,enumerable:!1,get:t}),t},rx=$o,nx=os,ix=ow,sw=aw,ox=tx,uw=nx(sw());rx(uw,{getPolyfill:sw,implementation:ix,shim:ox});var ax=uw,Vc={exports:{}},sx=uf,Go=function(){return sx()&&!!Symbol.toStringTag},ux=Go(),lx=en,nm=lx("Object.prototype.toString"),lf=function(t){return ux&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:nm(t)==="[object Arguments]"},lw=function(t){return lf(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&nm(t)!=="[object Array]"&&nm(t.callee)==="[object Function]"},cx=function(){return lf(arguments)}();lf.isLegacyArguments=lw;var cw=cx?lf:lw;const hx={},fx=Object.freeze(Object.defineProperty({__proto__:null,default:hx},Symbol.toStringTag,{value:"Module"})),px=PL(fx);var O0=typeof Map=="function"&&Map.prototype,Wp=Object.getOwnPropertyDescriptor&&O0?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,kh=O0&&Wp&&typeof Wp.get=="function"?Wp.get:null,a_=O0&&Map.prototype.forEach,F0=typeof Set=="function"&&Set.prototype,Kp=Object.getOwnPropertyDescriptor&&F0?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,xh=F0&&Kp&&typeof Kp.get=="function"?Kp.get:null,s_=F0&&Set.prototype.forEach,dx=typeof WeakMap=="function"&&WeakMap.prototype,Tu=dx?WeakMap.prototype.has:null,mx=typeof WeakSet=="function"&&WeakSet.prototype,Du=mx?WeakSet.prototype.has:null,gx=typeof WeakRef=="function"&&WeakRef.prototype,u_=gx?WeakRef.prototype.deref:null,yx=Boolean.prototype.valueOf,_x=Object.prototype.toString,vx=Function.prototype.toString,wx=String.prototype.match,R0=String.prototype.slice,Ii=String.prototype.replace,Lx=String.prototype.toUpperCase,l_=String.prototype.toLowerCase,hw=RegExp.prototype.test,c_=Array.prototype.concat,Pn=Array.prototype.join,Cx=Array.prototype.slice,h_=Math.floor,im=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qp=Object.getOwnPropertySymbols,om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",sr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Xa||!0)?Symbol.toStringTag:null,fw=Object.prototype.propertyIsEnumerable,f_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function p_(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||hw.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var i=e<0?-h_(-e):h_(e);if(i!==e){var s=String(i),l=R0.call(t,s.length+1);return Ii.call(s,r,"$&_")+"."+Ii.call(Ii.call(l,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ii.call(t,r,"$&_")}var am=px,d_=am.custom,m_=dw(d_)?d_:null,bx=function e(t,r,i,s){var l=r||{};if(Ti(l,"quoteStyle")&&l.quoteStyle!=="single"&&l.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ti(l,"maxStringLength")&&(typeof l.maxStringLength=="number"?l.maxStringLength<0&&l.maxStringLength!==1/0:l.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var p=Ti(l,"customInspect")?l.customInspect:!0;if(typeof p!="boolean"&&p!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ti(l,"indent")&&l.indent!==null&&l.indent!=="	"&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ti(l,"numericSeparator")&&typeof l.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=l.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return gw(t,l);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var y=String(t);return _?p_(t,y):y}if(typeof t=="bigint"){var P=String(t)+"n";return _?p_(t,P):P}var x=typeof l.depth>"u"?5:l.depth;if(typeof i>"u"&&(i=0),i>=x&&x>0&&typeof t=="object")return sm(t)?"[Array]":"[Object]";var A=Gx(l,i);if(typeof s>"u")s=[];else if(mw(s,t)>=0)return"[Circular]";function E(Yt,Dt,io){if(Dt&&(s=Cx.call(s),s.push(Dt)),io){var Lt={depth:l.depth};return Ti(l,"quoteStyle")&&(Lt.quoteStyle=l.quoteStyle),e(Yt,Lt,i+1,s)}return e(Yt,l,i+1,s)}if(typeof t=="function"&&!g_(t)){var I=Tx(t),J=xc(t,E);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(J.length>0?" { "+Pn.call(J,", ")+" }":"")}if(dw(t)){var W=Xa?Ii.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):om.call(t);return typeof t=="object"&&!Xa?au(W):W}if(zx(t)){for(var ye="<"+l_.call(String(t.nodeName)),j=t.attributes||[],$=0;$<j.length;$++)ye+=" "+j[$].name+"="+pw(Ex(j[$].value),"double",l);return ye+=">",t.childNodes&&t.childNodes.length&&(ye+="..."),ye+="</"+l_.call(String(t.nodeName))+">",ye}if(sm(t)){if(t.length===0)return"[]";var G=xc(t,E);return A&&!$x(G)?"["+um(G,A)+"]":"[ "+Pn.call(G,", ")+" ]"}if(xx(t)){var ae=xc(t,E);return!("cause"in Error.prototype)&&"cause"in t&&!fw.call(t,"cause")?"{ ["+String(t)+"] "+Pn.call(c_.call("[cause]: "+E(t.cause),ae),", ")+" }":ae.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Pn.call(ae,", ")+" }"}if(typeof t=="object"&&p){if(m_&&typeof t[m_]=="function"&&am)return am(t,{depth:x-i});if(p!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Dx(t)){var se=[];return a_&&a_.call(t,function(Yt,Dt){se.push(E(Dt,t,!0)+" => "+E(Yt,t))}),y_("Map",kh.call(t),se,A)}if(Rx(t)){var de=[];return s_&&s_.call(t,function(Yt){de.push(E(Yt,t))}),y_("Set",xh.call(t),de,A)}if(Ox(t))return Jp("WeakMap");if(Ix(t))return Jp("WeakSet");if(Fx(t))return Jp("WeakRef");if(Px(t))return au(E(Number(t)));if(Bx(t))return au(E(im.call(t)));if(Sx(t))return au(yx.call(t));if(Mx(t))return au(E(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Bn<"u"&&t===Bn)return"{ [object globalThis] }";if(!kx(t)&&!g_(t)){var ge=xc(t,E),ve=f_?f_(t)===Object.prototype:t instanceof Object||t.constructor===Object,Ze=t instanceof Object?"":"null prototype",Pe=!ve&&sr&&Object(t)===t&&sr in t?R0.call(eo(t),8,-1):Ze?"Object":"",Ne=ve||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",ut=Ne+(Pe||Ze?"["+Pn.call(c_.call([],Pe||[],Ze||[]),": ")+"] ":"");return ge.length===0?ut+"{}":A?ut+"{"+um(ge,A)+"}":ut+"{ "+Pn.call(ge,", ")+" }"}return String(t)};function pw(e,t,r){var i=(r.quoteStyle||t)==="double"?'"':"'";return i+e+i}function Ex(e){return Ii.call(String(e),/"/g,"&quot;")}function sm(e){return eo(e)==="[object Array]"&&(!sr||!(typeof e=="object"&&sr in e))}function kx(e){return eo(e)==="[object Date]"&&(!sr||!(typeof e=="object"&&sr in e))}function g_(e){return eo(e)==="[object RegExp]"&&(!sr||!(typeof e=="object"&&sr in e))}function xx(e){return eo(e)==="[object Error]"&&(!sr||!(typeof e=="object"&&sr in e))}function Mx(e){return eo(e)==="[object String]"&&(!sr||!(typeof e=="object"&&sr in e))}function Px(e){return eo(e)==="[object Number]"&&(!sr||!(typeof e=="object"&&sr in e))}function Sx(e){return eo(e)==="[object Boolean]"&&(!sr||!(typeof e=="object"&&sr in e))}function dw(e){if(Xa)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!om)return!1;try{return om.call(e),!0}catch{}return!1}function Bx(e){if(!e||typeof e!="object"||!im)return!1;try{return im.call(e),!0}catch{}return!1}var Ax=Object.prototype.hasOwnProperty||function(e){return e in this};function Ti(e,t){return Ax.call(e,t)}function eo(e){return _x.call(e)}function Tx(e){if(e.name)return e.name;var t=wx.call(vx.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function mw(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function Dx(e){if(!kh||!e||typeof e!="object")return!1;try{kh.call(e);try{xh.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Ox(e){if(!Tu||!e||typeof e!="object")return!1;try{Tu.call(e,Tu);try{Du.call(e,Du)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Fx(e){if(!u_||!e||typeof e!="object")return!1;try{return u_.call(e),!0}catch{}return!1}function Rx(e){if(!xh||!e||typeof e!="object")return!1;try{xh.call(e);try{kh.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Ix(e){if(!Du||!e||typeof e!="object")return!1;try{Du.call(e,Du);try{Tu.call(e,Tu)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function zx(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function gw(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return gw(R0.call(e,0,t.maxStringLength),t)+i}var s=Ii.call(Ii.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Nx);return pw(s,"single",t)}function Nx(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+Lx.call(t.toString(16))}function au(e){return"Object("+e+")"}function Jp(e){return e+" { ? }"}function y_(e,t,r,i){var s=i?um(r,i):Pn.call(r,", ");return e+" ("+t+") {"+s+"}"}function $x(e){for(var t=0;t<e.length;t++)if(mw(e[t],`
`)>=0)return!1;return!0}function Gx(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Pn.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Pn.call(Array(t+1),r)}}function um(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Pn.call(e,","+r)+`
`+t.prev}function xc(e,t){var r=sm(e),i=[];if(r){i.length=e.length;for(var s=0;s<e.length;s++)i[s]=Ti(e,s)?t(e[s],e):""}var l=typeof qp=="function"?qp(e):[],p;if(Xa){p={};for(var _=0;_<l.length;_++)p["$"+l[_]]=l[_]}for(var y in e)Ti(e,y)&&(r&&String(Number(y))===y&&y<e.length||Xa&&p["$"+y]instanceof Symbol||(hw.call(/[^\w$]/,y)?i.push(t(y,e)+": "+t(e[y],e)):i.push(y+": "+t(e[y],e))));if(typeof qp=="function")for(var P=0;P<l.length;P++)fw.call(e,l[P])&&i.push("["+t(l[P])+"]: "+t(e[l[P]],e));return i}var yw=In,as=en,jx=bx,Ux=Qi,Mc=yw("%WeakMap%",!0),Pc=yw("%Map%",!0),Zx=as("WeakMap.prototype.get",!0),Vx=as("WeakMap.prototype.set",!0),Hx=as("WeakMap.prototype.has",!0),Wx=as("Map.prototype.get",!0),Kx=as("Map.prototype.set",!0),qx=as("Map.prototype.has",!0),I0=function(e,t){for(var r=e,i;(i=r.next)!==null;r=i)if(i.key===t)return r.next=i.next,i.next=e.next,e.next=i,i},Jx=function(e,t){var r=I0(e,t);return r&&r.value},Yx=function(e,t,r){var i=I0(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}},Xx=function(e,t){return!!I0(e,t)},_w=function(){var t,r,i,s={assert:function(l){if(!s.has(l))throw new Ux("Side channel does not contain "+jx(l))},get:function(l){if(Mc&&l&&(typeof l=="object"||typeof l=="function")){if(t)return Zx(t,l)}else if(Pc){if(r)return Wx(r,l)}else if(i)return Jx(i,l)},has:function(l){if(Mc&&l&&(typeof l=="object"||typeof l=="function")){if(t)return Hx(t,l)}else if(Pc){if(r)return qx(r,l)}else if(i)return Xx(i,l);return!1},set:function(l,p){Mc&&l&&(typeof l=="object"||typeof l=="function")?(t||(t=new Mc),Vx(t,l,p)):Pc?(r||(r=new Pc),Kx(r,l,p)):(i||(i={key:{},next:null}),Yx(i,l,p))}};return s},Qx=V4,su=_w(),Yn=Qi,z0={assert:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Yn("`O` is not an object");if(typeof t!="string")throw new Yn("`slot` must be a string");if(su.assert(e),!z0.has(e,t))throw new Yn("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Yn("`O` is not an object");if(typeof t!="string")throw new Yn("`slot` must be a string");var r=su.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Yn("`O` is not an object");if(typeof t!="string")throw new Yn("`slot` must be a string");var r=su.get(e);return!!r&&Qx(r,"$"+t)},set:function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Yn("`O` is not an object");if(typeof t!="string")throw new Yn("`slot` must be a string");var i=su.get(e);i||(i={},su.set(e,i)),i["$"+t]=r}};Object.freeze&&Object.freeze(z0);var eM=z0,uu=eM,tM=SyntaxError,__=typeof StopIteration=="object"?StopIteration:null,rM=function(t){if(!__)throw new tM("this environment lacks StopIteration");uu.set(t,"[[Done]]",!1);var r={next:function(){var s=uu.get(this,"[[Iterator]]"),l=uu.get(s,"[[Done]]");try{return{done:l,value:l?void 0:s.next()}}catch(p){if(uu.set(s,"[[Done]]",!0),p!==__)throw p;return{done:!0,value:void 0}}}};return uu.set(r,"[[Iterator]]",t),r},nM={}.toString,vw=Array.isArray||function(e){return nM.call(e)=="[object Array]"},iM=String.prototype.valueOf,oM=function(t){try{return iM.call(t),!0}catch{return!1}},aM=Object.prototype.toString,sM="[object String]",uM=Go(),ww=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:uM?oM(t):aM.call(t)===sM},N0=typeof Map=="function"&&Map.prototype?Map:null,lM=typeof Set=="function"&&Set.prototype?Set:null,Mh;N0||(Mh=function(t){return!1});var Lw=N0?Map.prototype.has:null,v_=lM?Set.prototype.has:null;!Mh&&!Lw&&(Mh=function(t){return!1});var Cw=Mh||function(t){if(!t||typeof t!="object")return!1;try{if(Lw.call(t),v_)try{v_.call(t)}catch{return!0}return t instanceof N0}catch{}return!1},cM=typeof Map=="function"&&Map.prototype?Map:null,$0=typeof Set=="function"&&Set.prototype?Set:null,Ph;$0||(Ph=function(t){return!1});var w_=cM?Map.prototype.has:null,bw=$0?Set.prototype.has:null;!Ph&&!bw&&(Ph=function(t){return!1});var Ew=Ph||function(t){if(!t||typeof t!="object")return!1;try{if(bw.call(t),w_)try{w_.call(t)}catch{return!0}return t instanceof $0}catch{}return!1},L_=cw,C_=rM;if(P0()||uf()){var Yp=Symbol.iterator;Vc.exports=function(t){if(t!=null&&typeof t[Yp]<"u")return t[Yp]();if(L_(t))return Array.prototype[Yp].call(t)}}else{var hM=vw,fM=ww,b_=In,pM=b_("%Map%",!0),dM=b_("%Set%",!0),ln=en,E_=ln("Array.prototype.push"),k_=ln("String.prototype.charCodeAt"),mM=ln("String.prototype.slice"),gM=function(t,r){var i=t.length;if(r+1>=i)return r+1;var s=k_(t,r);if(s<55296||s>56319)return r+1;var l=k_(t,r+1);return l<56320||l>57343?r+1:r+2},Xp=function(t){var r=0;return{next:function(){var s=r>=t.length,l;return s||(l=t[r],r+=1),{done:s,value:l}}}},x_=function(t,r){if(hM(t)||L_(t))return Xp(t);if(fM(t)){var i=0;return{next:function(){var l=gM(t,i),p=mM(t,i,l);return i=l,{done:l>t.length,value:p}}}}if(r&&typeof t["_es6-shim iterator_"]<"u")return t["_es6-shim iterator_"]()};if(!pM&&!dM)Vc.exports=function(t){if(t!=null)return x_(t,!0)};else{var yM=Cw,_M=Ew,M_=ln("Map.prototype.forEach",!0),P_=ln("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var S_=ln("Map.prototype.iterator",!0),B_=ln("Set.prototype.iterator",!0);var A_=ln("Map.prototype.@@iterator",!0)||ln("Map.prototype._es6-shim iterator_",!0),T_=ln("Set.prototype.@@iterator",!0)||ln("Set.prototype._es6-shim iterator_",!0),vM=function(t){if(yM(t)){if(S_)return C_(S_(t));if(A_)return A_(t);if(M_){var r=[];return M_(t,function(s,l){E_(r,[l,s])}),Xp(r)}}if(_M(t)){if(B_)return C_(B_(t));if(T_)return T_(t);if(P_){var i=[];return P_(t,function(s){E_(i,s)}),Xp(i)}}};Vc.exports=function(t){return vM(t)||x_(t)}}}var wM=Vc.exports,D_=function(e){return e!==e},kw=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||D_(t)&&D_(r))},LM=kw,xw=function(){return typeof Object.is=="function"?Object.is:LM},CM=xw,bM=$o,EM=function(){var t=CM();return bM(Object,{is:t},{is:function(){return Object.is!==t}}),t},kM=$o,xM=os,MM=kw,Mw=xw,PM=EM,Pw=xM(Mw(),Object);kM(Pw,{getPolyfill:Mw,implementation:MM,shim:PM});var SM=Pw,BM=os,Sw=en,AM=In,lm=AM("%ArrayBuffer%",!0),Hc=Sw("ArrayBuffer.prototype.byteLength",!0),TM=Sw("Object.prototype.toString"),O_=!!lm&&!Hc&&new lm(0).slice,F_=!!O_&&BM(O_),Bw=Hc||F_?function(t){if(!t||typeof t!="object")return!1;try{return Hc?Hc(t):F_(t,0),!0}catch{return!1}}:lm?function(t){return TM(t)==="[object ArrayBuffer]"}:function(t){return!1},DM=Date.prototype.getDay,OM=function(t){try{return DM.call(t),!0}catch{return!1}},FM=Object.prototype.toString,RM="[object Date]",IM=Go(),zM=function(t){return typeof t!="object"||t===null?!1:IM?OM(t):FM.call(t)===RM},cm=en,Aw=Go(),Tw,Dw,hm,fm;if(Aw){Tw=cm("Object.prototype.hasOwnProperty"),Dw=cm("RegExp.prototype.exec"),hm={};var Qp=function(){throw hm};fm={toString:Qp,valueOf:Qp},typeof Symbol.toPrimitive=="symbol"&&(fm[Symbol.toPrimitive]=Qp)}var NM=cm("Object.prototype.toString"),$M=Object.getOwnPropertyDescriptor,GM="[object RegExp]",jM=Aw?function(t){if(!t||typeof t!="object")return!1;var r=$M(t,"lastIndex"),i=r&&Tw(r,"value");if(!i)return!1;try{Dw(t,fm)}catch(s){return s===hm}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:NM(t)===GM},UM=en,R_=UM("SharedArrayBuffer.prototype.byteLength",!0),ZM=R_?function(t){if(!t||typeof t!="object")return!1;try{return R_(t),!0}catch{return!1}}:function(t){return!1},VM=Number.prototype.toString,HM=function(t){try{return VM.call(t),!0}catch{return!1}},WM=Object.prototype.toString,KM="[object Number]",qM=Go(),JM=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:qM?HM(t):WM.call(t)===KM},Ow=en,YM=Ow("Boolean.prototype.toString"),XM=Ow("Object.prototype.toString"),QM=function(t){try{return YM(t),!0}catch{return!1}},eP="[object Boolean]",tP=Go(),rP=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:tP&&Symbol.toStringTag in t?QM(t):XM(t)===eP},pm={exports:{}},nP=Object.prototype.toString,iP=P0();if(iP){var oP=Symbol.prototype.toString,aP=/^Symbol\(.*\)$/,sP=function(t){return typeof t.valueOf()!="symbol"?!1:aP.test(oP.call(t))};pm.exports=function(t){if(typeof t=="symbol")return!0;if(nP.call(t)!=="[object Symbol]")return!1;try{return sP(t)}catch{return!1}}}else pm.exports=function(t){return!1};var uP=pm.exports,dm={exports:{}},I_=typeof BigInt<"u"&&BigInt,lP=function(){return typeof I_=="function"&&typeof BigInt=="function"&&typeof I_(42)=="bigint"&&typeof BigInt(42)=="bigint"},cP=lP();if(cP){var hP=BigInt.prototype.valueOf,fP=function(t){try{return hP.call(t),!0}catch{}return!1};dm.exports=function(t){return t===null||typeof t>"u"||typeof t=="boolean"||typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="function"?!1:typeof t=="bigint"?!0:fP(t)}}else dm.exports=function(t){return!1};var pP=dm.exports,dP=ww,mP=JM,gP=rP,yP=uP,_P=pP,vP=function(t){if(t==null||typeof t!="object"&&typeof t!="function")return null;if(dP(t))return"String";if(mP(t))return"Number";if(gP(t))return"Boolean";if(yP(t))return"Symbol";if(_P(t))return"BigInt"},Sh=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,z_=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,Bh;Sh||(Bh=function(t){return!1});var mm=Sh?Sh.prototype.has:null,ed=z_?z_.prototype.has:null;!Bh&&!mm&&(Bh=function(t){return!1});var wP=Bh||function(t){if(!t||typeof t!="object")return!1;try{if(mm.call(t,mm),ed)try{ed.call(t,ed)}catch{return!0}return t instanceof Sh}catch{}return!1},gm={exports:{}},LP=In,Fw=en,CP=LP("%WeakSet%",!0),td=Fw("WeakSet.prototype.has",!0);if(td){var rd=Fw("WeakMap.prototype.has",!0);gm.exports=function(t){if(!t||typeof t!="object")return!1;try{if(td(t,td),rd)try{rd(t,rd)}catch{return!0}return t instanceof CP}catch{}return!1}}else gm.exports=function(t){return!1};var bP=gm.exports,EP=Cw,kP=Ew,xP=wP,MP=bP,PP=function(t){if(t&&typeof t=="object"){if(EP(t))return"Map";if(kP(t))return"Set";if(xP(t))return"WeakMap";if(MP(t))return"WeakSet"}return!1},Rw=Function.prototype.toString,Fa=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ym,Wc;if(typeof Fa=="function"&&typeof Object.defineProperty=="function")try{ym=Object.defineProperty({},"length",{get:function(){throw Wc}}),Wc={},Fa(function(){throw 42},null,ym)}catch(e){e!==Wc&&(Fa=null)}else Fa=null;var SP=/^\s*class\b/,_m=function(t){try{var r=Rw.call(t);return SP.test(r)}catch{return!1}},nd=function(t){try{return _m(t)?!1:(Rw.call(t),!0)}catch{return!1}},Kc=Object.prototype.toString,BP="[object Object]",AP="[object Function]",TP="[object GeneratorFunction]",DP="[object HTMLAllCollection]",OP="[object HTML document.all class]",FP="[object HTMLCollection]",RP=typeof Symbol=="function"&&!!Symbol.toStringTag,IP=!(0 in[,]),vm=function(){return!1};if(typeof document=="object"){var zP=document.all;Kc.call(zP)===Kc.call(document.all)&&(vm=function(t){if((IP||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=Kc.call(t);return(r===DP||r===OP||r===FP||r===BP)&&t("")==null}catch{}return!1})}var NP=Fa?function(t){if(vm(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Fa(t,null,ym)}catch(r){if(r!==Wc)return!1}return!_m(t)&&nd(t)}:function(t){if(vm(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(RP)return nd(t);if(_m(t))return!1;var r=Kc.call(t);return r!==AP&&r!==TP&&!/^\[object HTML/.test(r)?!1:nd(t)},$P=NP,GP=Object.prototype.toString,Iw=Object.prototype.hasOwnProperty,jP=function(t,r,i){for(var s=0,l=t.length;s<l;s++)Iw.call(t,s)&&(i==null?r(t[s],s,t):r.call(i,t[s],s,t))},UP=function(t,r,i){for(var s=0,l=t.length;s<l;s++)i==null?r(t.charAt(s),s,t):r.call(i,t.charAt(s),s,t)},ZP=function(t,r,i){for(var s in t)Iw.call(t,s)&&(i==null?r(t[s],s,t):r.call(i,t[s],s,t))},VP=function(t,r,i){if(!$P(r))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=i),GP.call(t)==="[object Array]"?jP(t,r,s):typeof t=="string"?UP(t,r,s):ZP(t,r,s)},HP=VP,WP=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],id=WP,KP=typeof globalThis>"u"?Bn:globalThis,qP=function(){for(var t=[],r=0;r<id.length;r++)typeof KP[id[r]]=="function"&&(t[t.length]=id[r]);return t},Ah=HP,JP=qP,N_=os,G0=en,qc=A0,YP=G0("Object.prototype.toString"),zw=Go(),$_=typeof globalThis>"u"?Bn:globalThis,wm=JP(),j0=G0("String.prototype.slice"),od=Object.getPrototypeOf,XP=G0("Array.prototype.indexOf",!0)||function(t,r){for(var i=0;i<t.length;i+=1)if(t[i]===r)return i;return-1},Th={__proto__:null};zw&&qc&&od?Ah(wm,function(e){var t=new $_[e];if(Symbol.toStringTag in t){var r=od(t),i=qc(r,Symbol.toStringTag);if(!i){var s=od(r);i=qc(s,Symbol.toStringTag)}Th["$"+e]=N_(i.get)}}):Ah(wm,function(e){var t=new $_[e],r=t.slice||t.set;r&&(Th["$"+e]=N_(r))});var QP=function(t){var r=!1;return Ah(Th,function(i,s){if(!r)try{"$"+i(t)===s&&(r=j0(s,1))}catch{}}),r},eS=function(t){var r=!1;return Ah(Th,function(i,s){if(!r)try{i(t),r=j0(s,1)}catch{}}),r},tS=function(t){if(!t||typeof t!="object")return!1;if(!zw){var r=j0(YP(t),8,-1);return XP(wm,r)>-1?r:r!=="Object"?!1:eS(t)}return qc?QP(t):null},rS=en,G_=rS("ArrayBuffer.prototype.byteLength",!0),nS=Bw,iS=function(t){return nS(t)?G_?G_(t):t.byteLength:NaN},Nw=Rk,zn=en,j_=ax,oS=In,Qa=wM,aS=_w,U_=SM,Z_=cw,V_=vw,H_=Bw,W_=zM,K_=jM,q_=ZM,J_=M0,Y_=vP,X_=PP,Q_=tS,ev=iS,tv=zn("SharedArrayBuffer.prototype.byteLength",!0),rv=zn("Date.prototype.getTime"),ad=Object.getPrototypeOf,nv=zn("Object.prototype.toString"),Dh=oS("%Set%",!0),Lm=zn("Map.prototype.has",!0),Oh=zn("Map.prototype.get",!0),iv=zn("Map.prototype.size",!0),Fh=zn("Set.prototype.add",!0),$w=zn("Set.prototype.delete",!0),Rh=zn("Set.prototype.has",!0),Jc=zn("Set.prototype.size",!0);function ov(e,t,r,i){for(var s=Qa(e),l;(l=s.next())&&!l.done;)if(gn(t,l.value,r,i))return $w(e,l.value),!0;return!1}function Gw(e){if(typeof e>"u")return null;if(typeof e!="object")return typeof e=="symbol"?!1:typeof e=="string"||typeof e=="number"?+e==+e:!0}function sS(e,t,r,i,s,l){var p=Gw(r);if(p!=null)return p;var _=Oh(t,p),y=Nw({},s,{strict:!1});return typeof _>"u"&&!Lm(t,p)||!gn(i,_,y,l)?!1:!Lm(e,p)&&gn(i,_,y,l)}function uS(e,t,r){var i=Gw(r);return i??(Rh(t,i)&&!Rh(e,i))}function av(e,t,r,i,s,l){for(var p=Qa(e),_,y;(_=p.next())&&!_.done;)if(y=_.value,gn(r,y,s,l)&&gn(i,Oh(t,y),s,l))return $w(e,y),!0;return!1}function gn(e,t,r,i){var s=r||{};if(s.strict?U_(e,t):e===t)return!0;var l=Y_(e),p=Y_(t);if(l!==p)return!1;if(!e||!t||typeof e!="object"&&typeof t!="object")return s.strict?U_(e,t):e==t;var _=i.has(e),y=i.has(t),P;if(_&&y){if(i.get(e)===i.get(t))return!0}else P={};return _||i.set(e,P),y||i.set(t,P),hS(e,t,s,i)}function sv(e){return!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function lS(e,t,r,i){if(Jc(e)!==Jc(t))return!1;for(var s=Qa(e),l=Qa(t),p,_,y;(p=s.next())&&!p.done;)if(p.value&&typeof p.value=="object")y||(y=new Dh),Fh(y,p.value);else if(!Rh(t,p.value)){if(r.strict||!uS(e,t,p.value))return!1;y||(y=new Dh),Fh(y,p.value)}if(y){for(;(_=l.next())&&!_.done;)if(_.value&&typeof _.value=="object"){if(!ov(y,_.value,r.strict,i))return!1}else if(!r.strict&&!Rh(e,_.value)&&!ov(y,_.value,r.strict,i))return!1;return Jc(y)===0}return!0}function cS(e,t,r,i){if(iv(e)!==iv(t))return!1;for(var s=Qa(e),l=Qa(t),p,_,y,P,x,A;(p=s.next())&&!p.done;)if(P=p.value[0],x=p.value[1],P&&typeof P=="object")y||(y=new Dh),Fh(y,P);else if(A=Oh(t,P),typeof A>"u"&&!Lm(t,P)||!gn(x,A,r,i)){if(r.strict||!sS(e,t,P,x,r,i))return!1;y||(y=new Dh),Fh(y,P)}if(y){for(;(_=l.next())&&!_.done;)if(P=_.value[0],A=_.value[1],P&&typeof P=="object"){if(!av(y,e,P,A,r,i))return!1}else if(!r.strict&&(!e.has(P)||!gn(Oh(e,P),A,r,i))&&!av(y,e,P,A,Nw({},r,{strict:!1}),i))return!1;return Jc(y)===0}return!0}function hS(e,t,r,i){var s,l;if(typeof e!=typeof t||e==null||t==null||nv(e)!==nv(t)||Z_(e)!==Z_(t))return!1;var p=V_(e),_=V_(t);if(p!==_)return!1;var y=e instanceof Error,P=t instanceof Error;if(y!==P||(y||P)&&(e.name!==t.name||e.message!==t.message))return!1;var x=K_(e),A=K_(t);if(x!==A||(x||A)&&(e.source!==t.source||j_(e)!==j_(t)))return!1;var E=W_(e),I=W_(t);if(E!==I||(E||I)&&rv(e)!==rv(t)||r.strict&&ad&&ad(e)!==ad(t))return!1;var J=Q_(e),W=Q_(t);if(J!==W)return!1;if(J||W){if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}var ye=sv(e),j=sv(t);if(ye!==j)return!1;if(ye||j){if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}var $=H_(e),G=H_(t);if($!==G)return!1;if($||G)return ev(e)!==ev(t)?!1:typeof Uint8Array=="function"&&gn(new Uint8Array(e),new Uint8Array(t),r,i);var ae=q_(e),se=q_(t);if(ae!==se)return!1;if(ae||se)return tv(e)!==tv(t)?!1:typeof Uint8Array=="function"&&gn(new Uint8Array(e),new Uint8Array(t),r,i);if(typeof e!=typeof t)return!1;var de=J_(e),ge=J_(t);if(de.length!==ge.length)return!1;for(de.sort(),ge.sort(),s=de.length-1;s>=0;s--)if(de[s]!=ge[s])return!1;for(s=de.length-1;s>=0;s--)if(l=de[s],!gn(e[l],t[l],r,i))return!1;var ve=X_(e),Ze=X_(t);return ve!==Ze?!1:ve==="Set"||Ze==="Set"?lS(e,t,r,i):ve==="Map"?cS(e,t,r,i):!0}var fS=function(t,r,i){return gn(t,r,i,aS())};const jo=Bm(fS);var pS=Object.defineProperty,Xe=(e,t)=>pS(e,"name",{value:t,configurable:!0}),dS=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,s;this.precision=10**-((r=t==null?void 0:t.precision)!=null?r:17),this.direction=(i=t==null?void 0:t.direction)!=null?i:!1,this.compareProperties=(s=t==null?void 0:t.compareProperties)!=null?s:!0}compare(t,r){if(t.type!==r.type||!du(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=Cm(t),s=Cm(r);return i.every(l=>s.some(p=>this.compare(l,p)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,s)=>Math.abs(i-r[s])<this.precision)}compareLine(t,r,i=0,s=!1){if(!du(t,r))return!1;const l=t;let p=r;if(s&&!this.compareCoord(l[0],p[0])){const y=this.fixStartIndex(p,l);if(y)p=y;else return!1}const _=this.compareCoord(l[i],p[i]);return this.direction||_?this.comparePath(l,p):this.compareCoord(l[i],p[p.length-(1+i)])?this.comparePath(l.slice().reverse(),p):!1}fixStartIndex(t,r){let i,s=-1;for(let l=0;l<t.length;l++)if(this.compareCoord(t[l],r[0])){s=l;break}return s>=0&&(i=[].concat(t.slice(s,t.length),t.slice(1,s+1))),i}comparePath(t,r){return t.every((i,s)=>this.compareCoord(i,r[s]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),s=r.coordinates.slice(1,r.coordinates.length);return i.every(l=>s.some(p=>this.compareLine(l,p,1,!0)))}return!1}compareGeometryCollection(t,r){return du(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,s)=>this.compare(i,r.geometries[s]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?jo(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return du(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,s)=>this.compare(i,r.features[s]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};Xe(dS,"GeojsonEquality");function du(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}Xe(du,"sameLength");function Cm(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}Xe(Cm,"explode");var Pr=63710088e-1,jw={centimeters:Pr*100,centimetres:Pr*100,degrees:360/(2*Math.PI),feet:Pr*3.28084,inches:Pr*39.37,kilometers:Pr/1e3,kilometres:Pr/1e3,meters:Pr,metres:Pr,miles:Pr/1609.344,millimeters:Pr*1e3,millimetres:Pr*1e3,nauticalmiles:Pr/1852,radians:1,yards:Pr*1.0936},uv={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function to(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}Xe(to,"feature");function mS(e,t,r={}){switch(e){case"Point":return U0(t).geometry;case"LineString":return V0(t).geometry;case"Polygon":return Z0(t).geometry;case"MultiPoint":return Zw(t).geometry;case"MultiLineString":return Uw(t).geometry;case"MultiPolygon":return Vw(t).geometry;default:throw new Error(e+" is invalid")}}Xe(mS,"geometry");function U0(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!es(e[0])||!es(e[1]))throw new Error("coordinates must contain numbers");return to({type:"Point",coordinates:e},t,r)}Xe(U0,"point");function gS(e,t,r={}){return cf(e.map(i=>U0(i,t)),r)}Xe(gS,"points");function Z0(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return to({type:"Polygon",coordinates:e},t,r)}Xe(Z0,"polygon");function yS(e,t,r={}){return cf(e.map(i=>Z0(i,t)),r)}Xe(yS,"polygons");function V0(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return to({type:"LineString",coordinates:e},t,r)}Xe(V0,"lineString");function _S(e,t,r={}){return cf(e.map(i=>V0(i,t)),r)}Xe(_S,"lineStrings");function cf(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}Xe(cf,"featureCollection");function Uw(e,t,r={}){return to({type:"MultiLineString",coordinates:e},t,r)}Xe(Uw,"multiLineString");function Zw(e,t,r={}){return to({type:"MultiPoint",coordinates:e},t,r)}Xe(Zw,"multiPoint");function Vw(e,t,r={}){return to({type:"MultiPolygon",coordinates:e},t,r)}Xe(Vw,"multiPolygon");function vS(e,t,r={}){return to({type:"GeometryCollection",geometries:e},t,r)}Xe(vS,"geometryCollection");function wS(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}Xe(wS,"round");function Hw(e,t="kilometers"){const r=jw[t];if(!r)throw new Error(t+" units is invalid");return e*r}Xe(Hw,"radiansToLength");function H0(e,t="kilometers"){const r=jw[t];if(!r)throw new Error(t+" units is invalid");return e/r}Xe(H0,"lengthToRadians");function LS(e,t){return Ww(H0(e,t))}Xe(LS,"lengthToDegrees");function CS(e){let t=e%360;return t<0&&(t+=360),t}Xe(CS,"bearingToAzimuth");function Ww(e){return e%(2*Math.PI)*180/Math.PI}Xe(Ww,"radiansToDegrees");function bS(e){return e%360*Math.PI/180}Xe(bS,"degreesToRadians");function ES(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return Hw(H0(e,t),r)}Xe(ES,"convertLength");function kS(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const i=uv[t];if(!i)throw new Error("invalid original units");const s=uv[r];if(!s)throw new Error("invalid final units");return e/i*s}Xe(kS,"convertArea");function es(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}Xe(es,"isNumber");function xS(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}Xe(xS,"isObject");function MS(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!es(t))throw new Error("bbox must only contain numbers")})}Xe(MS,"validateBBox");function PS(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}Xe(PS,"validateId");var SS=Object.defineProperty,ro=(e,t)=>SS(e,"name",{value:t,configurable:!0});function Qu(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}ro(Qu,"getCoord");function BS(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}ro(BS,"getCoords");function Kw(e){if(e.length>1&&es(e[0])&&es(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return Kw(e[0]);throw new Error("coordinates must only contain numbers")}ro(Kw,"containsNumber");function AS(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}ro(AS,"geojsonType");function TS(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}ro(TS,"featureOf");function DS(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(const i of e.features){if(!i||i.type!=="Feature"||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}}ro(DS,"collectionOf");function el(e){return e.type==="Feature"?e.geometry:e}ro(el,"getGeom");function OS(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}ro(OS,"getType");var FS=Object.defineProperty,Qe=(e,t)=>FS(e,"name",{value:t,configurable:!0}),RS=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,s;this.precision=10**-((r=t==null?void 0:t.precision)!=null?r:17),this.direction=(i=t==null?void 0:t.direction)!=null?i:!1,this.compareProperties=(s=t==null?void 0:t.compareProperties)!=null?s:!0}compare(t,r){if(t.type!==r.type||!mu(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=bm(t),s=bm(r);return i.every(l=>s.some(p=>this.compare(l,p)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,s)=>Math.abs(i-r[s])<this.precision)}compareLine(t,r,i=0,s=!1){if(!mu(t,r))return!1;const l=t;let p=r;if(s&&!this.compareCoord(l[0],p[0])){const y=this.fixStartIndex(p,l);if(y)p=y;else return!1}const _=this.compareCoord(l[i],p[i]);return this.direction||_?this.comparePath(l,p):this.compareCoord(l[i],p[p.length-(1+i)])?this.comparePath(l.slice().reverse(),p):!1}fixStartIndex(t,r){let i,s=-1;for(let l=0;l<t.length;l++)if(this.compareCoord(t[l],r[0])){s=l;break}return s>=0&&(i=[].concat(t.slice(s,t.length),t.slice(1,s+1))),i}comparePath(t,r){return t.every((i,s)=>this.compareCoord(i,r[s]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),s=r.coordinates.slice(1,r.coordinates.length);return i.every(l=>s.some(p=>this.compareLine(l,p,1,!0)))}return!1}compareGeometryCollection(t,r){return mu(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,s)=>this.compare(i,r.geometries[s]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?jo(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return mu(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,s)=>this.compare(i,r.features[s]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};Qe(RS,"GeojsonEquality");function mu(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}Qe(mu,"sameLength");function bm(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}Qe(bm,"explode");var Sr=63710088e-1,qw={centimeters:Sr*100,centimetres:Sr*100,degrees:360/(2*Math.PI),feet:Sr*3.28084,inches:Sr*39.37,kilometers:Sr/1e3,kilometres:Sr/1e3,meters:Sr,metres:Sr,miles:Sr/1609.344,millimeters:Sr*1e3,millimetres:Sr*1e3,nauticalmiles:Sr/1852,radians:1,yards:Sr*1.0936},lv={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Dn(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}Qe(Dn,"feature");function IS(e,t,r={}){switch(e){case"Point":return ei(t).geometry;case"LineString":return oi(t).geometry;case"Polygon":return W0(t).geometry;case"MultiPoint":return Yw(t).geometry;case"MultiLineString":return Jw(t).geometry;case"MultiPolygon":return Xw(t).geometry;default:throw new Error(e+" is invalid")}}Qe(IS,"geometry");function ei(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ih(e[0])||!Ih(e[1]))throw new Error("coordinates must contain numbers");return Dn({type:"Point",coordinates:e},t,r)}Qe(ei,"point");function zS(e,t,r={}){return hf(e.map(i=>ei(i,t)),r)}Qe(zS,"points");function W0(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return Dn({type:"Polygon",coordinates:e},t,r)}Qe(W0,"polygon");function NS(e,t,r={}){return hf(e.map(i=>W0(i,t)),r)}Qe(NS,"polygons");function oi(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Dn({type:"LineString",coordinates:e},t,r)}Qe(oi,"lineString");function $S(e,t,r={}){return hf(e.map(i=>oi(i,t)),r)}Qe($S,"lineStrings");function hf(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}Qe(hf,"featureCollection");function Jw(e,t,r={}){return Dn({type:"MultiLineString",coordinates:e},t,r)}Qe(Jw,"multiLineString");function Yw(e,t,r={}){return Dn({type:"MultiPoint",coordinates:e},t,r)}Qe(Yw,"multiPoint");function Xw(e,t,r={}){return Dn({type:"MultiPolygon",coordinates:e},t,r)}Qe(Xw,"multiPolygon");function GS(e,t,r={}){return Dn({type:"GeometryCollection",geometries:e},t,r)}Qe(GS,"geometryCollection");function jS(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}Qe(jS,"round");function Qw(e,t="kilometers"){const r=qw[t];if(!r)throw new Error(t+" units is invalid");return e*r}Qe(Qw,"radiansToLength");function K0(e,t="kilometers"){const r=qw[t];if(!r)throw new Error(t+" units is invalid");return e/r}Qe(K0,"lengthToRadians");function US(e,t){return e3(K0(e,t))}Qe(US,"lengthToDegrees");function ZS(e){let t=e%360;return t<0&&(t+=360),t}Qe(ZS,"bearingToAzimuth");function e3(e){return e%(2*Math.PI)*180/Math.PI}Qe(e3,"radiansToDegrees");function VS(e){return e%360*Math.PI/180}Qe(VS,"degreesToRadians");function HS(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return Qw(K0(e,t),r)}Qe(HS,"convertLength");function WS(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const i=lv[t];if(!i)throw new Error("invalid original units");const s=lv[r];if(!s)throw new Error("invalid final units");return e/i*s}Qe(WS,"convertArea");function Ih(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}Qe(Ih,"isNumber");function q0(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}Qe(q0,"isObject");function KS(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!Ih(t))throw new Error("bbox must only contain numbers")})}Qe(KS,"validateBBox");function qS(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}Qe(qS,"validateId");var JS=Object.defineProperty,Wt=(e,t)=>JS(e,"name",{value:t,configurable:!0});function ss(e,t,r){if(e!==null)for(var i,s,l,p,_,y,P,x=0,A=0,E,I=e.type,J=I==="FeatureCollection",W=I==="Feature",ye=J?e.features.length:1,j=0;j<ye;j++){P=J?e.features[j].geometry:W?e.geometry:e,E=P?P.type==="GeometryCollection":!1,_=E?P.geometries.length:1;for(var $=0;$<_;$++){var G=0,ae=0;if(p=E?P.geometries[$]:P,p!==null){y=p.coordinates;var se=p.type;switch(x=r&&(se==="Polygon"||se==="MultiPolygon")?1:0,se){case null:break;case"Point":if(t(y,A,j,G,ae)===!1)return!1;A++,G++;break;case"LineString":case"MultiPoint":for(i=0;i<y.length;i++){if(t(y[i],A,j,G,ae)===!1)return!1;A++,se==="MultiPoint"&&G++}se==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(i=0;i<y.length;i++){for(s=0;s<y[i].length-x;s++){if(t(y[i][s],A,j,G,ae)===!1)return!1;A++}se==="MultiLineString"&&G++,se==="Polygon"&&ae++}se==="Polygon"&&G++;break;case"MultiPolygon":for(i=0;i<y.length;i++){for(ae=0,s=0;s<y[i].length;s++){for(l=0;l<y[i][s].length-x;l++){if(t(y[i][s][l],A,j,G,ae)===!1)return!1;A++}ae++}G++}break;case"GeometryCollection":for(i=0;i<p.geometries.length;i++)if(ss(p.geometries[i],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}Wt(ss,"coordEach");function YS(e,t,r,i){var s=r;return ss(e,function(l,p,_,y,P){p===0&&r===void 0?s=l:s=t(s,l,p,_,y,P)},i),s}Wt(YS,"coordReduce");function t3(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&t(e.features[r].properties,r)!==!1;r++);break;case"Feature":t(e.properties,0);break}}Wt(t3,"propEach");function XS(e,t,r){var i=r;return t3(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}Wt(XS,"propReduce");function r3(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}Wt(r3,"featureEach");function QS(e,t,r){var i=r;return r3(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}Wt(QS,"featureReduce");function eB(e){var t=[];return ss(e,function(r){t.push(r)}),t}Wt(eB,"coordAll");function J0(e,t){var r,i,s,l,p,_,y,P,x,A,E=0,I=e.type==="FeatureCollection",J=e.type==="Feature",W=I?e.features.length:1;for(r=0;r<W;r++){for(_=I?e.features[r].geometry:J?e.geometry:e,P=I?e.features[r].properties:J?e.properties:{},x=I?e.features[r].bbox:J?e.bbox:void 0,A=I?e.features[r].id:J?e.id:void 0,y=_?_.type==="GeometryCollection":!1,p=y?_.geometries.length:1,s=0;s<p;s++){if(l=y?_.geometries[s]:_,l===null){if(t(null,E,P,x,A)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,E,P,x,A)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<l.geometries.length;i++)if(t(l.geometries[i],E,P,x,A)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}E++}}Wt(J0,"geomEach");function tB(e,t,r){var i=r;return J0(e,function(s,l,p,_,y){l===0&&r===void 0?i=s:i=t(i,s,l,p,_,y)}),i}Wt(tB,"geomReduce");function ff(e,t){J0(e,function(r,i,s,l,p){var _=r===null?null:r.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return t(Dn(r,s,{bbox:l,id:p}),i,0)===!1?!1:void 0}var y;switch(_){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var P=0;P<r.coordinates.length;P++){var x=r.coordinates[P],A={type:y,coordinates:x};if(t(Dn(A,s),i,P)===!1)return!1}})}Wt(ff,"flattenEach");function rB(e,t,r){var i=r;return ff(e,function(s,l,p){l===0&&p===0&&r===void 0?i=s:i=t(i,s,l,p)}),i}Wt(rB,"flattenReduce");function n3(e,t){ff(e,function(r,i,s){var l=0;if(r.geometry){var p=r.geometry.type;if(!(p==="Point"||p==="MultiPoint")){var _,y=0,P=0,x=0;if(ss(r,function(A,E,I,J,W){if(_===void 0||i>y||J>P||W>x){_=A,y=i,P=J,x=W,l=0;return}var ye=oi([_,A],r.properties);if(t(ye,i,s,W,l)===!1)return!1;l++,_=A})===!1)return!1}}})}Wt(n3,"segmentEach");function nB(e,t,r){var i=r,s=!1;return n3(e,function(l,p,_,y,P){s===!1&&r===void 0?i=l:i=t(i,l,p,_,y,P),s=!0}),i}Wt(nB,"segmentReduce");function i3(e,t){if(!e)throw new Error("geojson is required");ff(e,function(r,i,s){if(r.geometry!==null){var l=r.geometry.type,p=r.geometry.coordinates;switch(l){case"LineString":if(t(r,i,s,0,0)===!1)return!1;break;case"Polygon":for(var _=0;_<p.length;_++)if(t(oi(p[_],r.properties),i,s,_)===!1)return!1;break}}})}Wt(i3,"lineEach");function iB(e,t,r){var i=r;return i3(e,function(s,l,p,_){l===0&&r===void 0?i=s:i=t(i,s,l,p,_)}),i}Wt(iB,"lineReduce");function oB(e,t){if(t=t||{},!q0(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.segmentIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":case"MultiPoint":return null;case"LineString":return l<0&&(l=y.length+l-1),oi([y[l],y[l+1]],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l-1),oi([y[s][l],y[s][l+1]],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l-1),oi([y[i][l],y[i][l+1]],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l-1),oi([y[i][s][l],y[i][s][l+1]],p,t)}throw new Error("geojson is invalid")}Wt(oB,"findSegment");function aB(e,t){if(t=t||{},!q0(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.coordIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":return ei(y,p,t);case"MultiPoint":return i<0&&(i=y.length+i),ei(y[i],p,t);case"LineString":return l<0&&(l=y.length+l),ei(y[l],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l),ei(y[s][l],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l),ei(y[i][l],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l),ei(y[i][s][l],p,t)}throw new Error("geojson is invalid")}Wt(aB,"findPoint");var sB=Object.defineProperty,uB=(e,t)=>sB(e,"name",{value:t,configurable:!0});function pf(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const r=[1/0,1/0,-1/0,-1/0];return ss(e,i=>{r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}uB(pf,"bbox");var lB=Object.defineProperty,et=(e,t)=>lB(e,"name",{value:t,configurable:!0}),cB=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,s;this.precision=10**-((r=t==null?void 0:t.precision)!=null?r:17),this.direction=(i=t==null?void 0:t.direction)!=null?i:!1,this.compareProperties=(s=t==null?void 0:t.compareProperties)!=null?s:!0}compare(t,r){if(t.type!==r.type||!gu(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=Em(t),s=Em(r);return i.every(l=>s.some(p=>this.compare(l,p)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,s)=>Math.abs(i-r[s])<this.precision)}compareLine(t,r,i=0,s=!1){if(!gu(t,r))return!1;const l=t;let p=r;if(s&&!this.compareCoord(l[0],p[0])){const y=this.fixStartIndex(p,l);if(y)p=y;else return!1}const _=this.compareCoord(l[i],p[i]);return this.direction||_?this.comparePath(l,p):this.compareCoord(l[i],p[p.length-(1+i)])?this.comparePath(l.slice().reverse(),p):!1}fixStartIndex(t,r){let i,s=-1;for(let l=0;l<t.length;l++)if(this.compareCoord(t[l],r[0])){s=l;break}return s>=0&&(i=[].concat(t.slice(s,t.length),t.slice(1,s+1))),i}comparePath(t,r){return t.every((i,s)=>this.compareCoord(i,r[s]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),s=r.coordinates.slice(1,r.coordinates.length);return i.every(l=>s.some(p=>this.compareLine(l,p,1,!0)))}return!1}compareGeometryCollection(t,r){return gu(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,s)=>this.compare(i,r.geometries[s]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?jo(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return gu(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,s)=>this.compare(i,r.features[s]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};et(cB,"GeojsonEquality");function gu(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}et(gu,"sameLength");function Em(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}et(Em,"explode");var Br=63710088e-1,o3={centimeters:Br*100,centimetres:Br*100,degrees:360/(2*Math.PI),feet:Br*3.28084,inches:Br*39.37,kilometers:Br/1e3,kilometres:Br/1e3,meters:Br,metres:Br,miles:Br/1609.344,millimeters:Br*1e3,millimetres:Br*1e3,nauticalmiles:Br/1852,radians:1,yards:Br*1.0936},cv={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function no(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}et(no,"feature");function hB(e,t,r={}){switch(e){case"Point":return df(t).geometry;case"LineString":return X0(t).geometry;case"Polygon":return Y0(t).geometry;case"MultiPoint":return s3(t).geometry;case"MultiLineString":return a3(t).geometry;case"MultiPolygon":return u3(t).geometry;default:throw new Error(e+" is invalid")}}et(hB,"geometry");function df(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zh(e[0])||!zh(e[1]))throw new Error("coordinates must contain numbers");return no({type:"Point",coordinates:e},t,r)}et(df,"point");function fB(e,t,r={}){return mf(e.map(i=>df(i,t)),r)}et(fB,"points");function Y0(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return no({type:"Polygon",coordinates:e},t,r)}et(Y0,"polygon");function pB(e,t,r={}){return mf(e.map(i=>Y0(i,t)),r)}et(pB,"polygons");function X0(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return no({type:"LineString",coordinates:e},t,r)}et(X0,"lineString");function dB(e,t,r={}){return mf(e.map(i=>X0(i,t)),r)}et(dB,"lineStrings");function mf(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}et(mf,"featureCollection");function a3(e,t,r={}){return no({type:"MultiLineString",coordinates:e},t,r)}et(a3,"multiLineString");function s3(e,t,r={}){return no({type:"MultiPoint",coordinates:e},t,r)}et(s3,"multiPoint");function u3(e,t,r={}){return no({type:"MultiPolygon",coordinates:e},t,r)}et(u3,"multiPolygon");function mB(e,t,r={}){return no({type:"GeometryCollection",geometries:e},t,r)}et(mB,"geometryCollection");function gB(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}et(gB,"round");function l3(e,t="kilometers"){const r=o3[t];if(!r)throw new Error(t+" units is invalid");return e*r}et(l3,"radiansToLength");function Q0(e,t="kilometers"){const r=o3[t];if(!r)throw new Error(t+" units is invalid");return e/r}et(Q0,"lengthToRadians");function yB(e,t){return c3(Q0(e,t))}et(yB,"lengthToDegrees");function _B(e){let t=e%360;return t<0&&(t+=360),t}et(_B,"bearingToAzimuth");function c3(e){return e%(2*Math.PI)*180/Math.PI}et(c3,"radiansToDegrees");function vB(e){return e%360*Math.PI/180}et(vB,"degreesToRadians");function wB(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return l3(Q0(e,t),r)}et(wB,"convertLength");function LB(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const i=cv[t];if(!i)throw new Error("invalid original units");const s=cv[r];if(!s)throw new Error("invalid final units");return e/i*s}et(LB,"convertArea");function zh(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}et(zh,"isNumber");function CB(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}et(CB,"isObject");function bB(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!zh(t))throw new Error("bbox must only contain numbers")})}et(bB,"validateBBox");function EB(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}et(EB,"validateId");var kB=Object.defineProperty,xB=(e,t)=>kB(e,"name",{value:t,configurable:!0});function eg(e,t={}){const r=pf(e),i=(r[0]+r[2])/2,s=(r[1]+r[3])/2;return df([i,s],t.properties,t)}xB(eg,"center");var MB=eg,PB=Object.defineProperty,tt=(e,t)=>PB(e,"name",{value:t,configurable:!0}),SB=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,s;this.precision=10**-((r=t==null?void 0:t.precision)!=null?r:17),this.direction=(i=t==null?void 0:t.direction)!=null?i:!1,this.compareProperties=(s=t==null?void 0:t.compareProperties)!=null?s:!0}compare(t,r){if(t.type!==r.type||!yu(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=km(t),s=km(r);return i.every(l=>s.some(p=>this.compare(l,p)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,s)=>Math.abs(i-r[s])<this.precision)}compareLine(t,r,i=0,s=!1){if(!yu(t,r))return!1;const l=t;let p=r;if(s&&!this.compareCoord(l[0],p[0])){const y=this.fixStartIndex(p,l);if(y)p=y;else return!1}const _=this.compareCoord(l[i],p[i]);return this.direction||_?this.comparePath(l,p):this.compareCoord(l[i],p[p.length-(1+i)])?this.comparePath(l.slice().reverse(),p):!1}fixStartIndex(t,r){let i,s=-1;for(let l=0;l<t.length;l++)if(this.compareCoord(t[l],r[0])){s=l;break}return s>=0&&(i=[].concat(t.slice(s,t.length),t.slice(1,s+1))),i}comparePath(t,r){return t.every((i,s)=>this.compareCoord(i,r[s]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),s=r.coordinates.slice(1,r.coordinates.length);return i.every(l=>s.some(p=>this.compareLine(l,p,1,!0)))}return!1}compareGeometryCollection(t,r){return yu(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,s)=>this.compare(i,r.geometries[s]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?jo(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return yu(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,s)=>this.compare(i,r.features[s]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};tt(SB,"GeojsonEquality");function yu(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}tt(yu,"sameLength");function km(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}tt(km,"explode");var Ar=63710088e-1,h3={centimeters:Ar*100,centimetres:Ar*100,degrees:360/(2*Math.PI),feet:Ar*3.28084,inches:Ar*39.37,kilometers:Ar/1e3,kilometres:Ar/1e3,meters:Ar,metres:Ar,miles:Ar/1609.344,millimeters:Ar*1e3,millimetres:Ar*1e3,nauticalmiles:Ar/1852,radians:1,yards:Ar*1.0936},hv={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function On(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}tt(On,"feature");function BB(e,t,r={}){switch(e){case"Point":return ti(t).geometry;case"LineString":return ai(t).geometry;case"Polygon":return tg(t).geometry;case"MultiPoint":return p3(t).geometry;case"MultiLineString":return f3(t).geometry;case"MultiPolygon":return d3(t).geometry;default:throw new Error(e+" is invalid")}}tt(BB,"geometry");function ti(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Nh(e[0])||!Nh(e[1]))throw new Error("coordinates must contain numbers");return On({type:"Point",coordinates:e},t,r)}tt(ti,"point");function AB(e,t,r={}){return gf(e.map(i=>ti(i,t)),r)}tt(AB,"points");function tg(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return On({type:"Polygon",coordinates:e},t,r)}tt(tg,"polygon");function TB(e,t,r={}){return gf(e.map(i=>tg(i,t)),r)}tt(TB,"polygons");function ai(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return On({type:"LineString",coordinates:e},t,r)}tt(ai,"lineString");function DB(e,t,r={}){return gf(e.map(i=>ai(i,t)),r)}tt(DB,"lineStrings");function gf(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}tt(gf,"featureCollection");function f3(e,t,r={}){return On({type:"MultiLineString",coordinates:e},t,r)}tt(f3,"multiLineString");function p3(e,t,r={}){return On({type:"MultiPoint",coordinates:e},t,r)}tt(p3,"multiPoint");function d3(e,t,r={}){return On({type:"MultiPolygon",coordinates:e},t,r)}tt(d3,"multiPolygon");function OB(e,t,r={}){return On({type:"GeometryCollection",geometries:e},t,r)}tt(OB,"geometryCollection");function FB(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}tt(FB,"round");function m3(e,t="kilometers"){const r=h3[t];if(!r)throw new Error(t+" units is invalid");return e*r}tt(m3,"radiansToLength");function rg(e,t="kilometers"){const r=h3[t];if(!r)throw new Error(t+" units is invalid");return e/r}tt(rg,"lengthToRadians");function RB(e,t){return g3(rg(e,t))}tt(RB,"lengthToDegrees");function IB(e){let t=e%360;return t<0&&(t+=360),t}tt(IB,"bearingToAzimuth");function g3(e){return e%(2*Math.PI)*180/Math.PI}tt(g3,"radiansToDegrees");function zB(e){return e%360*Math.PI/180}tt(zB,"degreesToRadians");function NB(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return m3(rg(e,t),r)}tt(NB,"convertLength");function $B(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const i=hv[t];if(!i)throw new Error("invalid original units");const s=hv[r];if(!s)throw new Error("invalid final units");return e/i*s}tt($B,"convertArea");function Nh(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}tt(Nh,"isNumber");function yf(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}tt(yf,"isObject");function GB(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!Nh(t))throw new Error("bbox must only contain numbers")})}tt(GB,"validateBBox");function jB(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}tt(jB,"validateId");var UB=Object.defineProperty,Kt=(e,t)=>UB(e,"name",{value:t,configurable:!0});function us(e,t,r){if(e!==null)for(var i,s,l,p,_,y,P,x=0,A=0,E,I=e.type,J=I==="FeatureCollection",W=I==="Feature",ye=J?e.features.length:1,j=0;j<ye;j++){P=J?e.features[j].geometry:W?e.geometry:e,E=P?P.type==="GeometryCollection":!1,_=E?P.geometries.length:1;for(var $=0;$<_;$++){var G=0,ae=0;if(p=E?P.geometries[$]:P,p!==null){y=p.coordinates;var se=p.type;switch(x=r&&(se==="Polygon"||se==="MultiPolygon")?1:0,se){case null:break;case"Point":if(t(y,A,j,G,ae)===!1)return!1;A++,G++;break;case"LineString":case"MultiPoint":for(i=0;i<y.length;i++){if(t(y[i],A,j,G,ae)===!1)return!1;A++,se==="MultiPoint"&&G++}se==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(i=0;i<y.length;i++){for(s=0;s<y[i].length-x;s++){if(t(y[i][s],A,j,G,ae)===!1)return!1;A++}se==="MultiLineString"&&G++,se==="Polygon"&&ae++}se==="Polygon"&&G++;break;case"MultiPolygon":for(i=0;i<y.length;i++){for(ae=0,s=0;s<y[i].length;s++){for(l=0;l<y[i][s].length-x;l++){if(t(y[i][s][l],A,j,G,ae)===!1)return!1;A++}ae++}G++}break;case"GeometryCollection":for(i=0;i<p.geometries.length;i++)if(us(p.geometries[i],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}Kt(us,"coordEach");function ZB(e,t,r,i){var s=r;return us(e,function(l,p,_,y,P){p===0&&r===void 0?s=l:s=t(s,l,p,_,y,P)},i),s}Kt(ZB,"coordReduce");function y3(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&t(e.features[r].properties,r)!==!1;r++);break;case"Feature":t(e.properties,0);break}}Kt(y3,"propEach");function VB(e,t,r){var i=r;return y3(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}Kt(VB,"propReduce");function _3(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}Kt(_3,"featureEach");function HB(e,t,r){var i=r;return _3(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}Kt(HB,"featureReduce");function WB(e){var t=[];return us(e,function(r){t.push(r)}),t}Kt(WB,"coordAll");function ng(e,t){var r,i,s,l,p,_,y,P,x,A,E=0,I=e.type==="FeatureCollection",J=e.type==="Feature",W=I?e.features.length:1;for(r=0;r<W;r++){for(_=I?e.features[r].geometry:J?e.geometry:e,P=I?e.features[r].properties:J?e.properties:{},x=I?e.features[r].bbox:J?e.bbox:void 0,A=I?e.features[r].id:J?e.id:void 0,y=_?_.type==="GeometryCollection":!1,p=y?_.geometries.length:1,s=0;s<p;s++){if(l=y?_.geometries[s]:_,l===null){if(t(null,E,P,x,A)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,E,P,x,A)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<l.geometries.length;i++)if(t(l.geometries[i],E,P,x,A)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}E++}}Kt(ng,"geomEach");function KB(e,t,r){var i=r;return ng(e,function(s,l,p,_,y){l===0&&r===void 0?i=s:i=t(i,s,l,p,_,y)}),i}Kt(KB,"geomReduce");function _f(e,t){ng(e,function(r,i,s,l,p){var _=r===null?null:r.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return t(On(r,s,{bbox:l,id:p}),i,0)===!1?!1:void 0}var y;switch(_){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var P=0;P<r.coordinates.length;P++){var x=r.coordinates[P],A={type:y,coordinates:x};if(t(On(A,s),i,P)===!1)return!1}})}Kt(_f,"flattenEach");function qB(e,t,r){var i=r;return _f(e,function(s,l,p){l===0&&p===0&&r===void 0?i=s:i=t(i,s,l,p)}),i}Kt(qB,"flattenReduce");function v3(e,t){_f(e,function(r,i,s){var l=0;if(r.geometry){var p=r.geometry.type;if(!(p==="Point"||p==="MultiPoint")){var _,y=0,P=0,x=0;if(us(r,function(A,E,I,J,W){if(_===void 0||i>y||J>P||W>x){_=A,y=i,P=J,x=W,l=0;return}var ye=ai([_,A],r.properties);if(t(ye,i,s,W,l)===!1)return!1;l++,_=A})===!1)return!1}}})}Kt(v3,"segmentEach");function JB(e,t,r){var i=r,s=!1;return v3(e,function(l,p,_,y,P){s===!1&&r===void 0?i=l:i=t(i,l,p,_,y,P),s=!0}),i}Kt(JB,"segmentReduce");function w3(e,t){if(!e)throw new Error("geojson is required");_f(e,function(r,i,s){if(r.geometry!==null){var l=r.geometry.type,p=r.geometry.coordinates;switch(l){case"LineString":if(t(r,i,s,0,0)===!1)return!1;break;case"Polygon":for(var _=0;_<p.length;_++)if(t(ai(p[_],r.properties),i,s,_)===!1)return!1;break}}})}Kt(w3,"lineEach");function YB(e,t,r){var i=r;return w3(e,function(s,l,p,_){l===0&&r===void 0?i=s:i=t(i,s,l,p,_)}),i}Kt(YB,"lineReduce");function XB(e,t){if(t=t||{},!yf(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.segmentIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":case"MultiPoint":return null;case"LineString":return l<0&&(l=y.length+l-1),ai([y[l],y[l+1]],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l-1),ai([y[s][l],y[s][l+1]],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l-1),ai([y[i][l],y[i][l+1]],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l-1),ai([y[i][s][l],y[i][s][l+1]],p,t)}throw new Error("geojson is invalid")}Kt(XB,"findSegment");function QB(e,t){if(t=t||{},!yf(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.coordIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":return ti(y,p,t);case"MultiPoint":return i<0&&(i=y.length+i),ti(y[i],p,t);case"LineString":return l<0&&(l=y.length+l),ti(y[l],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l),ti(y[s][l],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l),ti(y[i][l],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l),ti(y[i][s][l],p,t)}throw new Error("geojson is invalid")}Kt(QB,"findPoint");var eA=Object.defineProperty,ls=(e,t)=>eA(e,"name",{value:t,configurable:!0});function ig(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return og(e);case"FeatureCollection":return L3(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return vf(e);default:throw new Error("unknown GeoJSON type")}}ls(ig,"clone");function og(e){const t={type:"Feature"};return Object.keys(e).forEach(r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}}),t.properties=ag(e.properties),e.geometry==null?t.geometry=null:t.geometry=vf(e.geometry),t}ls(og,"cloneFeature");function ag(e){const t={};return e&&Object.keys(e).forEach(r=>{const i=e[r];typeof i=="object"?i===null?t[r]=null:Array.isArray(i)?t[r]=i.map(s=>s):t[r]=ag(i):t[r]=i}),t}ls(ag,"cloneProperties");function L3(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}}),t.features=e.features.map(r=>og(r)),t}ls(L3,"cloneFeatureCollection");function vf(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(r=>vf(r)),t):(t.coordinates=sg(e.coordinates),t)}ls(vf,"cloneGeometry");function sg(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(r=>sg(r))}ls(sg,"deepSlice");var tA=Object.defineProperty,rA=(e,t)=>tA(e,"name",{value:t,configurable:!0});function C3(e,t){var r;if(t=t||{},!yf(t))throw new Error("options is invalid");const i=(r=t.mutate)!=null?r:!1;if(!e)throw new Error("geojson is required");return(i===!1||i===void 0)&&(e=ig(e)),us(e,function(s){var l=s[0],p=s[1];s[0]=p,s[1]=l}),e}rA(C3,"flip");var nA=C3;function Ou(e){return e&&Qu(nA(MB(e)))}const b3=e=>[[e[1],e[0]],[e[3],e[2]]];var iA=Object.defineProperty,rt=(e,t)=>iA(e,"name",{value:t,configurable:!0}),oA=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,s;this.precision=10**-((r=t==null?void 0:t.precision)!=null?r:17),this.direction=(i=t==null?void 0:t.direction)!=null?i:!1,this.compareProperties=(s=t==null?void 0:t.compareProperties)!=null?s:!0}compare(t,r){if(t.type!==r.type||!_u(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=xm(t),s=xm(r);return i.every(l=>s.some(p=>this.compare(l,p)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,s)=>Math.abs(i-r[s])<this.precision)}compareLine(t,r,i=0,s=!1){if(!_u(t,r))return!1;const l=t;let p=r;if(s&&!this.compareCoord(l[0],p[0])){const y=this.fixStartIndex(p,l);if(y)p=y;else return!1}const _=this.compareCoord(l[i],p[i]);return this.direction||_?this.comparePath(l,p):this.compareCoord(l[i],p[p.length-(1+i)])?this.comparePath(l.slice().reverse(),p):!1}fixStartIndex(t,r){let i,s=-1;for(let l=0;l<t.length;l++)if(this.compareCoord(t[l],r[0])){s=l;break}return s>=0&&(i=[].concat(t.slice(s,t.length),t.slice(1,s+1))),i}comparePath(t,r){return t.every((i,s)=>this.compareCoord(i,r[s]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),s=r.coordinates.slice(1,r.coordinates.length);return i.every(l=>s.some(p=>this.compareLine(l,p,1,!0)))}return!1}compareGeometryCollection(t,r){return _u(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,s)=>this.compare(i,r.geometries[s]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?jo(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return _u(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,s)=>this.compare(i,r.features[s]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};rt(oA,"GeojsonEquality");function _u(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}rt(_u,"sameLength");function xm(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}rt(xm,"explode");var Tr=63710088e-1,E3={centimeters:Tr*100,centimetres:Tr*100,degrees:360/(2*Math.PI),feet:Tr*3.28084,inches:Tr*39.37,kilometers:Tr/1e3,kilometres:Tr/1e3,meters:Tr,metres:Tr,miles:Tr/1609.344,millimeters:Tr*1e3,millimetres:Tr*1e3,nauticalmiles:Tr/1852,radians:1,yards:Tr*1.0936},fv={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Fn(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}rt(Fn,"feature");function aA(e,t,r={}){switch(e){case"Point":return qr(t).geometry;case"LineString":return si(t).geometry;case"Polygon":return ug(t).geometry;case"MultiPoint":return x3(t).geometry;case"MultiLineString":return k3(t).geometry;case"MultiPolygon":return M3(t).geometry;default:throw new Error(e+" is invalid")}}rt(aA,"geometry");function qr(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!$h(e[0])||!$h(e[1]))throw new Error("coordinates must contain numbers");return Fn({type:"Point",coordinates:e},t,r)}rt(qr,"point");function sA(e,t,r={}){return ul(e.map(i=>qr(i,t)),r)}rt(sA,"points");function ug(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return Fn({type:"Polygon",coordinates:e},t,r)}rt(ug,"polygon");function uA(e,t,r={}){return ul(e.map(i=>ug(i,t)),r)}rt(uA,"polygons");function si(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Fn({type:"LineString",coordinates:e},t,r)}rt(si,"lineString");function lA(e,t,r={}){return ul(e.map(i=>si(i,t)),r)}rt(lA,"lineStrings");function ul(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}rt(ul,"featureCollection");function k3(e,t,r={}){return Fn({type:"MultiLineString",coordinates:e},t,r)}rt(k3,"multiLineString");function x3(e,t,r={}){return Fn({type:"MultiPoint",coordinates:e},t,r)}rt(x3,"multiPoint");function M3(e,t,r={}){return Fn({type:"MultiPolygon",coordinates:e},t,r)}rt(M3,"multiPolygon");function cA(e,t,r={}){return Fn({type:"GeometryCollection",geometries:e},t,r)}rt(cA,"geometryCollection");function hA(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}rt(hA,"round");function P3(e,t="kilometers"){const r=E3[t];if(!r)throw new Error(t+" units is invalid");return e*r}rt(P3,"radiansToLength");function lg(e,t="kilometers"){const r=E3[t];if(!r)throw new Error(t+" units is invalid");return e/r}rt(lg,"lengthToRadians");function fA(e,t){return S3(lg(e,t))}rt(fA,"lengthToDegrees");function pA(e){let t=e%360;return t<0&&(t+=360),t}rt(pA,"bearingToAzimuth");function S3(e){return e%(2*Math.PI)*180/Math.PI}rt(S3,"radiansToDegrees");function dA(e){return e%360*Math.PI/180}rt(dA,"degreesToRadians");function mA(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return P3(lg(e,t),r)}rt(mA,"convertLength");function gA(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const i=fv[t];if(!i)throw new Error("invalid original units");const s=fv[r];if(!s)throw new Error("invalid final units");return e/i*s}rt(gA,"convertArea");function $h(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}rt($h,"isNumber");function cg(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}rt(cg,"isObject");function yA(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!$h(t))throw new Error("bbox must only contain numbers")})}rt(yA,"validateBBox");function _A(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}rt(_A,"validateId");var vA=Object.defineProperty,qt=(e,t)=>vA(e,"name",{value:t,configurable:!0});function Hi(e,t,r){if(e!==null)for(var i,s,l,p,_,y,P,x=0,A=0,E,I=e.type,J=I==="FeatureCollection",W=I==="Feature",ye=J?e.features.length:1,j=0;j<ye;j++){P=J?e.features[j].geometry:W?e.geometry:e,E=P?P.type==="GeometryCollection":!1,_=E?P.geometries.length:1;for(var $=0;$<_;$++){var G=0,ae=0;if(p=E?P.geometries[$]:P,p!==null){y=p.coordinates;var se=p.type;switch(x=r&&(se==="Polygon"||se==="MultiPolygon")?1:0,se){case null:break;case"Point":if(t(y,A,j,G,ae)===!1)return!1;A++,G++;break;case"LineString":case"MultiPoint":for(i=0;i<y.length;i++){if(t(y[i],A,j,G,ae)===!1)return!1;A++,se==="MultiPoint"&&G++}se==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(i=0;i<y.length;i++){for(s=0;s<y[i].length-x;s++){if(t(y[i][s],A,j,G,ae)===!1)return!1;A++}se==="MultiLineString"&&G++,se==="Polygon"&&ae++}se==="Polygon"&&G++;break;case"MultiPolygon":for(i=0;i<y.length;i++){for(ae=0,s=0;s<y[i].length;s++){for(l=0;l<y[i][s].length-x;l++){if(t(y[i][s][l],A,j,G,ae)===!1)return!1;A++}ae++}G++}break;case"GeometryCollection":for(i=0;i<p.geometries.length;i++)if(Hi(p.geometries[i],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}qt(Hi,"coordEach");function wA(e,t,r,i){var s=r;return Hi(e,function(l,p,_,y,P){p===0&&r===void 0?s=l:s=t(s,l,p,_,y,P)},i),s}qt(wA,"coordReduce");function B3(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&t(e.features[r].properties,r)!==!1;r++);break;case"Feature":t(e.properties,0);break}}qt(B3,"propEach");function LA(e,t,r){var i=r;return B3(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}qt(LA,"propReduce");function hg(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}qt(hg,"featureEach");function CA(e,t,r){var i=r;return hg(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}qt(CA,"featureReduce");function bA(e){var t=[];return Hi(e,function(r){t.push(r)}),t}qt(bA,"coordAll");function fg(e,t){var r,i,s,l,p,_,y,P,x,A,E=0,I=e.type==="FeatureCollection",J=e.type==="Feature",W=I?e.features.length:1;for(r=0;r<W;r++){for(_=I?e.features[r].geometry:J?e.geometry:e,P=I?e.features[r].properties:J?e.properties:{},x=I?e.features[r].bbox:J?e.bbox:void 0,A=I?e.features[r].id:J?e.id:void 0,y=_?_.type==="GeometryCollection":!1,p=y?_.geometries.length:1,s=0;s<p;s++){if(l=y?_.geometries[s]:_,l===null){if(t(null,E,P,x,A)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,E,P,x,A)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<l.geometries.length;i++)if(t(l.geometries[i],E,P,x,A)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}E++}}qt(fg,"geomEach");function EA(e,t,r){var i=r;return fg(e,function(s,l,p,_,y){l===0&&r===void 0?i=s:i=t(i,s,l,p,_,y)}),i}qt(EA,"geomReduce");function wf(e,t){fg(e,function(r,i,s,l,p){var _=r===null?null:r.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return t(Fn(r,s,{bbox:l,id:p}),i,0)===!1?!1:void 0}var y;switch(_){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var P=0;P<r.coordinates.length;P++){var x=r.coordinates[P],A={type:y,coordinates:x};if(t(Fn(A,s),i,P)===!1)return!1}})}qt(wf,"flattenEach");function kA(e,t,r){var i=r;return wf(e,function(s,l,p){l===0&&p===0&&r===void 0?i=s:i=t(i,s,l,p)}),i}qt(kA,"flattenReduce");function A3(e,t){wf(e,function(r,i,s){var l=0;if(r.geometry){var p=r.geometry.type;if(!(p==="Point"||p==="MultiPoint")){var _,y=0,P=0,x=0;if(Hi(r,function(A,E,I,J,W){if(_===void 0||i>y||J>P||W>x){_=A,y=i,P=J,x=W,l=0;return}var ye=si([_,A],r.properties);if(t(ye,i,s,W,l)===!1)return!1;l++,_=A})===!1)return!1}}})}qt(A3,"segmentEach");function xA(e,t,r){var i=r,s=!1;return A3(e,function(l,p,_,y,P){s===!1&&r===void 0?i=l:i=t(i,l,p,_,y,P),s=!0}),i}qt(xA,"segmentReduce");function T3(e,t){if(!e)throw new Error("geojson is required");wf(e,function(r,i,s){if(r.geometry!==null){var l=r.geometry.type,p=r.geometry.coordinates;switch(l){case"LineString":if(t(r,i,s,0,0)===!1)return!1;break;case"Polygon":for(var _=0;_<p.length;_++)if(t(si(p[_],r.properties),i,s,_)===!1)return!1;break}}})}qt(T3,"lineEach");function MA(e,t,r){var i=r;return T3(e,function(s,l,p,_){l===0&&r===void 0?i=s:i=t(i,s,l,p,_)}),i}qt(MA,"lineReduce");function PA(e,t){if(t=t||{},!cg(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.segmentIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":case"MultiPoint":return null;case"LineString":return l<0&&(l=y.length+l-1),si([y[l],y[l+1]],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l-1),si([y[s][l],y[s][l+1]],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l-1),si([y[i][l],y[i][l+1]],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l-1),si([y[i][s][l],y[i][s][l+1]],p,t)}throw new Error("geojson is invalid")}qt(PA,"findSegment");function SA(e,t){if(t=t||{},!cg(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.coordIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":return qr(y,p,t);case"MultiPoint":return i<0&&(i=y.length+i),qr(y[i],p,t);case"LineString":return l<0&&(l=y.length+l),qr(y[l],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l),qr(y[s][l],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l),qr(y[i][l],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l),qr(y[i][s][l],p,t)}throw new Error("geojson is invalid")}qt(SA,"findPoint");var BA=Object.defineProperty,AA=(e,t)=>BA(e,"name",{value:t,configurable:!0});function D3(e){const t=[];return e.type==="FeatureCollection"?hg(e,function(r){Hi(r,function(i){t.push(qr(i,r.properties))})}):e.type==="Feature"?Hi(e,function(r){t.push(qr(r,e.properties))}):Hi(e,function(r){t.push(qr(r))}),ul(t)}AA(D3,"explode");var TA=Object.defineProperty,nt=(e,t)=>TA(e,"name",{value:t,configurable:!0}),DA=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,s;this.precision=10**-((r=t==null?void 0:t.precision)!=null?r:17),this.direction=(i=t==null?void 0:t.direction)!=null?i:!1,this.compareProperties=(s=t==null?void 0:t.compareProperties)!=null?s:!0}compare(t,r){if(t.type!==r.type||!vu(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=Mm(t),s=Mm(r);return i.every(l=>s.some(p=>this.compare(l,p)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,s)=>Math.abs(i-r[s])<this.precision)}compareLine(t,r,i=0,s=!1){if(!vu(t,r))return!1;const l=t;let p=r;if(s&&!this.compareCoord(l[0],p[0])){const y=this.fixStartIndex(p,l);if(y)p=y;else return!1}const _=this.compareCoord(l[i],p[i]);return this.direction||_?this.comparePath(l,p):this.compareCoord(l[i],p[p.length-(1+i)])?this.comparePath(l.slice().reverse(),p):!1}fixStartIndex(t,r){let i,s=-1;for(let l=0;l<t.length;l++)if(this.compareCoord(t[l],r[0])){s=l;break}return s>=0&&(i=[].concat(t.slice(s,t.length),t.slice(1,s+1))),i}comparePath(t,r){return t.every((i,s)=>this.compareCoord(i,r[s]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),s=r.coordinates.slice(1,r.coordinates.length);return i.every(l=>s.some(p=>this.compareLine(l,p,1,!0)))}return!1}compareGeometryCollection(t,r){return vu(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,s)=>this.compare(i,r.geometries[s]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?jo(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return vu(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,s)=>this.compare(i,r.features[s]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};nt(DA,"GeojsonEquality");function vu(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}nt(vu,"sameLength");function Mm(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}nt(Mm,"explode");var Dr=63710088e-1,O3={centimeters:Dr*100,centimetres:Dr*100,degrees:360/(2*Math.PI),feet:Dr*3.28084,inches:Dr*39.37,kilometers:Dr/1e3,kilometres:Dr/1e3,meters:Dr,metres:Dr,miles:Dr/1609.344,millimeters:Dr*1e3,millimetres:Dr*1e3,nauticalmiles:Dr/1852,radians:1,yards:Dr*1.0936},pv={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Rn(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}nt(Rn,"feature");function OA(e,t,r={}){switch(e){case"Point":return ri(t).geometry;case"LineString":return ui(t).geometry;case"Polygon":return pg(t).geometry;case"MultiPoint":return R3(t).geometry;case"MultiLineString":return F3(t).geometry;case"MultiPolygon":return I3(t).geometry;default:throw new Error(e+" is invalid")}}nt(OA,"geometry");function ri(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Gh(e[0])||!Gh(e[1]))throw new Error("coordinates must contain numbers");return Rn({type:"Point",coordinates:e},t,r)}nt(ri,"point");function FA(e,t,r={}){return Lf(e.map(i=>ri(i,t)),r)}nt(FA,"points");function pg(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return Rn({type:"Polygon",coordinates:e},t,r)}nt(pg,"polygon");function RA(e,t,r={}){return Lf(e.map(i=>pg(i,t)),r)}nt(RA,"polygons");function ui(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Rn({type:"LineString",coordinates:e},t,r)}nt(ui,"lineString");function IA(e,t,r={}){return Lf(e.map(i=>ui(i,t)),r)}nt(IA,"lineStrings");function Lf(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}nt(Lf,"featureCollection");function F3(e,t,r={}){return Rn({type:"MultiLineString",coordinates:e},t,r)}nt(F3,"multiLineString");function R3(e,t,r={}){return Rn({type:"MultiPoint",coordinates:e},t,r)}nt(R3,"multiPoint");function I3(e,t,r={}){return Rn({type:"MultiPolygon",coordinates:e},t,r)}nt(I3,"multiPolygon");function zA(e,t,r={}){return Rn({type:"GeometryCollection",geometries:e},t,r)}nt(zA,"geometryCollection");function NA(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}nt(NA,"round");function dg(e,t="kilometers"){const r=O3[t];if(!r)throw new Error(t+" units is invalid");return e*r}nt(dg,"radiansToLength");function mg(e,t="kilometers"){const r=O3[t];if(!r)throw new Error(t+" units is invalid");return e/r}nt(mg,"lengthToRadians");function $A(e,t){return z3(mg(e,t))}nt($A,"lengthToDegrees");function GA(e){let t=e%360;return t<0&&(t+=360),t}nt(GA,"bearingToAzimuth");function z3(e){return e%(2*Math.PI)*180/Math.PI}nt(z3,"radiansToDegrees");function wu(e){return e%360*Math.PI/180}nt(wu,"degreesToRadians");function jA(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return dg(mg(e,t),r)}nt(jA,"convertLength");function UA(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const i=pv[t];if(!i)throw new Error("invalid original units");const s=pv[r];if(!s)throw new Error("invalid final units");return e/i*s}nt(UA,"convertArea");function Gh(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}nt(Gh,"isNumber");function gg(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}nt(gg,"isObject");function ZA(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!Gh(t))throw new Error("bbox must only contain numbers")})}nt(ZA,"validateBBox");function VA(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}nt(VA,"validateId");var HA=Object.defineProperty,WA=(e,t)=>HA(e,"name",{value:t,configurable:!0});function N3(e,t,r={}){var i=Qu(e),s=Qu(t),l=wu(s[1]-i[1]),p=wu(s[0]-i[0]),_=wu(i[1]),y=wu(s[1]),P=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(p/2),2)*Math.cos(_)*Math.cos(y);return dg(2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P)),r.units)}WA(N3,"distance");var KA=Object.defineProperty,Jt=(e,t)=>KA(e,"name",{value:t,configurable:!0});function ll(e,t,r){if(e!==null)for(var i,s,l,p,_,y,P,x=0,A=0,E,I=e.type,J=I==="FeatureCollection",W=I==="Feature",ye=J?e.features.length:1,j=0;j<ye;j++){P=J?e.features[j].geometry:W?e.geometry:e,E=P?P.type==="GeometryCollection":!1,_=E?P.geometries.length:1;for(var $=0;$<_;$++){var G=0,ae=0;if(p=E?P.geometries[$]:P,p!==null){y=p.coordinates;var se=p.type;switch(x=r&&(se==="Polygon"||se==="MultiPolygon")?1:0,se){case null:break;case"Point":if(t(y,A,j,G,ae)===!1)return!1;A++,G++;break;case"LineString":case"MultiPoint":for(i=0;i<y.length;i++){if(t(y[i],A,j,G,ae)===!1)return!1;A++,se==="MultiPoint"&&G++}se==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(i=0;i<y.length;i++){for(s=0;s<y[i].length-x;s++){if(t(y[i][s],A,j,G,ae)===!1)return!1;A++}se==="MultiLineString"&&G++,se==="Polygon"&&ae++}se==="Polygon"&&G++;break;case"MultiPolygon":for(i=0;i<y.length;i++){for(ae=0,s=0;s<y[i].length;s++){for(l=0;l<y[i][s].length-x;l++){if(t(y[i][s][l],A,j,G,ae)===!1)return!1;A++}ae++}G++}break;case"GeometryCollection":for(i=0;i<p.geometries.length;i++)if(ll(p.geometries[i],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}Jt(ll,"coordEach");function qA(e,t,r,i){var s=r;return ll(e,function(l,p,_,y,P){p===0&&r===void 0?s=l:s=t(s,l,p,_,y,P)},i),s}Jt(qA,"coordReduce");function $3(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&t(e.features[r].properties,r)!==!1;r++);break;case"Feature":t(e.properties,0);break}}Jt($3,"propEach");function JA(e,t,r){var i=r;return $3(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}Jt(JA,"propReduce");function yg(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}Jt(yg,"featureEach");function YA(e,t,r){var i=r;return yg(e,function(s,l){l===0&&r===void 0?i=s:i=t(i,s,l)}),i}Jt(YA,"featureReduce");function XA(e){var t=[];return ll(e,function(r){t.push(r)}),t}Jt(XA,"coordAll");function _g(e,t){var r,i,s,l,p,_,y,P,x,A,E=0,I=e.type==="FeatureCollection",J=e.type==="Feature",W=I?e.features.length:1;for(r=0;r<W;r++){for(_=I?e.features[r].geometry:J?e.geometry:e,P=I?e.features[r].properties:J?e.properties:{},x=I?e.features[r].bbox:J?e.bbox:void 0,A=I?e.features[r].id:J?e.id:void 0,y=_?_.type==="GeometryCollection":!1,p=y?_.geometries.length:1,s=0;s<p;s++){if(l=y?_.geometries[s]:_,l===null){if(t(null,E,P,x,A)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,E,P,x,A)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<l.geometries.length;i++)if(t(l.geometries[i],E,P,x,A)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}E++}}Jt(_g,"geomEach");function QA(e,t,r){var i=r;return _g(e,function(s,l,p,_,y){l===0&&r===void 0?i=s:i=t(i,s,l,p,_,y)}),i}Jt(QA,"geomReduce");function Cf(e,t){_g(e,function(r,i,s,l,p){var _=r===null?null:r.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return t(Rn(r,s,{bbox:l,id:p}),i,0)===!1?!1:void 0}var y;switch(_){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var P=0;P<r.coordinates.length;P++){var x=r.coordinates[P],A={type:y,coordinates:x};if(t(Rn(A,s),i,P)===!1)return!1}})}Jt(Cf,"flattenEach");function eT(e,t,r){var i=r;return Cf(e,function(s,l,p){l===0&&p===0&&r===void 0?i=s:i=t(i,s,l,p)}),i}Jt(eT,"flattenReduce");function G3(e,t){Cf(e,function(r,i,s){var l=0;if(r.geometry){var p=r.geometry.type;if(!(p==="Point"||p==="MultiPoint")){var _,y=0,P=0,x=0;if(ll(r,function(A,E,I,J,W){if(_===void 0||i>y||J>P||W>x){_=A,y=i,P=J,x=W,l=0;return}var ye=ui([_,A],r.properties);if(t(ye,i,s,W,l)===!1)return!1;l++,_=A})===!1)return!1}}})}Jt(G3,"segmentEach");function tT(e,t,r){var i=r,s=!1;return G3(e,function(l,p,_,y,P){s===!1&&r===void 0?i=l:i=t(i,l,p,_,y,P),s=!0}),i}Jt(tT,"segmentReduce");function j3(e,t){if(!e)throw new Error("geojson is required");Cf(e,function(r,i,s){if(r.geometry!==null){var l=r.geometry.type,p=r.geometry.coordinates;switch(l){case"LineString":if(t(r,i,s,0,0)===!1)return!1;break;case"Polygon":for(var _=0;_<p.length;_++)if(t(ui(p[_],r.properties),i,s,_)===!1)return!1;break}}})}Jt(j3,"lineEach");function rT(e,t,r){var i=r;return j3(e,function(s,l,p,_){l===0&&r===void 0?i=s:i=t(i,s,l,p,_)}),i}Jt(rT,"lineReduce");function nT(e,t){if(t=t||{},!gg(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.segmentIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":case"MultiPoint":return null;case"LineString":return l<0&&(l=y.length+l-1),ui([y[l],y[l+1]],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l-1),ui([y[s][l],y[s][l+1]],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l-1),ui([y[i][l],y[i][l+1]],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l-1),ui([y[i][s][l],y[i][s][l+1]],p,t)}throw new Error("geojson is invalid")}Jt(nT,"findSegment");function iT(e,t){if(t=t||{},!gg(t))throw new Error("options is invalid");var r=t.featureIndex||0,i=t.multiFeatureIndex||0,s=t.geometryIndex||0,l=t.coordIndex||0,p=t.properties,_;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),p=p||e.features[r].properties,_=e.features[r].geometry;break;case"Feature":p=p||e.properties,_=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":_=e;break;default:throw new Error("geojson is invalid")}if(_===null)return null;var y=_.coordinates;switch(_.type){case"Point":return ri(y,p,t);case"MultiPoint":return i<0&&(i=y.length+i),ri(y[i],p,t);case"LineString":return l<0&&(l=y.length+l),ri(y[l],p,t);case"Polygon":return s<0&&(s=y.length+s),l<0&&(l=y[s].length+l),ri(y[s][l],p,t);case"MultiLineString":return i<0&&(i=y.length+i),l<0&&(l=y[i].length+l),ri(y[i][l],p,t);case"MultiPolygon":return i<0&&(i=y.length+i),s<0&&(s=y[i].length+s),l<0&&(l=y[i][s].length-l),ri(y[i][s][l],p,t)}throw new Error("geojson is invalid")}Jt(iT,"findPoint");var U3=Object.defineProperty,oT=Object.defineProperties,aT=Object.getOwnPropertyDescriptors,dv=Object.getOwnPropertySymbols,sT=Object.prototype.hasOwnProperty,uT=Object.prototype.propertyIsEnumerable,mv=(e,t,r)=>t in e?U3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gv=(e,t)=>{for(var r in t||(t={}))sT.call(t,r)&&mv(e,r,t[r]);if(dv)for(var r of dv(t))uT.call(t,r)&&mv(e,r,t[r]);return e},yv=(e,t)=>oT(e,aT(t)),lT=(e,t)=>U3(e,"name",{value:t,configurable:!0});function Z3(e,t,r={}){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");let i=1/0,s=0;yg(t,(p,_)=>{const y=N3(e,p,r);y<i&&(s=_,i=y)});const l=ig(t.features[s]);return yv(gv({},l),{properties:yv(gv({},l.properties),{featureIndex:s,distanceToPoint:i})})}lT(Z3,"nearestPoint");function cT(e,t){var r=0,i=0,s=0,l=0,p=0,_=0,y=0,P=0,x=null,A=null,E=e[0],I=e[1],J=t.length;for(r;r<J;r++){i=0;var W=t[r].length-1,ye=t[r];if(x=ye[0],x[0]!==ye[W][0]&&x[1]!==ye[W][1])throw new Error("First and last coordinates in a ring must be the same");for(p=x[0]-E,_=x[1]-I,i;i<W;i++){if(A=ye[i+1],P=A[1]-I,_<0&&P<0||_>0&&P>0){x=A,_=P,p=x[0]-E;continue}if(y=A[0]-e[0],P>0&&_<=0){if(l=p*P-y*_,l>0)s=s+1;else if(l===0)return 0}else if(_>0&&P<=0){if(l=p*P-y*_,l<0)s=s+1;else if(l===0)return 0}else if(P===0&&_<0){if(l=p*P-y*_,l===0)return 0}else if(_===0&&P<0){if(l=p*P-y*_,l===0)return 0}else if(_===0&&P===0){if(y<=0&&p>=0)return 0;if(p<=0&&y>=0)return 0}x=A,_=P,p=y}}return s%2!==0}var hT=Object.defineProperty,V3=(e,t)=>hT(e,"name",{value:t,configurable:!0});function H3(e,t,r={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const i=Qu(e),s=el(t),l=s.type,p=t.bbox;let _=s.coordinates;if(p&&W3(i,p)===!1)return!1;l==="Polygon"&&(_=[_]);let y=!1;for(var P=0;P<_.length;++P){const x=cT(i,_[P]);if(x===0)return!r.ignoreBoundary;x&&(y=!0)}return y}V3(H3,"booleanPointInPolygon");function W3(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}V3(W3,"inBBox");var fT=Object.defineProperty,it=(e,t)=>fT(e,"name",{value:t,configurable:!0}),pT=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,s;this.precision=10**-((r=t==null?void 0:t.precision)!=null?r:17),this.direction=(i=t==null?void 0:t.direction)!=null?i:!1,this.compareProperties=(s=t==null?void 0:t.compareProperties)!=null?s:!0}compare(t,r){if(t.type!==r.type||!Lu(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=Pm(t),s=Pm(r);return i.every(l=>s.some(p=>this.compare(l,p)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,s)=>Math.abs(i-r[s])<this.precision)}compareLine(t,r,i=0,s=!1){if(!Lu(t,r))return!1;const l=t;let p=r;if(s&&!this.compareCoord(l[0],p[0])){const y=this.fixStartIndex(p,l);if(y)p=y;else return!1}const _=this.compareCoord(l[i],p[i]);return this.direction||_?this.comparePath(l,p):this.compareCoord(l[i],p[p.length-(1+i)])?this.comparePath(l.slice().reverse(),p):!1}fixStartIndex(t,r){let i,s=-1;for(let l=0;l<t.length;l++)if(this.compareCoord(t[l],r[0])){s=l;break}return s>=0&&(i=[].concat(t.slice(s,t.length),t.slice(1,s+1))),i}comparePath(t,r){return t.every((i,s)=>this.compareCoord(i,r[s]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),s=r.coordinates.slice(1,r.coordinates.length);return i.every(l=>s.some(p=>this.compareLine(l,p,1,!0)))}return!1}compareGeometryCollection(t,r){return Lu(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,s)=>this.compare(i,r.geometries[s]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?jo(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return Lu(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,s)=>this.compare(i,r.features[s]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};it(pT,"GeojsonEquality");function Lu(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}it(Lu,"sameLength");function Pm(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}it(Pm,"explode");var Or=63710088e-1,K3={centimeters:Or*100,centimetres:Or*100,degrees:360/(2*Math.PI),feet:Or*3.28084,inches:Or*39.37,kilometers:Or/1e3,kilometres:Or/1e3,meters:Or,metres:Or,miles:Or/1609.344,millimeters:Or*1e3,millimetres:Or*1e3,nauticalmiles:Or/1852,radians:1,yards:Or*1.0936},_v={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function mi(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}it(mi,"feature");function dT(e,t,r={}){switch(e){case"Point":return bf(t).geometry;case"LineString":return wg(t).geometry;case"Polygon":return vg(t).geometry;case"MultiPoint":return J3(t).geometry;case"MultiLineString":return q3(t).geometry;case"MultiPolygon":return Y3(t).geometry;default:throw new Error(e+" is invalid")}}it(dT,"geometry");function bf(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!jh(e[0])||!jh(e[1]))throw new Error("coordinates must contain numbers");return mi({type:"Point",coordinates:e},t,r)}it(bf,"point");function mT(e,t,r={}){return Io(e.map(i=>bf(i,t)),r)}it(mT,"points");function vg(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return mi({type:"Polygon",coordinates:e},t,r)}it(vg,"polygon");function gT(e,t,r={}){return Io(e.map(i=>vg(i,t)),r)}it(gT,"polygons");function wg(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return mi({type:"LineString",coordinates:e},t,r)}it(wg,"lineString");function yT(e,t,r={}){return Io(e.map(i=>wg(i,t)),r)}it(yT,"lineStrings");function Io(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}it(Io,"featureCollection");function q3(e,t,r={}){return mi({type:"MultiLineString",coordinates:e},t,r)}it(q3,"multiLineString");function J3(e,t,r={}){return mi({type:"MultiPoint",coordinates:e},t,r)}it(J3,"multiPoint");function Y3(e,t,r={}){return mi({type:"MultiPolygon",coordinates:e},t,r)}it(Y3,"multiPolygon");function _T(e,t,r={}){return mi({type:"GeometryCollection",geometries:e},t,r)}it(_T,"geometryCollection");function vT(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}it(vT,"round");function X3(e,t="kilometers"){const r=K3[t];if(!r)throw new Error(t+" units is invalid");return e*r}it(X3,"radiansToLength");function Lg(e,t="kilometers"){const r=K3[t];if(!r)throw new Error(t+" units is invalid");return e/r}it(Lg,"lengthToRadians");function wT(e,t){return Q3(Lg(e,t))}it(wT,"lengthToDegrees");function LT(e){let t=e%360;return t<0&&(t+=360),t}it(LT,"bearingToAzimuth");function Q3(e){return e%(2*Math.PI)*180/Math.PI}it(Q3,"radiansToDegrees");function CT(e){return e%360*Math.PI/180}it(CT,"degreesToRadians");function bT(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return X3(Lg(e,t),r)}it(bT,"convertLength");function ET(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const i=_v[t];if(!i)throw new Error("invalid original units");const s=_v[r];if(!s)throw new Error("invalid final units");return e/i*s}it(ET,"convertArea");function jh(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}it(jh,"isNumber");function kT(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}it(kT,"isObject");function xT(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!jh(t))throw new Error("bbox must only contain numbers")})}it(xT,"validateBBox");function MT(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}it(MT,"validateId");var PT=Object.defineProperty,Cg=(e,t)=>PT(e,"name",{value:t,configurable:!0});function eL(e){const t=tL(e),r=eg(t);let i=!1,s=0;for(;!i&&s<t.features.length;){const l=t.features[s].geometry;let p,_,y,P,x,A,E=!1;if(l.type==="Point")r.geometry.coordinates[0]===l.coordinates[0]&&r.geometry.coordinates[1]===l.coordinates[1]&&(i=!0);else if(l.type==="MultiPoint"){let I=!1,J=0;for(;!I&&J<l.coordinates.length;)r.geometry.coordinates[0]===l.coordinates[J][0]&&r.geometry.coordinates[1]===l.coordinates[J][1]&&(i=!0,I=!0),J++}else if(l.type==="LineString"){let I=0;for(;!E&&I<l.coordinates.length-1;)p=r.geometry.coordinates[0],_=r.geometry.coordinates[1],y=l.coordinates[I][0],P=l.coordinates[I][1],x=l.coordinates[I+1][0],A=l.coordinates[I+1][1],Sm(p,_,y,P,x,A)&&(E=!0,i=!0),I++}else if(l.type==="MultiLineString"){let I=0;for(;I<l.coordinates.length;){E=!1;let J=0;const W=l.coordinates[I];for(;!E&&J<W.length-1;)p=r.geometry.coordinates[0],_=r.geometry.coordinates[1],y=W[J][0],P=W[J][1],x=W[J+1][0],A=W[J+1][1],Sm(p,_,y,P,x,A)&&(E=!0,i=!0),J++;I++}}else(l.type==="Polygon"||l.type==="MultiPolygon")&&H3(r,l)&&(i=!0);s++}if(i)return r;{const l=Io([]);for(let p=0;p<t.features.length;p++)l.features=l.features.concat(D3(t.features[p]).features);return bf(Z3(r,l).geometry.coordinates)}}Cg(eL,"pointOnFeature");function tL(e){return e.type!=="FeatureCollection"?e.type!=="Feature"?Io([mi(e)]):Io([e]):e}Cg(tL,"normalize");function Sm(e,t,r,i,s,l){const p=Math.sqrt((s-r)*(s-r)+(l-i)*(l-i)),_=Math.sqrt((e-r)*(e-r)+(t-i)*(t-i)),y=Math.sqrt((s-e)*(s-e)+(l-t)*(l-t));return p===_+y}Cg(Sm,"pointOnSegment");function ST(e){const t=$4(),{data:r,$wire:i,state:s,config:l}=e,{latitudeField:p,longitudeField:_,geoJsonField:y,zoomToState:P}=l;if(Ae.useEffect(()=>{if(!s)return;const A=el(s);if(ja.isPoint(A)){t.panTo(Ou(s),{animate:!1});return}if(ja.isGeoJSONObject(A))if(P){const E=b3(pf(s));t.fitBounds(E,{animate:!1})}else t.panTo(Ou(eL(s)))},[]),!r)return null;const x={data:r,eventHandlers:{"pm:update":({layer:A})=>{const E=el(A.toGeoJSON());if(ja.isPoint(E)){const I=Ou(E);p&&i.set(p,I[0]),_&&i.set(_,I[1])}else y&&i.set(y,JSON.stringify(E))}}};return cn.jsx(bE,{...x})}function BT(e,t,r){r===void 0&&(r={});var i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties={},i.geometry=e,i}const vv=window.Alpine,AT={drawMarker:!0,drawCircle:!1,drawCircleMarker:!1,drawPolyline:!1,drawRectangle:!1,drawPolygon:!1,drawText:!1,editMode:!0,dragMode:!1,cutPolygon:!1,removalMode:!1,rotateMode:!1};function TT(e){const t=Ae.useRef(null),{$wire:r,$watch:i,state:s,config:l}=e,{statePath:p,latitudeField:_,longitudeField:y,geoJsonField:P,baseLayers:x,...A}=l,E=vv.raw(s),I={center:A.defaultCenter,zoom:A.defaultZoom,style:{height:"100%"},zoomControl:!1,attributionControl:!1,...A.mapOptions,whenReady:({target:j})=>{setTimeout(()=>j.invalidateSize(),100)}};Ae.useEffect(()=>{i("state",j=>{console.log(j);const $=t.current,G=vv.raw(j),ae=BT(G);if(ye(ae),ja.isPoint(G))$.panTo(Ou(G));else{const se=b3(pf(ae));$.fitBounds(se)}})},[]);const J=j=>{j.target.removeLayer(j.layer),ye(j.layer.toGeoJSON());const $=el(j.layer.toGeoJSON());if(ja.isPoint($)){const G=Ou($);_&&r.set(_,G[0]),y&&r.set(y,G[1])}else P&&r.set(P,$)},[W,ye]=Ae.useState(E);return cn.jsxs(gE,{...I,ref:t,children:[cn.jsx(_E,{}),cn.jsx(Ch,{position:"topright",children:x==null?void 0:x.map(({selected:j=!1,title:$="None",...G},ae)=>cn.jsx(Ch.BaseLayer,{name:$,checked:j,children:cn.jsx(yE,{...G})},ae))}),cn.jsx(wE,{}),W?cn.jsx(ST,{$wire:r,state:E,data:W,config:l}):null,cn.jsx(fE,{children:cn.jsx(CE,{options:{position:"topleft",...AT},globalOptions:{continueDrawing:!1},onCreate:J})})]})}const DT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",OT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",FT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function RT(){iE.Icon.Default.mergeOptions({iconUrl:DT,iconRetinaUrl:OT,shadowUrl:FT})}RT();function IT({state:e,config:t,mapEl:r}){return{state:e,init:function(){const i=T4(r),s={$wire:this.$wire,$watch:this.$watch,state:this.state,config:t};i.render(cn.jsx(TT,{...s}))}}}window.filamentMapField=IT;
